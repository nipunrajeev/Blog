function Dv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ld(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var og={exports:{}},Oa={},sg={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),Lv=Symbol.for("react.portal"),zv=Symbol.for("react.fragment"),jv=Symbol.for("react.strict_mode"),Bv=Symbol.for("react.profiler"),Fv=Symbol.for("react.provider"),_v=Symbol.for("react.context"),$v=Symbol.for("react.forward_ref"),Vv=Symbol.for("react.suspense"),Hv=Symbol.for("react.memo"),Wv=Symbol.for("react.lazy"),uh=Symbol.iterator;function Uv(t){return t===null||typeof t!="object"?null:(t=uh&&t[uh]||t["@@iterator"],typeof t=="function"?t:null)}var lg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ag=Object.assign,ug={};function Wi(t,e,n){this.props=t,this.context=e,this.refs=ug,this.updater=n||lg}Wi.prototype.isReactComponent={};Wi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cg(){}cg.prototype=Wi.prototype;function zd(t,e,n){this.props=t,this.context=e,this.refs=ug,this.updater=n||lg}var jd=zd.prototype=new cg;jd.constructor=zd;ag(jd,Wi.prototype);jd.isPureReactComponent=!0;var ch=Array.isArray,dg=Object.prototype.hasOwnProperty,Bd={current:null},fg={key:!0,ref:!0,__self:!0,__source:!0};function hg(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)dg.call(e,r)&&!fg.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ls,type:t,key:o,ref:s,props:i,_owner:Bd.current}}function Kv(t,e){return{$$typeof:ls,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ls}function qv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dh=/\/+/g;function du(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qv(""+t.key):e.toString(36)}function qs(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ls:case Lv:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+du(s,0):r,ch(i)?(n="",t!=null&&(n=t.replace(dh,"$&/")+"/"),qs(i,e,n,"",function(u){return u})):i!=null&&(Fd(i)&&(i=Kv(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(dh,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ch(t))for(var l=0;l<t.length;l++){o=t[l];var a=r+du(o,l);s+=qs(o,e,n,a,i)}else if(a=Uv(t),typeof a=="function")for(t=a.call(t),l=0;!(o=t.next()).done;)o=o.value,a=r+du(o,l++),s+=qs(o,e,n,a,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ks(t,e,n){if(t==null)return t;var r=[],i=0;return qs(t,r,"","",function(o){return e.call(n,o,i++)}),r}function Jv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tt={current:null},Js={transition:null},Yv={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Js,ReactCurrentOwner:Bd};function pg(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:ks,forEach:function(t,e,n){ks(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ks(t,function(){e++}),e},toArray:function(t){return ks(t,function(e){return e})||[]},only:function(t){if(!Fd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Q.Component=Wi;Q.Fragment=zv;Q.Profiler=Bv;Q.PureComponent=zd;Q.StrictMode=jv;Q.Suspense=Vv;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yv;Q.act=pg;Q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ag({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Bd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)dg.call(e,a)&&!fg.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:ls,type:t.type,key:i,ref:o,props:r,_owner:s}};Q.createContext=function(t){return t={$$typeof:_v,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Fv,_context:t},t.Consumer=t};Q.createElement=hg;Q.createFactory=function(t){var e=hg.bind(null,t);return e.type=t,e};Q.createRef=function(){return{current:null}};Q.forwardRef=function(t){return{$$typeof:$v,render:t}};Q.isValidElement=Fd;Q.lazy=function(t){return{$$typeof:Wv,_payload:{_status:-1,_result:t},_init:Jv}};Q.memo=function(t,e){return{$$typeof:Hv,type:t,compare:e===void 0?null:e}};Q.startTransition=function(t){var e=Js.transition;Js.transition={};try{t()}finally{Js.transition=e}};Q.unstable_act=pg;Q.useCallback=function(t,e){return tt.current.useCallback(t,e)};Q.useContext=function(t){return tt.current.useContext(t)};Q.useDebugValue=function(){};Q.useDeferredValue=function(t){return tt.current.useDeferredValue(t)};Q.useEffect=function(t,e){return tt.current.useEffect(t,e)};Q.useId=function(){return tt.current.useId()};Q.useImperativeHandle=function(t,e,n){return tt.current.useImperativeHandle(t,e,n)};Q.useInsertionEffect=function(t,e){return tt.current.useInsertionEffect(t,e)};Q.useLayoutEffect=function(t,e){return tt.current.useLayoutEffect(t,e)};Q.useMemo=function(t,e){return tt.current.useMemo(t,e)};Q.useReducer=function(t,e,n){return tt.current.useReducer(t,e,n)};Q.useRef=function(t){return tt.current.useRef(t)};Q.useState=function(t){return tt.current.useState(t)};Q.useSyncExternalStore=function(t,e,n){return tt.current.useSyncExternalStore(t,e,n)};Q.useTransition=function(){return tt.current.useTransition()};Q.version="18.3.1";sg.exports=Q;var b=sg.exports;const He=Ld(b),Qv=Dv({__proto__:null,default:He},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv=b,Xv=Symbol.for("react.element"),Zv=Symbol.for("react.fragment"),ek=Object.prototype.hasOwnProperty,tk=Gv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nk={key:!0,ref:!0,__self:!0,__source:!0};function mg(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)ek.call(e,r)&&!nk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Xv,type:t,key:o,ref:s,props:i,_owner:tk.current}}Oa.Fragment=Zv;Oa.jsx=mg;Oa.jsxs=mg;og.exports=Oa;var x=og.exports,gg={exports:{}},yt={},yg={exports:{}},vg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,N){var S=P.length;P.push(N);e:for(;0<S;){var $=S-1>>>1,L=P[$];if(0<i(L,N))P[$]=N,P[S]=L,S=$;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var N=P[0],S=P.pop();if(S!==N){P[0]=S;e:for(var $=0,L=P.length,H=L>>>1;$<H;){var J=2*($+1)-1,oe=P[J],le=J+1,Je=P[le];if(0>i(oe,S))le<L&&0>i(Je,oe)?(P[$]=Je,P[le]=S,$=le):(P[$]=oe,P[J]=S,$=J);else if(le<L&&0>i(Je,S))P[$]=Je,P[le]=S,$=le;else break e}}return N}function i(P,N){var S=P.sortIndex-N.sortIndex;return S!==0?S:P.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var a=[],u=[],c=1,d=null,f=3,p=!1,h=!1,g=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(P){for(var N=n(u);N!==null;){if(N.callback===null)r(u);else if(N.startTime<=P)r(u),N.sortIndex=N.expirationTime,e(a,N);else break;N=n(u)}}function w(P){if(g=!1,v(P),!h)if(n(a)!==null)h=!0,Fe(E);else{var N=n(u);N!==null&&Ee(w,N.startTime-P)}}function E(P,N){h=!1,g&&(g=!1,m(R),R=-1),p=!0;var S=f;try{for(v(N),d=n(a);d!==null&&(!(d.expirationTime>N)||P&&!fe());){var $=d.callback;if(typeof $=="function"){d.callback=null,f=d.priorityLevel;var L=$(d.expirationTime<=N);N=t.unstable_now(),typeof L=="function"?d.callback=L:d===n(a)&&r(a),v(N)}else r(a);d=n(a)}if(d!==null)var H=!0;else{var J=n(u);J!==null&&Ee(w,J.startTime-N),H=!1}return H}finally{d=null,f=S,p=!1}}var C=!1,M=null,R=-1,D=5,V=-1;function fe(){return!(t.unstable_now()-V<D)}function z(){if(M!==null){var P=t.unstable_now();V=P;var N=!0;try{N=M(!0,P)}finally{N?F():(C=!1,M=null)}}else C=!1}var F;if(typeof y=="function")F=function(){y(z)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,G=q.port2;q.port1.onmessage=z,F=function(){G.postMessage(null)}}else F=function(){k(z,0)};function Fe(P){M=P,C||(C=!0,F())}function Ee(P,N){R=k(function(){P(t.unstable_now())},N)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){h||p||(h=!0,Fe(E))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var N=3;break;default:N=f}var S=f;f=N;try{return P()}finally{f=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,N){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var S=f;f=P;try{return N()}finally{f=S}},t.unstable_scheduleCallback=function(P,N,S){var $=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?$+S:$):S=$,P){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=S+L,P={id:c++,callback:N,priorityLevel:P,startTime:S,expirationTime:L,sortIndex:-1},S>$?(P.sortIndex=S,e(u,P),n(a)===null&&P===n(u)&&(g?(m(R),R=-1):g=!0,Ee(w,S-$))):(P.sortIndex=L,e(a,P),h||p||(h=!0,Fe(E))),P},t.unstable_shouldYield=fe,t.unstable_wrapCallback=function(P){var N=f;return function(){var S=f;f=N;try{return P.apply(this,arguments)}finally{f=S}}}})(vg);yg.exports=vg;var rk=yg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik=b,gt=rk;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kg=new Set,Po={};function Kr(t,e){Ai(t,e),Ai(t+"Capture",e)}function Ai(t,e){for(Po[t]=e,t=0;t<e.length;t++)kg.add(e[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fc=Object.prototype.hasOwnProperty,ok=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fh={},hh={};function sk(t){return fc.call(hh,t)?!0:fc.call(fh,t)?!1:ok.test(t)?hh[t]=!0:(fh[t]=!0,!1)}function lk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ak(t,e,n,r){if(e===null||typeof e>"u"||lk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ze[t]=new nt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ze[e]=new nt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ze[t]=new nt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ze[t]=new nt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ze[t]=new nt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ze[t]=new nt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ze[t]=new nt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ze[t]=new nt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ze[t]=new nt(t,5,!1,t.toLowerCase(),null,!1,!1)});var _d=/[\-:]([a-z])/g;function $d(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_d,$d);ze[e]=new nt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_d,$d);ze[e]=new nt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_d,$d);ze[e]=new nt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ze[t]=new nt(t,1,!1,t.toLowerCase(),null,!1,!1)});ze.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ze[t]=new nt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vd(t,e,n,r){var i=ze.hasOwnProperty(e)?ze[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ak(e,n,i,r)&&(n=null),r||i===null?sk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xn=ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xs=Symbol.for("react.element"),li=Symbol.for("react.portal"),ai=Symbol.for("react.fragment"),Hd=Symbol.for("react.strict_mode"),hc=Symbol.for("react.profiler"),xg=Symbol.for("react.provider"),wg=Symbol.for("react.context"),Wd=Symbol.for("react.forward_ref"),pc=Symbol.for("react.suspense"),mc=Symbol.for("react.suspense_list"),Ud=Symbol.for("react.memo"),Pn=Symbol.for("react.lazy"),Sg=Symbol.for("react.offscreen"),ph=Symbol.iterator;function Yi(t){return t===null||typeof t!="object"?null:(t=ph&&t[ph]||t["@@iterator"],typeof t=="function"?t:null)}var de=Object.assign,fu;function so(t){if(fu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);fu=e&&e[1]||""}return`
`+fu+t}var hu=!1;function pu(t,e){if(!t||hu)return"";hu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var a=`
`+i[s].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=s&&0<=l);break}}}finally{hu=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?so(t):""}function uk(t){switch(t.tag){case 5:return so(t.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return t=pu(t.type,!1),t;case 11:return t=pu(t.type.render,!1),t;case 1:return t=pu(t.type,!0),t;default:return""}}function gc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ai:return"Fragment";case li:return"Portal";case hc:return"Profiler";case Hd:return"StrictMode";case pc:return"Suspense";case mc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wg:return(t.displayName||"Context")+".Consumer";case xg:return(t._context.displayName||"Context")+".Provider";case Wd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ud:return e=t.displayName||null,e!==null?e:gc(t.type)||"Memo";case Pn:e=t._payload,t=t._init;try{return gc(t(e))}catch{}}return null}function ck(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gc(e);case 8:return e===Hd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ir(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function dk(t){var e=Cg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ws(t){t._valueTracker||(t._valueTracker=dk(t))}function Eg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cg(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yc(t,e){var n=e.checked;return de({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ir(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bg(t,e){e=e.checked,e!=null&&Vd(t,"checked",e,!1)}function vc(t,e){bg(t,e);var n=ir(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kc(t,e.type,n):e.hasOwnProperty("defaultValue")&&kc(t,e.type,ir(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kc(t,e,n){(e!=="number"||dl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lo=Array.isArray;function wi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ir(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xc(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return de({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(lo(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ir(n)}}function Ng(t,e){var n=ir(e.value),r=ir(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Mg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Mg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ss,Tg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ss=Ss||document.createElement("div"),Ss.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ss.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ao(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var po={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fk=["Webkit","ms","Moz","O"];Object.keys(po).forEach(function(t){fk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),po[e]=po[t]})});function Og(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||po.hasOwnProperty(t)&&po[t]?(""+e).trim():e+"px"}function Pg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Og(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var hk=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sc(t,e){if(e){if(hk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function Cc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=null;function Kd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bc=null,Si=null,Ci=null;function kh(t){if(t=cs(t)){if(typeof bc!="function")throw Error(O(280));var e=t.stateNode;e&&(e=Ia(e),bc(t.stateNode,t.type,e))}}function Ag(t){Si?Ci?Ci.push(t):Ci=[t]:Si=t}function Rg(){if(Si){var t=Si,e=Ci;if(Ci=Si=null,kh(t),e)for(t=0;t<e.length;t++)kh(e[t])}}function Dg(t,e){return t(e)}function Ig(){}var mu=!1;function Lg(t,e,n){if(mu)return t(e,n);mu=!0;try{return Dg(t,e,n)}finally{mu=!1,(Si!==null||Ci!==null)&&(Ig(),Rg())}}function Ro(t,e){var n=t.stateNode;if(n===null)return null;var r=Ia(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var Nc=!1;if(mn)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){Nc=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{Nc=!1}function pk(t,e,n,r,i,o,s,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var mo=!1,fl=null,hl=!1,Mc=null,mk={onError:function(t){mo=!0,fl=t}};function gk(t,e,n,r,i,o,s,l,a){mo=!1,fl=null,pk.apply(mk,arguments)}function yk(t,e,n,r,i,o,s,l,a){if(gk.apply(this,arguments),mo){if(mo){var u=fl;mo=!1,fl=null}else throw Error(O(198));hl||(hl=!0,Mc=u)}}function qr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zg(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xh(t){if(qr(t)!==t)throw Error(O(188))}function vk(t){var e=t.alternate;if(!e){if(e=qr(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return xh(i),t;if(o===r)return xh(i),e;o=o.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function jg(t){return t=vk(t),t!==null?Bg(t):null}function Bg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Bg(t);if(e!==null)return e;t=t.sibling}return null}var Fg=gt.unstable_scheduleCallback,wh=gt.unstable_cancelCallback,kk=gt.unstable_shouldYield,xk=gt.unstable_requestPaint,ge=gt.unstable_now,wk=gt.unstable_getCurrentPriorityLevel,qd=gt.unstable_ImmediatePriority,_g=gt.unstable_UserBlockingPriority,pl=gt.unstable_NormalPriority,Sk=gt.unstable_LowPriority,$g=gt.unstable_IdlePriority,Pa=null,tn=null;function Ck(t){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(Pa,t,void 0,(t.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:Nk,Ek=Math.log,bk=Math.LN2;function Nk(t){return t>>>=0,t===0?32:31-(Ek(t)/bk|0)|0}var Cs=64,Es=4194304;function ao(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ml(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ao(l):(o&=s,o!==0&&(r=ao(o)))}else s=n&~i,s!==0?r=ao(s):o!==0&&(r=ao(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$t(e),i=1<<n,r|=t[n],e&=~i;return r}function Mk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-$t(o),l=1<<s,a=i[s];a===-1?(!(l&n)||l&r)&&(i[s]=Mk(l,e)):a<=e&&(t.expiredLanes|=l),o&=~l}}function Tc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Vg(){var t=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),t}function gu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function as(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$t(e),t[e]=n}function Ok(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$t(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Jd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$t(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ee=0;function Hg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wg,Yd,Ug,Kg,qg,Oc=!1,bs=[],Un=null,Kn=null,qn=null,Do=new Map,Io=new Map,Ln=[],Pk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sh(t,e){switch(t){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":Do.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(e.pointerId)}}function Gi(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=cs(e),e!==null&&Yd(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Ak(t,e,n,r,i){switch(e){case"focusin":return Un=Gi(Un,t,e,n,r,i),!0;case"dragenter":return Kn=Gi(Kn,t,e,n,r,i),!0;case"mouseover":return qn=Gi(qn,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Do.set(o,Gi(Do.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Io.set(o,Gi(Io.get(o)||null,t,e,n,r,i)),!0}return!1}function Jg(t){var e=xr(t.target);if(e!==null){var n=qr(e);if(n!==null){if(e=n.tag,e===13){if(e=zg(n),e!==null){t.blockedOn=e,qg(t.priority,function(){Ug(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ys(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ec=r,n.target.dispatchEvent(r),Ec=null}else return e=cs(n),e!==null&&Yd(e),t.blockedOn=n,!1;e.shift()}return!0}function Ch(t,e,n){Ys(t)&&n.delete(e)}function Rk(){Oc=!1,Un!==null&&Ys(Un)&&(Un=null),Kn!==null&&Ys(Kn)&&(Kn=null),qn!==null&&Ys(qn)&&(qn=null),Do.forEach(Ch),Io.forEach(Ch)}function Xi(t,e){t.blockedOn===e&&(t.blockedOn=null,Oc||(Oc=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,Rk)))}function Lo(t){function e(i){return Xi(i,t)}if(0<bs.length){Xi(bs[0],t);for(var n=1;n<bs.length;n++){var r=bs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Un!==null&&Xi(Un,t),Kn!==null&&Xi(Kn,t),qn!==null&&Xi(qn,t),Do.forEach(e),Io.forEach(e),n=0;n<Ln.length;n++)r=Ln[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ln.length&&(n=Ln[0],n.blockedOn===null);)Jg(n),n.blockedOn===null&&Ln.shift()}var Ei=xn.ReactCurrentBatchConfig,gl=!0;function Dk(t,e,n,r){var i=ee,o=Ei.transition;Ei.transition=null;try{ee=1,Qd(t,e,n,r)}finally{ee=i,Ei.transition=o}}function Ik(t,e,n,r){var i=ee,o=Ei.transition;Ei.transition=null;try{ee=4,Qd(t,e,n,r)}finally{ee=i,Ei.transition=o}}function Qd(t,e,n,r){if(gl){var i=Pc(t,e,n,r);if(i===null)Nu(t,e,r,yl,n),Sh(t,r);else if(Ak(i,t,e,n,r))r.stopPropagation();else if(Sh(t,r),e&4&&-1<Pk.indexOf(t)){for(;i!==null;){var o=cs(i);if(o!==null&&Wg(o),o=Pc(t,e,n,r),o===null&&Nu(t,e,r,yl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Nu(t,e,r,null,n)}}var yl=null;function Pc(t,e,n,r){if(yl=null,t=Kd(r),t=xr(t),t!==null)if(e=qr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zg(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yl=t,null}function Yg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wk()){case qd:return 1;case _g:return 4;case pl:case Sk:return 16;case $g:return 536870912;default:return 16}default:return 16}}var Fn=null,Gd=null,Qs=null;function Qg(){if(Qs)return Qs;var t,e=Gd,n=e.length,r,i="value"in Fn?Fn.value:Fn.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Qs=i.slice(t,1<r?1-r:void 0)}function Gs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ns(){return!0}function Eh(){return!1}function vt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ns:Eh,this.isPropagationStopped=Eh,this}return de(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),e}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xd=vt(Ui),us=de({},Ui,{view:0,detail:0}),Lk=vt(us),yu,vu,Zi,Aa=de({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zi&&(Zi&&t.type==="mousemove"?(yu=t.screenX-Zi.screenX,vu=t.screenY-Zi.screenY):vu=yu=0,Zi=t),yu)},movementY:function(t){return"movementY"in t?t.movementY:vu}}),bh=vt(Aa),zk=de({},Aa,{dataTransfer:0}),jk=vt(zk),Bk=de({},us,{relatedTarget:0}),ku=vt(Bk),Fk=de({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),_k=vt(Fk),$k=de({},Ui,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vk=vt($k),Hk=de({},Ui,{data:0}),Nh=vt(Hk),Wk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kk[t])?!!e[t]:!1}function Zd(){return qk}var Jk=de({},us,{key:function(t){if(t.key){var e=Wk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zd,charCode:function(t){return t.type==="keypress"?Gs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Yk=vt(Jk),Qk=de({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mh=vt(Qk),Gk=de({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zd}),Xk=vt(Gk),Zk=de({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),ex=vt(Zk),tx=de({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nx=vt(tx),rx=[9,13,27,32],ef=mn&&"CompositionEvent"in window,go=null;mn&&"documentMode"in document&&(go=document.documentMode);var ix=mn&&"TextEvent"in window&&!go,Gg=mn&&(!ef||go&&8<go&&11>=go),Th=" ",Oh=!1;function Xg(t,e){switch(t){case"keyup":return rx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ui=!1;function ox(t,e){switch(t){case"compositionend":return Zg(e);case"keypress":return e.which!==32?null:(Oh=!0,Th);case"textInput":return t=e.data,t===Th&&Oh?null:t;default:return null}}function sx(t,e){if(ui)return t==="compositionend"||!ef&&Xg(t,e)?(t=Qg(),Qs=Gd=Fn=null,ui=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gg&&e.locale!=="ko"?null:e.data;default:return null}}var lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ph(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lx[t.type]:e==="textarea"}function ey(t,e,n,r){Ag(r),e=vl(e,"onChange"),0<e.length&&(n=new Xd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var yo=null,zo=null;function ax(t){dy(t,0)}function Ra(t){var e=fi(t);if(Eg(e))return t}function ux(t,e){if(t==="change")return e}var ty=!1;if(mn){var xu;if(mn){var wu="oninput"in document;if(!wu){var Ah=document.createElement("div");Ah.setAttribute("oninput","return;"),wu=typeof Ah.oninput=="function"}xu=wu}else xu=!1;ty=xu&&(!document.documentMode||9<document.documentMode)}function Rh(){yo&&(yo.detachEvent("onpropertychange",ny),zo=yo=null)}function ny(t){if(t.propertyName==="value"&&Ra(zo)){var e=[];ey(e,zo,t,Kd(t)),Lg(ax,e)}}function cx(t,e,n){t==="focusin"?(Rh(),yo=e,zo=n,yo.attachEvent("onpropertychange",ny)):t==="focusout"&&Rh()}function dx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ra(zo)}function fx(t,e){if(t==="click")return Ra(e)}function hx(t,e){if(t==="input"||t==="change")return Ra(e)}function px(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wt=typeof Object.is=="function"?Object.is:px;function jo(t,e){if(Wt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fc.call(e,i)||!Wt(t[i],e[i]))return!1}return!0}function Dh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ih(t,e){var n=Dh(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dh(n)}}function ry(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ry(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iy(){for(var t=window,e=dl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dl(t.document)}return e}function tf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mx(t){var e=iy(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ry(n.ownerDocument.documentElement,n)){if(r!==null&&tf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Ih(n,o);var s=Ih(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gx=mn&&"documentMode"in document&&11>=document.documentMode,ci=null,Ac=null,vo=null,Rc=!1;function Lh(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Rc||ci==null||ci!==dl(r)||(r=ci,"selectionStart"in r&&tf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vo&&jo(vo,r)||(vo=r,r=vl(Ac,"onSelect"),0<r.length&&(e=new Xd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ci)))}function Ms(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var di={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},Su={},oy={};mn&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete di.animationend.animation,delete di.animationiteration.animation,delete di.animationstart.animation),"TransitionEvent"in window||delete di.transitionend.transition);function Da(t){if(Su[t])return Su[t];if(!di[t])return t;var e=di[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oy)return Su[t]=e[n];return t}var sy=Da("animationend"),ly=Da("animationiteration"),ay=Da("animationstart"),uy=Da("transitionend"),cy=new Map,zh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lr(t,e){cy.set(t,e),Kr(e,[t])}for(var Cu=0;Cu<zh.length;Cu++){var Eu=zh[Cu],yx=Eu.toLowerCase(),vx=Eu[0].toUpperCase()+Eu.slice(1);lr(yx,"on"+vx)}lr(sy,"onAnimationEnd");lr(ly,"onAnimationIteration");lr(ay,"onAnimationStart");lr("dblclick","onDoubleClick");lr("focusin","onFocus");lr("focusout","onBlur");lr(uy,"onTransitionEnd");Ai("onMouseEnter",["mouseout","mouseover"]);Ai("onMouseLeave",["mouseout","mouseover"]);Ai("onPointerEnter",["pointerout","pointerover"]);Ai("onPointerLeave",["pointerout","pointerover"]);Kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kx=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function jh(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yk(r,e,void 0,t),t.currentTarget=null}function dy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==o&&i.isPropagationStopped())break e;jh(i,l,u),o=a}else for(s=0;s<r.length;s++){if(l=r[s],a=l.instance,u=l.currentTarget,l=l.listener,a!==o&&i.isPropagationStopped())break e;jh(i,l,u),o=a}}}if(hl)throw t=Mc,hl=!1,Mc=null,t}function re(t,e){var n=e[jc];n===void 0&&(n=e[jc]=new Set);var r=t+"__bubble";n.has(r)||(fy(e,t,2,!1),n.add(r))}function bu(t,e,n){var r=0;e&&(r|=4),fy(n,t,r,e)}var Ts="_reactListening"+Math.random().toString(36).slice(2);function Bo(t){if(!t[Ts]){t[Ts]=!0,kg.forEach(function(n){n!=="selectionchange"&&(kx.has(n)||bu(n,!1,t),bu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ts]||(e[Ts]=!0,bu("selectionchange",!1,e))}}function fy(t,e,n,r){switch(Yg(e)){case 1:var i=Dk;break;case 4:i=Ik;break;default:i=Qd}n=i.bind(null,e,n,t),i=void 0,!Nc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Nu(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;s=s.return}for(;l!==null;){if(s=xr(l),s===null)return;if(a=s.tag,a===5||a===6){r=o=s;continue e}l=l.parentNode}}r=r.return}Lg(function(){var u=o,c=Kd(n),d=[];e:{var f=cy.get(t);if(f!==void 0){var p=Xd,h=t;switch(t){case"keypress":if(Gs(n)===0)break e;case"keydown":case"keyup":p=Yk;break;case"focusin":h="focus",p=ku;break;case"focusout":h="blur",p=ku;break;case"beforeblur":case"afterblur":p=ku;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=jk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Xk;break;case sy:case ly:case ay:p=_k;break;case uy:p=ex;break;case"scroll":p=Lk;break;case"wheel":p=nx;break;case"copy":case"cut":case"paste":p=Vk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Mh}var g=(e&4)!==0,k=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,m!==null&&(w=Ro(y,m),w!=null&&g.push(Fo(y,w,v)))),k)break;y=y.return}0<g.length&&(f=new p(f,h,null,n,c),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Ec&&(h=n.relatedTarget||n.fromElement)&&(xr(h)||h[gn]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(h=n.relatedTarget||n.toElement,p=u,h=h?xr(h):null,h!==null&&(k=qr(h),h!==k||h.tag!==5&&h.tag!==6)&&(h=null)):(p=null,h=u),p!==h)){if(g=bh,w="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=Mh,w="onPointerLeave",m="onPointerEnter",y="pointer"),k=p==null?f:fi(p),v=h==null?f:fi(h),f=new g(w,y+"leave",p,n,c),f.target=k,f.relatedTarget=v,w=null,xr(c)===u&&(g=new g(m,y+"enter",h,n,c),g.target=v,g.relatedTarget=k,w=g),k=w,p&&h)t:{for(g=p,m=h,y=0,v=g;v;v=Xr(v))y++;for(v=0,w=m;w;w=Xr(w))v++;for(;0<y-v;)g=Xr(g),y--;for(;0<v-y;)m=Xr(m),v--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Xr(g),m=Xr(m)}g=null}else g=null;p!==null&&Bh(d,f,p,g,!1),h!==null&&k!==null&&Bh(d,k,h,g,!0)}}e:{if(f=u?fi(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var E=ux;else if(Ph(f))if(ty)E=hx;else{E=dx;var C=cx}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=fx);if(E&&(E=E(t,u))){ey(d,E,n,c);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&kc(f,"number",f.value)}switch(C=u?fi(u):window,t){case"focusin":(Ph(C)||C.contentEditable==="true")&&(ci=C,Ac=u,vo=null);break;case"focusout":vo=Ac=ci=null;break;case"mousedown":Rc=!0;break;case"contextmenu":case"mouseup":case"dragend":Rc=!1,Lh(d,n,c);break;case"selectionchange":if(gx)break;case"keydown":case"keyup":Lh(d,n,c)}var M;if(ef)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else ui?Xg(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Gg&&n.locale!=="ko"&&(ui||R!=="onCompositionStart"?R==="onCompositionEnd"&&ui&&(M=Qg()):(Fn=c,Gd="value"in Fn?Fn.value:Fn.textContent,ui=!0)),C=vl(u,R),0<C.length&&(R=new Nh(R,t,null,n,c),d.push({event:R,listeners:C}),M?R.data=M:(M=Zg(n),M!==null&&(R.data=M)))),(M=ix?ox(t,n):sx(t,n))&&(u=vl(u,"onBeforeInput"),0<u.length&&(c=new Nh("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=M))}dy(d,e)})}function Fo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function vl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Ro(t,n),o!=null&&r.unshift(Fo(t,o,i)),o=Ro(t,e),o!=null&&r.push(Fo(t,o,i))),t=t.return}return r}function Xr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Bh(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,i?(a=Ro(n,o),a!=null&&s.unshift(Fo(n,a,l))):i||(a=Ro(n,o),a!=null&&s.push(Fo(n,a,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var xx=/\r\n?/g,wx=/\u0000|\uFFFD/g;function Fh(t){return(typeof t=="string"?t:""+t).replace(xx,`
`).replace(wx,"")}function Os(t,e,n){if(e=Fh(e),Fh(t)!==e&&n)throw Error(O(425))}function kl(){}var Dc=null,Ic=null;function Lc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zc=typeof setTimeout=="function"?setTimeout:void 0,Sx=typeof clearTimeout=="function"?clearTimeout:void 0,_h=typeof Promise=="function"?Promise:void 0,Cx=typeof queueMicrotask=="function"?queueMicrotask:typeof _h<"u"?function(t){return _h.resolve(null).then(t).catch(Ex)}:zc;function Ex(t){setTimeout(function(){throw t})}function Mu(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Lo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Lo(e)}function Jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function $h(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ki=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Ki,_o="__reactProps$"+Ki,gn="__reactContainer$"+Ki,jc="__reactEvents$"+Ki,bx="__reactListeners$"+Ki,Nx="__reactHandles$"+Ki;function xr(t){var e=t[Zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gn]||n[Zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=$h(t);t!==null;){if(n=t[Zt])return n;t=$h(t)}return e}t=n,n=t.parentNode}return null}function cs(t){return t=t[Zt]||t[gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function Ia(t){return t[_o]||null}var Bc=[],hi=-1;function ar(t){return{current:t}}function ie(t){0>hi||(t.current=Bc[hi],Bc[hi]=null,hi--)}function ne(t,e){hi++,Bc[hi]=t.current,t.current=e}var or={},Ke=ar(or),st=ar(!1),Lr=or;function Ri(t,e){var n=t.type.contextTypes;if(!n)return or;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function lt(t){return t=t.childContextTypes,t!=null}function xl(){ie(st),ie(Ke)}function Vh(t,e,n){if(Ke.current!==or)throw Error(O(168));ne(Ke,e),ne(st,n)}function hy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(O(108,ck(t)||"Unknown",i));return de({},n,r)}function wl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||or,Lr=Ke.current,ne(Ke,t),ne(st,st.current),!0}function Hh(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=hy(t,e,Lr),r.__reactInternalMemoizedMergedChildContext=t,ie(st),ie(Ke),ne(Ke,t)):ie(st),ne(st,n)}var cn=null,La=!1,Tu=!1;function py(t){cn===null?cn=[t]:cn.push(t)}function Mx(t){La=!0,py(t)}function ur(){if(!Tu&&cn!==null){Tu=!0;var t=0,e=ee;try{var n=cn;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cn=null,La=!1}catch(i){throw cn!==null&&(cn=cn.slice(t+1)),Fg(qd,ur),i}finally{ee=e,Tu=!1}}return null}var pi=[],mi=0,Sl=null,Cl=0,Nt=[],Mt=0,zr=null,dn=1,fn="";function mr(t,e){pi[mi++]=Cl,pi[mi++]=Sl,Sl=t,Cl=e}function my(t,e,n){Nt[Mt++]=dn,Nt[Mt++]=fn,Nt[Mt++]=zr,zr=t;var r=dn;t=fn;var i=32-$t(r)-1;r&=~(1<<i),n+=1;var o=32-$t(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,dn=1<<32-$t(e)+i|n<<i|r,fn=o+t}else dn=1<<o|n<<i|r,fn=t}function nf(t){t.return!==null&&(mr(t,1),my(t,1,0))}function rf(t){for(;t===Sl;)Sl=pi[--mi],pi[mi]=null,Cl=pi[--mi],pi[mi]=null;for(;t===zr;)zr=Nt[--Mt],Nt[Mt]=null,fn=Nt[--Mt],Nt[Mt]=null,dn=Nt[--Mt],Nt[Mt]=null}var mt=null,pt=null,se=!1,Bt=null;function gy(t,e){var n=Ot(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Wh(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mt=t,pt=Jn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mt=t,pt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=zr!==null?{id:dn,overflow:fn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ot(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mt=t,pt=null,!0):!1;default:return!1}}function Fc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _c(t){if(se){var e=pt;if(e){var n=e;if(!Wh(t,e)){if(Fc(t))throw Error(O(418));e=Jn(n.nextSibling);var r=mt;e&&Wh(t,e)?gy(r,n):(t.flags=t.flags&-4097|2,se=!1,mt=t)}}else{if(Fc(t))throw Error(O(418));t.flags=t.flags&-4097|2,se=!1,mt=t}}}function Uh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mt=t}function Ps(t){if(t!==mt)return!1;if(!se)return Uh(t),se=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lc(t.type,t.memoizedProps)),e&&(e=pt)){if(Fc(t))throw yy(),Error(O(418));for(;e;)gy(t,e),e=Jn(e.nextSibling)}if(Uh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pt=Jn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pt=null}}else pt=mt?Jn(t.stateNode.nextSibling):null;return!0}function yy(){for(var t=pt;t;)t=Jn(t.nextSibling)}function Di(){pt=mt=null,se=!1}function of(t){Bt===null?Bt=[t]:Bt.push(t)}var Tx=xn.ReactCurrentBatchConfig;function eo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function As(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Kh(t){var e=t._init;return e(t._payload)}function vy(t){function e(m,y){if(t){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Xn(m,y),m.index=0,m.sibling=null,m}function o(m,y,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function l(m,y,v,w){return y===null||y.tag!==6?(y=Lu(v,m.mode,w),y.return=m,y):(y=i(y,v),y.return=m,y)}function a(m,y,v,w){var E=v.type;return E===ai?c(m,y,v.props.children,w,v.key):y!==null&&(y.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pn&&Kh(E)===y.type)?(w=i(y,v.props),w.ref=eo(m,y,v),w.return=m,w):(w=il(v.type,v.key,v.props,null,m.mode,w),w.ref=eo(m,y,v),w.return=m,w)}function u(m,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=zu(v,m.mode,w),y.return=m,y):(y=i(y,v.children||[]),y.return=m,y)}function c(m,y,v,w,E){return y===null||y.tag!==7?(y=Tr(v,m.mode,w,E),y.return=m,y):(y=i(y,v),y.return=m,y)}function d(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Lu(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case xs:return v=il(y.type,y.key,y.props,null,m.mode,v),v.ref=eo(m,null,y),v.return=m,v;case li:return y=zu(y,m.mode,v),y.return=m,y;case Pn:var w=y._init;return d(m,w(y._payload),v)}if(lo(y)||Yi(y))return y=Tr(y,m.mode,v,null),y.return=m,y;As(m,y)}return null}function f(m,y,v,w){var E=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:l(m,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case xs:return v.key===E?a(m,y,v,w):null;case li:return v.key===E?u(m,y,v,w):null;case Pn:return E=v._init,f(m,y,E(v._payload),w)}if(lo(v)||Yi(v))return E!==null?null:c(m,y,v,w,null);As(m,v)}return null}function p(m,y,v,w,E){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(v)||null,l(y,m,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case xs:return m=m.get(w.key===null?v:w.key)||null,a(y,m,w,E);case li:return m=m.get(w.key===null?v:w.key)||null,u(y,m,w,E);case Pn:var C=w._init;return p(m,y,v,C(w._payload),E)}if(lo(w)||Yi(w))return m=m.get(v)||null,c(y,m,w,E,null);As(y,w)}return null}function h(m,y,v,w){for(var E=null,C=null,M=y,R=y=0,D=null;M!==null&&R<v.length;R++){M.index>R?(D=M,M=null):D=M.sibling;var V=f(m,M,v[R],w);if(V===null){M===null&&(M=D);break}t&&M&&V.alternate===null&&e(m,M),y=o(V,y,R),C===null?E=V:C.sibling=V,C=V,M=D}if(R===v.length)return n(m,M),se&&mr(m,R),E;if(M===null){for(;R<v.length;R++)M=d(m,v[R],w),M!==null&&(y=o(M,y,R),C===null?E=M:C.sibling=M,C=M);return se&&mr(m,R),E}for(M=r(m,M);R<v.length;R++)D=p(M,m,R,v[R],w),D!==null&&(t&&D.alternate!==null&&M.delete(D.key===null?R:D.key),y=o(D,y,R),C===null?E=D:C.sibling=D,C=D);return t&&M.forEach(function(fe){return e(m,fe)}),se&&mr(m,R),E}function g(m,y,v,w){var E=Yi(v);if(typeof E!="function")throw Error(O(150));if(v=E.call(v),v==null)throw Error(O(151));for(var C=E=null,M=y,R=y=0,D=null,V=v.next();M!==null&&!V.done;R++,V=v.next()){M.index>R?(D=M,M=null):D=M.sibling;var fe=f(m,M,V.value,w);if(fe===null){M===null&&(M=D);break}t&&M&&fe.alternate===null&&e(m,M),y=o(fe,y,R),C===null?E=fe:C.sibling=fe,C=fe,M=D}if(V.done)return n(m,M),se&&mr(m,R),E;if(M===null){for(;!V.done;R++,V=v.next())V=d(m,V.value,w),V!==null&&(y=o(V,y,R),C===null?E=V:C.sibling=V,C=V);return se&&mr(m,R),E}for(M=r(m,M);!V.done;R++,V=v.next())V=p(M,m,R,V.value,w),V!==null&&(t&&V.alternate!==null&&M.delete(V.key===null?R:V.key),y=o(V,y,R),C===null?E=V:C.sibling=V,C=V);return t&&M.forEach(function(z){return e(m,z)}),se&&mr(m,R),E}function k(m,y,v,w){if(typeof v=="object"&&v!==null&&v.type===ai&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case xs:e:{for(var E=v.key,C=y;C!==null;){if(C.key===E){if(E=v.type,E===ai){if(C.tag===7){n(m,C.sibling),y=i(C,v.props.children),y.return=m,m=y;break e}}else if(C.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Pn&&Kh(E)===C.type){n(m,C.sibling),y=i(C,v.props),y.ref=eo(m,C,v),y.return=m,m=y;break e}n(m,C);break}else e(m,C);C=C.sibling}v.type===ai?(y=Tr(v.props.children,m.mode,w,v.key),y.return=m,m=y):(w=il(v.type,v.key,v.props,null,m.mode,w),w.ref=eo(m,y,v),w.return=m,m=w)}return s(m);case li:e:{for(C=v.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(m,y.sibling),y=i(y,v.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=zu(v,m.mode,w),y.return=m,m=y}return s(m);case Pn:return C=v._init,k(m,y,C(v._payload),w)}if(lo(v))return h(m,y,v,w);if(Yi(v))return g(m,y,v,w);As(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,v),y.return=m,m=y):(n(m,y),y=Lu(v,m.mode,w),y.return=m,m=y),s(m)):n(m,y)}return k}var Ii=vy(!0),ky=vy(!1),El=ar(null),bl=null,gi=null,sf=null;function lf(){sf=gi=bl=null}function af(t){var e=El.current;ie(El),t._currentValue=e}function $c(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function bi(t,e){bl=t,sf=gi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ot=!0),t.firstContext=null)}function Dt(t){var e=t._currentValue;if(sf!==t)if(t={context:t,memoizedValue:e,next:null},gi===null){if(bl===null)throw Error(O(308));gi=t,bl.dependencies={lanes:0,firstContext:t}}else gi=gi.next=t;return e}var wr=null;function uf(t){wr===null?wr=[t]:wr.push(t)}function xy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,uf(e)):(n.next=i.next,i.next=n),e.interleaved=n,yn(t,r)}function yn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var An=!1;function cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,yn(t,n)}return i=r.interleaved,i===null?(e.next=e,uf(r)):(e.next=i.next,i.next=e),r.interleaved=e,yn(t,n)}function Xs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jd(t,n)}}function qh(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Nl(t,e,n,r){var i=t.updateQueue;An=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var a=l,u=a.next;a.next=null,s===null?o=u:s.next=u,s=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==s&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;s=0,c=u=a=null,l=o;do{var f=l.lane,p=l.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=t,g=l;switch(f=e,p=n,g.tag){case 1:if(h=g.payload,typeof h=="function"){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=g.payload,f=typeof h=="function"?h.call(p,d,f):h,f==null)break e;d=de({},d,f);break e;case 2:An=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=p,a=d):c=c.next=p,s|=f;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;f=l,l=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(a=d),i.baseState=a,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Br|=s,t.lanes=s,t.memoizedState=d}}function Jh(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var ds={},nn=ar(ds),$o=ar(ds),Vo=ar(ds);function Sr(t){if(t===ds)throw Error(O(174));return t}function df(t,e){switch(ne(Vo,e),ne($o,t),ne(nn,ds),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wc(e,t)}ie(nn),ne(nn,e)}function Li(){ie(nn),ie($o),ie(Vo)}function Sy(t){Sr(Vo.current);var e=Sr(nn.current),n=wc(e,t.type);e!==n&&(ne($o,t),ne(nn,n))}function ff(t){$o.current===t&&(ie(nn),ie($o))}var ue=ar(0);function Ml(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ou=[];function hf(){for(var t=0;t<Ou.length;t++)Ou[t]._workInProgressVersionPrimary=null;Ou.length=0}var Zs=xn.ReactCurrentDispatcher,Pu=xn.ReactCurrentBatchConfig,jr=0,ce=null,we=null,be=null,Tl=!1,ko=!1,Ho=0,Ox=0;function _e(){throw Error(O(321))}function pf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wt(t[n],e[n]))return!1;return!0}function mf(t,e,n,r,i,o){if(jr=o,ce=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zs.current=t===null||t.memoizedState===null?Dx:Ix,t=n(r,i),ko){o=0;do{if(ko=!1,Ho=0,25<=o)throw Error(O(301));o+=1,be=we=null,e.updateQueue=null,Zs.current=Lx,t=n(r,i)}while(ko)}if(Zs.current=Ol,e=we!==null&&we.next!==null,jr=0,be=we=ce=null,Tl=!1,e)throw Error(O(300));return t}function gf(){var t=Ho!==0;return Ho=0,t}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ce.memoizedState=be=t:be=be.next=t,be}function It(){if(we===null){var t=ce.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=be===null?ce.memoizedState:be.next;if(e!==null)be=e,we=t;else{if(t===null)throw Error(O(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},be===null?ce.memoizedState=be=t:be=be.next=t}return be}function Wo(t,e){return typeof e=="function"?e(t):e}function Au(t){var e=It(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=we,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,a=null,u=o;do{var c=u.lane;if((jr&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=d,s=r):a=a.next=d,ce.lanes|=c,Br|=c}u=u.next}while(u!==null&&u!==o);a===null?s=r:a.next=l,Wt(r,e.memoizedState)||(ot=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,ce.lanes|=o,Br|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ru(t){var e=It(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Wt(o,e.memoizedState)||(ot=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Cy(){}function Ey(t,e){var n=ce,r=It(),i=e(),o=!Wt(r.memoizedState,i);if(o&&(r.memoizedState=i,ot=!0),r=r.queue,yf(My.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Uo(9,Ny.bind(null,n,r,i,e),void 0,null),Me===null)throw Error(O(349));jr&30||by(n,e,i)}return i}function by(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ny(t,e,n,r){e.value=n,e.getSnapshot=r,Ty(e)&&Oy(t)}function My(t,e,n){return n(function(){Ty(e)&&Oy(t)})}function Ty(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wt(t,n)}catch{return!0}}function Oy(t){var e=yn(t,1);e!==null&&Vt(e,t,1,-1)}function Yh(t){var e=Jt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:t},e.queue=t,t=t.dispatch=Rx.bind(null,ce,t),[e.memoizedState,t]}function Uo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ce.updateQueue,e===null?(e={lastEffect:null,stores:null},ce.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Py(){return It().memoizedState}function el(t,e,n,r){var i=Jt();ce.flags|=t,i.memoizedState=Uo(1|e,n,void 0,r===void 0?null:r)}function za(t,e,n,r){var i=It();r=r===void 0?null:r;var o=void 0;if(we!==null){var s=we.memoizedState;if(o=s.destroy,r!==null&&pf(r,s.deps)){i.memoizedState=Uo(e,n,o,r);return}}ce.flags|=t,i.memoizedState=Uo(1|e,n,o,r)}function Qh(t,e){return el(8390656,8,t,e)}function yf(t,e){return za(2048,8,t,e)}function Ay(t,e){return za(4,2,t,e)}function Ry(t,e){return za(4,4,t,e)}function Dy(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Iy(t,e,n){return n=n!=null?n.concat([t]):null,za(4,4,Dy.bind(null,e,t),n)}function vf(){}function Ly(t,e){var n=It();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zy(t,e){var n=It();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jy(t,e,n){return jr&21?(Wt(n,e)||(n=Vg(),ce.lanes|=n,Br|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ot=!0),t.memoizedState=n)}function Px(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=Pu.transition;Pu.transition={};try{t(!1),e()}finally{ee=n,Pu.transition=r}}function By(){return It().memoizedState}function Ax(t,e,n){var r=Gn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fy(t))_y(e,n);else if(n=xy(t,e,n,r),n!==null){var i=Qe();Vt(n,t,r,i),$y(n,e,r)}}function Rx(t,e,n){var r=Gn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fy(t))_y(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,Wt(l,s)){var a=e.interleaved;a===null?(i.next=i,uf(e)):(i.next=a.next,a.next=i),e.interleaved=i;return}}catch{}finally{}n=xy(t,e,i,r),n!==null&&(i=Qe(),Vt(n,t,r,i),$y(n,e,r))}}function Fy(t){var e=t.alternate;return t===ce||e!==null&&e===ce}function _y(t,e){ko=Tl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $y(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jd(t,n)}}var Ol={readContext:Dt,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useInsertionEffect:_e,useLayoutEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useMutableSource:_e,useSyncExternalStore:_e,useId:_e,unstable_isNewReconciler:!1},Dx={readContext:Dt,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Dt,useEffect:Qh,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,el(4194308,4,Dy.bind(null,e,t),n)},useLayoutEffect:function(t,e){return el(4194308,4,t,e)},useInsertionEffect:function(t,e){return el(4,2,t,e)},useMemo:function(t,e){var n=Jt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Ax.bind(null,ce,t),[r.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:Yh,useDebugValue:vf,useDeferredValue:function(t){return Jt().memoizedState=t},useTransition:function(){var t=Yh(!1),e=t[0];return t=Px.bind(null,t[1]),Jt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ce,i=Jt();if(se){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Me===null)throw Error(O(349));jr&30||by(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Qh(My.bind(null,r,o,t),[t]),r.flags|=2048,Uo(9,Ny.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Jt(),e=Me.identifierPrefix;if(se){var n=fn,r=dn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ho++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ox++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ix={readContext:Dt,useCallback:Ly,useContext:Dt,useEffect:yf,useImperativeHandle:Iy,useInsertionEffect:Ay,useLayoutEffect:Ry,useMemo:zy,useReducer:Au,useRef:Py,useState:function(){return Au(Wo)},useDebugValue:vf,useDeferredValue:function(t){var e=It();return jy(e,we.memoizedState,t)},useTransition:function(){var t=Au(Wo)[0],e=It().memoizedState;return[t,e]},useMutableSource:Cy,useSyncExternalStore:Ey,useId:By,unstable_isNewReconciler:!1},Lx={readContext:Dt,useCallback:Ly,useContext:Dt,useEffect:yf,useImperativeHandle:Iy,useInsertionEffect:Ay,useLayoutEffect:Ry,useMemo:zy,useReducer:Ru,useRef:Py,useState:function(){return Ru(Wo)},useDebugValue:vf,useDeferredValue:function(t){var e=It();return we===null?e.memoizedState=t:jy(e,we.memoizedState,t)},useTransition:function(){var t=Ru(Wo)[0],e=It().memoizedState;return[t,e]},useMutableSource:Cy,useSyncExternalStore:Ey,useId:By,unstable_isNewReconciler:!1};function zt(t,e){if(t&&t.defaultProps){e=de({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vc(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:de({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ja={isMounted:function(t){return(t=t._reactInternals)?qr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qe(),i=Gn(t),o=hn(r,i);o.payload=e,n!=null&&(o.callback=n),e=Yn(t,o,i),e!==null&&(Vt(e,t,i,r),Xs(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qe(),i=Gn(t),o=hn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Yn(t,o,i),e!==null&&(Vt(e,t,i,r),Xs(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qe(),r=Gn(t),i=hn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Yn(t,i,r),e!==null&&(Vt(e,t,r,n),Xs(e,t,r))}};function Gh(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!jo(n,r)||!jo(i,o):!0}function Vy(t,e,n){var r=!1,i=or,o=e.contextType;return typeof o=="object"&&o!==null?o=Dt(o):(i=lt(e)?Lr:Ke.current,r=e.contextTypes,o=(r=r!=null)?Ri(t,i):or),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ja,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Xh(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ja.enqueueReplaceState(e,e.state,null)}function Hc(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},cf(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Dt(o):(o=lt(e)?Lr:Ke.current,i.context=Ri(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Vc(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ja.enqueueReplaceState(i,i.state,null),Nl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function zi(t,e){try{var n="",r=e;do n+=uk(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Du(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zx=typeof WeakMap=="function"?WeakMap:Map;function Hy(t,e,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Al||(Al=!0,ed=r),Wc(t,e)},n}function Wy(t,e,n){n=hn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Wc(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Wc(t,e),typeof r!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Zh(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zx;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Qx.bind(null,t,e,n),e.then(t,t))}function ep(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tp(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hn(-1,1),e.tag=2,Yn(n,e,1))),n.lanes|=1),t)}var jx=xn.ReactCurrentOwner,ot=!1;function Ye(t,e,n,r){e.child=t===null?ky(e,null,n,r):Ii(e,t.child,n,r)}function np(t,e,n,r,i){n=n.render;var o=e.ref;return bi(e,i),r=mf(t,e,n,r,o,i),n=gf(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vn(t,e,i)):(se&&n&&nf(e),e.flags|=1,Ye(t,e,r,i),e.child)}function rp(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Nf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Uy(t,e,o,r,i)):(t=il(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:jo,n(s,r)&&t.ref===e.ref)return vn(t,e,i)}return e.flags|=1,t=Xn(o,r),t.ref=e.ref,t.return=e,e.child=t}function Uy(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(jo(o,r)&&t.ref===e.ref)if(ot=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ot=!0);else return e.lanes=t.lanes,vn(t,e,i)}return Uc(t,e,n,r,i)}function Ky(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(vi,ft),ft|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ne(vi,ft),ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ne(vi,ft),ft|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,ne(vi,ft),ft|=r;return Ye(t,e,i,n),e.child}function qy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uc(t,e,n,r,i){var o=lt(n)?Lr:Ke.current;return o=Ri(e,o),bi(e,i),n=mf(t,e,n,r,o,i),r=gf(),t!==null&&!ot?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vn(t,e,i)):(se&&r&&nf(e),e.flags|=1,Ye(t,e,n,i),e.child)}function ip(t,e,n,r,i){if(lt(n)){var o=!0;wl(e)}else o=!1;if(bi(e,i),e.stateNode===null)tl(t,e),Vy(e,n,r),Hc(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var a=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Dt(u):(u=lt(n)?Lr:Ke.current,u=Ri(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Xh(e,s,r,u),An=!1;var f=e.memoizedState;s.state=f,Nl(e,r,s,i),a=e.memoizedState,l!==r||f!==a||st.current||An?(typeof c=="function"&&(Vc(e,n,c,r),a=e.memoizedState),(l=An||Gh(e,n,l,r,f,a,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,wy(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:zt(e.type,l),s.props=u,d=e.pendingProps,f=s.context,a=n.contextType,typeof a=="object"&&a!==null?a=Dt(a):(a=lt(n)?Lr:Ke.current,a=Ri(e,a));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==d||f!==a)&&Xh(e,s,r,a),An=!1,f=e.memoizedState,s.state=f,Nl(e,r,s,i);var h=e.memoizedState;l!==d||f!==h||st.current||An?(typeof p=="function"&&(Vc(e,n,p,r),h=e.memoizedState),(u=An||Gh(e,n,u,r,f,h,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,a)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),s.props=r,s.state=h,s.context=a,r=u):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Kc(t,e,n,r,o,i)}function Kc(t,e,n,r,i,o){qy(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Hh(e,n,!1),vn(t,e,o);r=e.stateNode,jx.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ii(e,t.child,null,o),e.child=Ii(e,null,l,o)):Ye(t,e,l,o),e.memoizedState=r.state,i&&Hh(e,n,!0),e.child}function Jy(t){var e=t.stateNode;e.pendingContext?Vh(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vh(t,e.context,!1),df(t,e.containerInfo)}function op(t,e,n,r,i){return Di(),of(i),e.flags|=256,Ye(t,e,n,r),e.child}var qc={dehydrated:null,treeContext:null,retryLane:0};function Jc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yy(t,e,n){var r=e.pendingProps,i=ue.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ne(ue,i&1),t===null)return _c(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=_a(s,r,0,null),t=Tr(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Jc(n),e.memoizedState=qc,t):kf(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Bx(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var a={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Xn(i,a),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Xn(l,o):(o=Tr(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Jc(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=qc,r}return o=t.child,t=o.sibling,r=Xn(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kf(t,e){return e=_a({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rs(t,e,n,r){return r!==null&&of(r),Ii(e,t.child,null,n),t=kf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bx(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Du(Error(O(422))),Rs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=_a({mode:"visible",children:r.children},i,0,null),o=Tr(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ii(e,t.child,null,s),e.child.memoizedState=Jc(s),e.memoizedState=qc,o);if(!(e.mode&1))return Rs(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(O(419)),r=Du(o,r,void 0),Rs(t,e,s,r)}if(l=(s&t.childLanes)!==0,ot||l){if(r=Me,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,yn(t,i),Vt(r,t,i,-1))}return bf(),r=Du(Error(O(421))),Rs(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Gx.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,pt=Jn(i.nextSibling),mt=e,se=!0,Bt=null,t!==null&&(Nt[Mt++]=dn,Nt[Mt++]=fn,Nt[Mt++]=zr,dn=t.id,fn=t.overflow,zr=e),e=kf(e,r.children),e.flags|=4096,e)}function sp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$c(t.return,e,n)}function Iu(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Qy(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Ye(t,e,r.children,n),r=ue.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sp(t,n,e);else if(t.tag===19)sp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ne(ue,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ml(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Iu(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ml(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Iu(e,!0,n,null,o);break;case"together":Iu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Br|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Xn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Fx(t,e,n){switch(e.tag){case 3:Jy(e),Di();break;case 5:Sy(e);break;case 1:lt(e.type)&&wl(e);break;case 4:df(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ne(El,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ne(ue,ue.current&1),e.flags|=128,null):n&e.child.childLanes?Yy(t,e,n):(ne(ue,ue.current&1),t=vn(t,e,n),t!==null?t.sibling:null);ne(ue,ue.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Qy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ne(ue,ue.current),r)break;return null;case 22:case 23:return e.lanes=0,Ky(t,e,n)}return vn(t,e,n)}var Gy,Yc,Xy,Zy;Gy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yc=function(){};Xy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Sr(nn.current);var o=null;switch(n){case"input":i=yc(t,i),r=yc(t,r),o=[];break;case"select":i=de({},i,{value:void 0}),r=de({},r,{value:void 0}),o=[];break;case"textarea":i=xc(t,i),r=xc(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kl)}Sc(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Po.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var a=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&(n||(n={}),n[s]=a[s])}else n||(o||(o=[]),o.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(o=o||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Po.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&re("scroll",t),o||l===a||(o=[])):(o=o||[]).push(u,a))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};Zy=function(t,e,n,r){n!==r&&(e.flags|=4)};function to(t,e){if(!se)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $e(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _x(t,e,n){var r=e.pendingProps;switch(rf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(e),null;case 1:return lt(e.type)&&xl(),$e(e),null;case 3:return r=e.stateNode,Li(),ie(st),ie(Ke),hf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ps(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Bt!==null&&(rd(Bt),Bt=null))),Yc(t,e),$e(e),null;case 5:ff(e);var i=Sr(Vo.current);if(n=e.type,t!==null&&e.stateNode!=null)Xy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return $e(e),null}if(t=Sr(nn.current),Ps(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Zt]=e,r[_o]=o,t=(e.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(i=0;i<uo.length;i++)re(uo[i],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":mh(r,o),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},re("invalid",r);break;case"textarea":yh(r,o),re("invalid",r)}Sc(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Os(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Os(r.textContent,l,t),i=["children",""+l]):Po.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&re("scroll",r)}switch(n){case"input":ws(r),gh(r,o,!0);break;case"textarea":ws(r),vh(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=kl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Mg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Zt]=e,t[_o]=r,Gy(t,e,!1,!1),e.stateNode=t;e:{switch(s=Cc(n,r),n){case"dialog":re("cancel",t),re("close",t),i=r;break;case"iframe":case"object":case"embed":re("load",t),i=r;break;case"video":case"audio":for(i=0;i<uo.length;i++)re(uo[i],t);i=r;break;case"source":re("error",t),i=r;break;case"img":case"image":case"link":re("error",t),re("load",t),i=r;break;case"details":re("toggle",t),i=r;break;case"input":mh(t,r),i=yc(t,r),re("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=de({},r,{value:void 0}),re("invalid",t);break;case"textarea":yh(t,r),i=xc(t,r),re("invalid",t);break;default:i=r}Sc(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="style"?Pg(t,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Tg(t,a)):o==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&Ao(t,a):typeof a=="number"&&Ao(t,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Po.hasOwnProperty(o)?a!=null&&o==="onScroll"&&re("scroll",t):a!=null&&Vd(t,o,a,s))}switch(n){case"input":ws(t),gh(t,r,!1);break;case"textarea":ws(t),vh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ir(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?wi(t,!!r.multiple,o,!1):r.defaultValue!=null&&wi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $e(e),null;case 6:if(t&&e.stateNode!=null)Zy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=Sr(Vo.current),Sr(nn.current),Ps(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zt]=e,(o=r.nodeValue!==n)&&(t=mt,t!==null))switch(t.tag){case 3:Os(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Os(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=e,e.stateNode=r}return $e(e),null;case 13:if(ie(ue),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(se&&pt!==null&&e.mode&1&&!(e.flags&128))yy(),Di(),e.flags|=98560,o=!1;else if(o=Ps(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(O(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[Zt]=e}else Di(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$e(e),o=!1}else Bt!==null&&(rd(Bt),Bt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ue.current&1?Ce===0&&(Ce=3):bf())),e.updateQueue!==null&&(e.flags|=4),$e(e),null);case 4:return Li(),Yc(t,e),t===null&&Bo(e.stateNode.containerInfo),$e(e),null;case 10:return af(e.type._context),$e(e),null;case 17:return lt(e.type)&&xl(),$e(e),null;case 19:if(ie(ue),o=e.memoizedState,o===null)return $e(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)to(o,!1);else{if(Ce!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ml(t),s!==null){for(e.flags|=128,to(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ne(ue,ue.current&1|2),e.child}t=t.sibling}o.tail!==null&&ge()>ji&&(e.flags|=128,r=!0,to(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ml(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),to(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!se)return $e(e),null}else 2*ge()-o.renderingStartTime>ji&&n!==1073741824&&(e.flags|=128,r=!0,to(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ge(),e.sibling=null,n=ue.current,ne(ue,r?n&1|2:n&1),e):($e(e),null);case 22:case 23:return Ef(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ft&1073741824&&($e(e),e.subtreeFlags&6&&(e.flags|=8192)):$e(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function $x(t,e){switch(rf(e),e.tag){case 1:return lt(e.type)&&xl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Li(),ie(st),ie(Ke),hf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ff(e),null;case 13:if(ie(ue),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));Di()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ie(ue),null;case 4:return Li(),null;case 10:return af(e.type._context),null;case 22:case 23:return Ef(),null;case 24:return null;default:return null}}var Ds=!1,We=!1,Vx=typeof WeakSet=="function"?WeakSet:Set,j=null;function yi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(t,e,r)}else n.current=null}function Qc(t,e,n){try{n()}catch(r){he(t,e,r)}}var lp=!1;function Hx(t,e){if(Dc=gl,t=iy(),tf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,a=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(l=s+i),d!==o||r!==0&&d.nodeType!==3||(a=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===i&&(l=s),f===o&&++c===r&&(a=s),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ic={focusedElem:t,selectionRange:n},gl=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var h=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var g=h.memoizedProps,k=h.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:zt(e.type,g),k);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(w){he(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return h=lp,lp=!1,h}function xo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Qc(e,n,o)}i=i.next}while(i!==r)}}function Ba(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function e0(t){var e=t.alternate;e!==null&&(t.alternate=null,e0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zt],delete e[_o],delete e[jc],delete e[bx],delete e[Nx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function t0(t){return t.tag===5||t.tag===3||t.tag===4}function ap(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kl));else if(r!==4&&(t=t.child,t!==null))for(Xc(t,e,n),t=t.sibling;t!==null;)Xc(t,e,n),t=t.sibling}function Zc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Zc(t,e,n),t=t.sibling;t!==null;)Zc(t,e,n),t=t.sibling}var Ae=null,jt=!1;function Nn(t,e,n){for(n=n.child;n!==null;)n0(t,e,n),n=n.sibling}function n0(t,e,n){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(Pa,n)}catch{}switch(n.tag){case 5:We||yi(n,e);case 6:var r=Ae,i=jt;Ae=null,Nn(t,e,n),Ae=r,jt=i,Ae!==null&&(jt?(t=Ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(jt?(t=Ae,n=n.stateNode,t.nodeType===8?Mu(t.parentNode,n):t.nodeType===1&&Mu(t,n),Lo(t)):Mu(Ae,n.stateNode));break;case 4:r=Ae,i=jt,Ae=n.stateNode.containerInfo,jt=!0,Nn(t,e,n),Ae=r,jt=i;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Qc(n,e,s),i=i.next}while(i!==r)}Nn(t,e,n);break;case 1:if(!We&&(yi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){he(n,e,l)}Nn(t,e,n);break;case 21:Nn(t,e,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,Nn(t,e,n),We=r):Nn(t,e,n);break;default:Nn(t,e,n)}}function up(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Vx),e.forEach(function(r){var i=Xx.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Lt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Ae=l.stateNode,jt=!1;break e;case 3:Ae=l.stateNode.containerInfo,jt=!0;break e;case 4:Ae=l.stateNode.containerInfo,jt=!0;break e}l=l.return}if(Ae===null)throw Error(O(160));n0(o,s,i),Ae=null,jt=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(u){he(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r0(e,t),e=e.sibling}function r0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Lt(e,t),qt(t),r&4){try{xo(3,t,t.return),Ba(3,t)}catch(g){he(t,t.return,g)}try{xo(5,t,t.return)}catch(g){he(t,t.return,g)}}break;case 1:Lt(e,t),qt(t),r&512&&n!==null&&yi(n,n.return);break;case 5:if(Lt(e,t),qt(t),r&512&&n!==null&&yi(n,n.return),t.flags&32){var i=t.stateNode;try{Ao(i,"")}catch(g){he(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&bg(i,o),Cc(l,s);var u=Cc(l,o);for(s=0;s<a.length;s+=2){var c=a[s],d=a[s+1];c==="style"?Pg(i,d):c==="dangerouslySetInnerHTML"?Tg(i,d):c==="children"?Ao(i,d):Vd(i,c,d,u)}switch(l){case"input":vc(i,o);break;case"textarea":Ng(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?wi(i,!!o.multiple,p,!1):f!==!!o.multiple&&(o.defaultValue!=null?wi(i,!!o.multiple,o.defaultValue,!0):wi(i,!!o.multiple,o.multiple?[]:"",!1))}i[_o]=o}catch(g){he(t,t.return,g)}}break;case 6:if(Lt(e,t),qt(t),r&4){if(t.stateNode===null)throw Error(O(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(g){he(t,t.return,g)}}break;case 3:if(Lt(e,t),qt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lo(e.containerInfo)}catch(g){he(t,t.return,g)}break;case 4:Lt(e,t),qt(t);break;case 13:Lt(e,t),qt(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Sf=ge())),r&4&&up(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(We=(u=We)||c,Lt(e,t),We=u):Lt(e,t),qt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(j=t,c=t.child;c!==null;){for(d=j=c;j!==null;){switch(f=j,p=f.child,f.tag){case 0:case 11:case 14:case 15:xo(4,f,f.return);break;case 1:yi(f,f.return);var h=f.stateNode;if(typeof h.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,h.props=e.memoizedProps,h.state=e.memoizedState,h.componentWillUnmount()}catch(g){he(r,n,g)}}break;case 5:yi(f,f.return);break;case 22:if(f.memoizedState!==null){dp(d);continue}}p!==null?(p.return=f,j=p):dp(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=d.stateNode,a=d.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=Og("display",s))}catch(g){he(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){he(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Lt(e,t),qt(t),r&4&&up(t);break;case 21:break;default:Lt(e,t),qt(t)}}function qt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(t0(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ao(i,""),r.flags&=-33);var o=ap(t);Zc(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=ap(t);Xc(t,l,s);break;default:throw Error(O(161))}}catch(a){he(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wx(t,e,n){j=t,i0(t)}function i0(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var i=j,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Ds;if(!s){var l=i.alternate,a=l!==null&&l.memoizedState!==null||We;l=Ds;var u=We;if(Ds=s,(We=a)&&!u)for(j=i;j!==null;)s=j,a=s.child,s.tag===22&&s.memoizedState!==null?fp(i):a!==null?(a.return=s,j=a):fp(i);for(;o!==null;)j=o,i0(o),o=o.sibling;j=i,Ds=l,We=u}cp(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,j=o):cp(t)}}function cp(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||Ba(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!We)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:zt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Jh(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jh(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Lo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}We||e.flags&512&&Gc(e)}catch(f){he(e,e.return,f)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function dp(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function fp(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ba(4,e)}catch(a){he(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(a){he(e,i,a)}}var o=e.return;try{Gc(e)}catch(a){he(e,o,a)}break;case 5:var s=e.return;try{Gc(e)}catch(a){he(e,s,a)}}}catch(a){he(e,e.return,a)}if(e===t){j=null;break}var l=e.sibling;if(l!==null){l.return=e.return,j=l;break}j=e.return}}var Ux=Math.ceil,Pl=xn.ReactCurrentDispatcher,xf=xn.ReactCurrentOwner,At=xn.ReactCurrentBatchConfig,X=0,Me=null,ye=null,Le=0,ft=0,vi=ar(0),Ce=0,Ko=null,Br=0,Fa=0,wf=0,wo=null,rt=null,Sf=0,ji=1/0,an=null,Al=!1,ed=null,Qn=null,Is=!1,_n=null,Rl=0,So=0,td=null,nl=-1,rl=0;function Qe(){return X&6?ge():nl!==-1?nl:nl=ge()}function Gn(t){return t.mode&1?X&2&&Le!==0?Le&-Le:Tx.transition!==null?(rl===0&&(rl=Vg()),rl):(t=ee,t!==0||(t=window.event,t=t===void 0?16:Yg(t.type)),t):1}function Vt(t,e,n,r){if(50<So)throw So=0,td=null,Error(O(185));as(t,n,r),(!(X&2)||t!==Me)&&(t===Me&&(!(X&2)&&(Fa|=n),Ce===4&&zn(t,Le)),at(t,r),n===1&&X===0&&!(e.mode&1)&&(ji=ge()+500,La&&ur()))}function at(t,e){var n=t.callbackNode;Tk(t,e);var r=ml(t,t===Me?Le:0);if(r===0)n!==null&&wh(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wh(n),e===1)t.tag===0?Mx(hp.bind(null,t)):py(hp.bind(null,t)),Cx(function(){!(X&6)&&ur()}),n=null;else{switch(Hg(r)){case 1:n=qd;break;case 4:n=_g;break;case 16:n=pl;break;case 536870912:n=$g;break;default:n=pl}n=f0(n,o0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function o0(t,e){if(nl=-1,rl=0,X&6)throw Error(O(327));var n=t.callbackNode;if(Ni()&&t.callbackNode!==n)return null;var r=ml(t,t===Me?Le:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Dl(t,r);else{e=r;var i=X;X|=2;var o=l0();(Me!==t||Le!==e)&&(an=null,ji=ge()+500,Mr(t,e));do try{Jx();break}catch(l){s0(t,l)}while(!0);lf(),Pl.current=o,X=i,ye!==null?e=0:(Me=null,Le=0,e=Ce)}if(e!==0){if(e===2&&(i=Tc(t),i!==0&&(r=i,e=nd(t,i))),e===1)throw n=Ko,Mr(t,0),zn(t,r),at(t,ge()),n;if(e===6)zn(t,r);else{if(i=t.current.alternate,!(r&30)&&!Kx(i)&&(e=Dl(t,r),e===2&&(o=Tc(t),o!==0&&(r=o,e=nd(t,o))),e===1))throw n=Ko,Mr(t,0),zn(t,r),at(t,ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:gr(t,rt,an);break;case 3:if(zn(t,r),(r&130023424)===r&&(e=Sf+500-ge(),10<e)){if(ml(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zc(gr.bind(null,t,rt,an),e);break}gr(t,rt,an);break;case 4:if(zn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-$t(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ux(r/1960))-r,10<r){t.timeoutHandle=zc(gr.bind(null,t,rt,an),r);break}gr(t,rt,an);break;case 5:gr(t,rt,an);break;default:throw Error(O(329))}}}return at(t,ge()),t.callbackNode===n?o0.bind(null,t):null}function nd(t,e){var n=wo;return t.current.memoizedState.isDehydrated&&(Mr(t,e).flags|=256),t=Dl(t,e),t!==2&&(e=rt,rt=n,e!==null&&rd(e)),t}function rd(t){rt===null?rt=t:rt.push.apply(rt,t)}function Kx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Wt(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zn(t,e){for(e&=~wf,e&=~Fa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$t(e),r=1<<n;t[n]=-1,e&=~r}}function hp(t){if(X&6)throw Error(O(327));Ni();var e=ml(t,0);if(!(e&1))return at(t,ge()),null;var n=Dl(t,e);if(t.tag!==0&&n===2){var r=Tc(t);r!==0&&(e=r,n=nd(t,r))}if(n===1)throw n=Ko,Mr(t,0),zn(t,e),at(t,ge()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gr(t,rt,an),at(t,ge()),null}function Cf(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(ji=ge()+500,La&&ur())}}function Fr(t){_n!==null&&_n.tag===0&&!(X&6)&&Ni();var e=X;X|=1;var n=At.transition,r=ee;try{if(At.transition=null,ee=1,t)return t()}finally{ee=r,At.transition=n,X=e,!(X&6)&&ur()}}function Ef(){ft=vi.current,ie(vi)}function Mr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Sx(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(rf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xl();break;case 3:Li(),ie(st),ie(Ke),hf();break;case 5:ff(r);break;case 4:Li();break;case 13:ie(ue);break;case 19:ie(ue);break;case 10:af(r.type._context);break;case 22:case 23:Ef()}n=n.return}if(Me=t,ye=t=Xn(t.current,null),Le=ft=e,Ce=0,Ko=null,wf=Fa=Br=0,rt=wo=null,wr!==null){for(e=0;e<wr.length;e++)if(n=wr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}wr=null}return t}function s0(t,e){do{var n=ye;try{if(lf(),Zs.current=Ol,Tl){for(var r=ce.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tl=!1}if(jr=0,be=we=ce=null,ko=!1,Ho=0,xf.current=null,n===null||n.return===null){Ce=1,Ko=e,ye=null;break}e:{var o=t,s=n.return,l=n,a=e;if(e=Le,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=ep(s);if(p!==null){p.flags&=-257,tp(p,s,l,o,e),p.mode&1&&Zh(o,u,e),e=p,a=u;var h=e.updateQueue;if(h===null){var g=new Set;g.add(a),e.updateQueue=g}else h.add(a);break e}else{if(!(e&1)){Zh(o,u,e),bf();break e}a=Error(O(426))}}else if(se&&l.mode&1){var k=ep(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),tp(k,s,l,o,e),of(zi(a,l));break e}}o=a=zi(a,l),Ce!==4&&(Ce=2),wo===null?wo=[o]:wo.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var m=Hy(o,a,e);qh(o,m);break e;case 1:l=a;var y=o.type,v=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qn===null||!Qn.has(v)))){o.flags|=65536,e&=-e,o.lanes|=e;var w=Wy(o,l,e);qh(o,w);break e}}o=o.return}while(o!==null)}u0(n)}catch(E){e=E,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(!0)}function l0(){var t=Pl.current;return Pl.current=Ol,t===null?Ol:t}function bf(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Me===null||!(Br&268435455)&&!(Fa&268435455)||zn(Me,Le)}function Dl(t,e){var n=X;X|=2;var r=l0();(Me!==t||Le!==e)&&(an=null,Mr(t,e));do try{qx();break}catch(i){s0(t,i)}while(!0);if(lf(),X=n,Pl.current=r,ye!==null)throw Error(O(261));return Me=null,Le=0,Ce}function qx(){for(;ye!==null;)a0(ye)}function Jx(){for(;ye!==null&&!kk();)a0(ye)}function a0(t){var e=d0(t.alternate,t,ft);t.memoizedProps=t.pendingProps,e===null?u0(t):ye=e,xf.current=null}function u0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$x(n,e),n!==null){n.flags&=32767,ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ce=6,ye=null;return}}else if(n=_x(n,e,ft),n!==null){ye=n;return}if(e=e.sibling,e!==null){ye=e;return}ye=e=t}while(e!==null);Ce===0&&(Ce=5)}function gr(t,e,n){var r=ee,i=At.transition;try{At.transition=null,ee=1,Yx(t,e,n,r)}finally{At.transition=i,ee=r}return null}function Yx(t,e,n,r){do Ni();while(_n!==null);if(X&6)throw Error(O(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Ok(t,o),t===Me&&(ye=Me=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Is||(Is=!0,f0(pl,function(){return Ni(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=At.transition,At.transition=null;var s=ee;ee=1;var l=X;X|=4,xf.current=null,Hx(t,n),r0(n,t),mx(Ic),gl=!!Dc,Ic=Dc=null,t.current=n,Wx(n),xk(),X=l,ee=s,At.transition=o}else t.current=n;if(Is&&(Is=!1,_n=t,Rl=i),o=t.pendingLanes,o===0&&(Qn=null),Ck(n.stateNode),at(t,ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Al)throw Al=!1,t=ed,ed=null,t;return Rl&1&&t.tag!==0&&Ni(),o=t.pendingLanes,o&1?t===td?So++:(So=0,td=t):So=0,ur(),null}function Ni(){if(_n!==null){var t=Hg(Rl),e=At.transition,n=ee;try{if(At.transition=null,ee=16>t?16:t,_n===null)var r=!1;else{if(t=_n,_n=null,Rl=0,X&6)throw Error(O(331));var i=X;for(X|=4,j=t.current;j!==null;){var o=j,s=o.child;if(j.flags&16){var l=o.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(j=u;j!==null;){var c=j;switch(c.tag){case 0:case 11:case 15:xo(8,c,o)}var d=c.child;if(d!==null)d.return=c,j=d;else for(;j!==null;){c=j;var f=c.sibling,p=c.return;if(e0(c),c===u){j=null;break}if(f!==null){f.return=p,j=f;break}j=p}}}var h=o.alternate;if(h!==null){var g=h.child;if(g!==null){h.child=null;do{var k=g.sibling;g.sibling=null,g=k}while(g!==null)}}j=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,j=s;else e:for(;j!==null;){if(o=j,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xo(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,j=m;break e}j=o.return}}var y=t.current;for(j=y;j!==null;){s=j;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,j=v;else e:for(s=y;j!==null;){if(l=j,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ba(9,l)}}catch(E){he(l,l.return,E)}if(l===s){j=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,j=w;break e}j=l.return}}if(X=i,ur(),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(Pa,t)}catch{}r=!0}return r}finally{ee=n,At.transition=e}}return!1}function pp(t,e,n){e=zi(n,e),e=Hy(t,e,1),t=Yn(t,e,1),e=Qe(),t!==null&&(as(t,1,e),at(t,e))}function he(t,e,n){if(t.tag===3)pp(t,t,n);else for(;e!==null;){if(e.tag===3){pp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qn===null||!Qn.has(r))){t=zi(n,t),t=Wy(e,t,1),e=Yn(e,t,1),t=Qe(),e!==null&&(as(e,1,t),at(e,t));break}}e=e.return}}function Qx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qe(),t.pingedLanes|=t.suspendedLanes&n,Me===t&&(Le&n)===n&&(Ce===4||Ce===3&&(Le&130023424)===Le&&500>ge()-Sf?Mr(t,0):wf|=n),at(t,e)}function c0(t,e){e===0&&(t.mode&1?(e=Es,Es<<=1,!(Es&130023424)&&(Es=4194304)):e=1);var n=Qe();t=yn(t,e),t!==null&&(as(t,e,n),at(t,n))}function Gx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),c0(t,n)}function Xx(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),c0(t,n)}var d0;d0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||st.current)ot=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ot=!1,Fx(t,e,n);ot=!!(t.flags&131072)}else ot=!1,se&&e.flags&1048576&&my(e,Cl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tl(t,e),t=e.pendingProps;var i=Ri(e,Ke.current);bi(e,n),i=mf(null,e,r,t,i,n);var o=gf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,lt(r)?(o=!0,wl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cf(e),i.updater=ja,e.stateNode=i,i._reactInternals=e,Hc(e,r,t,n),e=Kc(null,e,r,!0,o,n)):(e.tag=0,se&&o&&nf(e),Ye(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=ew(r),t=zt(r,t),i){case 0:e=Uc(null,e,r,t,n);break e;case 1:e=ip(null,e,r,t,n);break e;case 11:e=np(null,e,r,t,n);break e;case 14:e=rp(null,e,r,zt(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),Uc(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),ip(t,e,r,i,n);case 3:e:{if(Jy(e),t===null)throw Error(O(387));r=e.pendingProps,o=e.memoizedState,i=o.element,wy(t,e),Nl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=zi(Error(O(423)),e),e=op(t,e,r,n,i);break e}else if(r!==i){i=zi(Error(O(424)),e),e=op(t,e,r,n,i);break e}else for(pt=Jn(e.stateNode.containerInfo.firstChild),mt=e,se=!0,Bt=null,n=ky(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Di(),r===i){e=vn(t,e,n);break e}Ye(t,e,r,n)}e=e.child}return e;case 5:return Sy(e),t===null&&_c(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Lc(r,i)?s=null:o!==null&&Lc(r,o)&&(e.flags|=32),qy(t,e),Ye(t,e,s,n),e.child;case 6:return t===null&&_c(e),null;case 13:return Yy(t,e,n);case 4:return df(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ii(e,null,r,n):Ye(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),np(t,e,r,i,n);case 7:return Ye(t,e,e.pendingProps,n),e.child;case 8:return Ye(t,e,e.pendingProps.children,n),e.child;case 12:return Ye(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,ne(El,r._currentValue),r._currentValue=s,o!==null)if(Wt(o.value,s)){if(o.children===i.children&&!st.current){e=vn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(o.tag===1){a=hn(-1,n&-n),a.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),$c(o.return,n,e),l.lanes|=n;break}a=a.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(O(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),$c(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Ye(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,bi(e,n),i=Dt(i),r=r(i),e.flags|=1,Ye(t,e,r,n),e.child;case 14:return r=e.type,i=zt(r,e.pendingProps),i=zt(r.type,i),rp(t,e,r,i,n);case 15:return Uy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:zt(r,i),tl(t,e),e.tag=1,lt(r)?(t=!0,wl(e)):t=!1,bi(e,n),Vy(e,r,i),Hc(e,r,i,n),Kc(null,e,r,!0,t,n);case 19:return Qy(t,e,n);case 22:return Ky(t,e,n)}throw Error(O(156,e.tag))};function f0(t,e){return Fg(t,e)}function Zx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ot(t,e,n,r){return new Zx(t,e,n,r)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ew(t){if(typeof t=="function")return Nf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wd)return 11;if(t===Ud)return 14}return 2}function Xn(t,e){var n=t.alternate;return n===null?(n=Ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function il(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Nf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ai:return Tr(n.children,i,o,e);case Hd:s=8,i|=8;break;case hc:return t=Ot(12,n,e,i|2),t.elementType=hc,t.lanes=o,t;case pc:return t=Ot(13,n,e,i),t.elementType=pc,t.lanes=o,t;case mc:return t=Ot(19,n,e,i),t.elementType=mc,t.lanes=o,t;case Sg:return _a(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xg:s=10;break e;case wg:s=9;break e;case Wd:s=11;break e;case Ud:s=14;break e;case Pn:s=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=Ot(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Tr(t,e,n,r){return t=Ot(7,t,r,e),t.lanes=n,t}function _a(t,e,n,r){return t=Ot(22,t,r,e),t.elementType=Sg,t.lanes=n,t.stateNode={isHidden:!1},t}function Lu(t,e,n){return t=Ot(6,t,null,e),t.lanes=n,t}function zu(t,e,n){return e=Ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tw(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gu(0),this.expirationTimes=gu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gu(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mf(t,e,n,r,i,o,s,l,a){return t=new tw(t,e,n,l,a),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ot(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cf(o),t}function nw(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:li,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function h0(t){if(!t)return or;t=t._reactInternals;e:{if(qr(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(lt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(lt(n))return hy(t,n,e)}return e}function p0(t,e,n,r,i,o,s,l,a){return t=Mf(n,r,!0,t,i,o,s,l,a),t.context=h0(null),n=t.current,r=Qe(),i=Gn(n),o=hn(r,i),o.callback=e??null,Yn(n,o,i),t.current.lanes=i,as(t,i,r),at(t,r),t}function $a(t,e,n,r){var i=e.current,o=Qe(),s=Gn(i);return n=h0(n),e.context===null?e.context=n:e.pendingContext=n,e=hn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Yn(i,e,s),t!==null&&(Vt(t,i,s,o),Xs(t,i,s)),s}function Il(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tf(t,e){mp(t,e),(t=t.alternate)&&mp(t,e)}function rw(){return null}var m0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Of(t){this._internalRoot=t}Va.prototype.render=Of.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));$a(t,e,null,null)};Va.prototype.unmount=Of.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Fr(function(){$a(null,t,null,null)}),e[gn]=null}};function Va(t){this._internalRoot=t}Va.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ln.length&&e!==0&&e<Ln[n].priority;n++);Ln.splice(n,0,t),n===0&&Jg(t)}};function Pf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ha(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gp(){}function iw(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Il(s);o.call(u)}}var s=p0(e,r,t,0,null,!1,!1,"",gp);return t._reactRootContainer=s,t[gn]=s.current,Bo(t.nodeType===8?t.parentNode:t),Fr(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=Il(a);l.call(u)}}var a=Mf(t,0,!1,null,null,!1,!1,"",gp);return t._reactRootContainer=a,t[gn]=a.current,Bo(t.nodeType===8?t.parentNode:t),Fr(function(){$a(e,a,n,r)}),a}function Wa(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var a=Il(s);l.call(a)}}$a(e,s,t,i)}else s=iw(n,e,t,i,r);return Il(s)}Wg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ao(e.pendingLanes);n!==0&&(Jd(e,n|1),at(e,ge()),!(X&6)&&(ji=ge()+500,ur()))}break;case 13:Fr(function(){var r=yn(t,1);if(r!==null){var i=Qe();Vt(r,t,1,i)}}),Tf(t,1)}};Yd=function(t){if(t.tag===13){var e=yn(t,134217728);if(e!==null){var n=Qe();Vt(e,t,134217728,n)}Tf(t,134217728)}};Ug=function(t){if(t.tag===13){var e=Gn(t),n=yn(t,e);if(n!==null){var r=Qe();Vt(n,t,e,r)}Tf(t,e)}};Kg=function(){return ee};qg=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};bc=function(t,e,n){switch(e){case"input":if(vc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ia(r);if(!i)throw Error(O(90));Eg(r),vc(r,i)}}}break;case"textarea":Ng(t,n);break;case"select":e=n.value,e!=null&&wi(t,!!n.multiple,e,!1)}};Dg=Cf;Ig=Fr;var ow={usingClientEntryPoint:!1,Events:[cs,fi,Ia,Ag,Rg,Cf]},no={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sw={bundleType:no.bundleType,version:no.version,rendererPackageName:no.rendererPackageName,rendererConfig:no.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jg(t),t===null?null:t.stateNode},findFiberByHostInstance:no.findFiberByHostInstance||rw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{Pa=Ls.inject(sw),tn=Ls}catch{}}yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ow;yt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pf(e))throw Error(O(200));return nw(t,e,null,n)};yt.createRoot=function(t,e){if(!Pf(t))throw Error(O(299));var n=!1,r="",i=m0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mf(t,1,!1,null,null,n,!1,r,i),t[gn]=e.current,Bo(t.nodeType===8?t.parentNode:t),new Of(e)};yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=jg(e),t=t===null?null:t.stateNode,t};yt.flushSync=function(t){return Fr(t)};yt.hydrate=function(t,e,n){if(!Ha(e))throw Error(O(200));return Wa(null,t,e,!0,n)};yt.hydrateRoot=function(t,e,n){if(!Pf(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=m0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=p0(e,null,t,1,n??null,i,!1,o,s),t[gn]=e.current,Bo(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Va(e)};yt.render=function(t,e,n){if(!Ha(e))throw Error(O(200));return Wa(null,t,e,!1,n)};yt.unmountComponentAtNode=function(t){if(!Ha(t))throw Error(O(40));return t._reactRootContainer?(Fr(function(){Wa(null,null,t,!1,function(){t._reactRootContainer=null,t[gn]=null})}),!0):!1};yt.unstable_batchedUpdates=Cf;yt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ha(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Wa(t,e,n,!1,r)};yt.version="18.3.1-next-f1338f8080-20240426";function g0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g0)}catch(t){console.error(t)}}g0(),gg.exports=yt;var y0=gg.exports;const lw=Ld(y0);var v0,yp=y0;v0=yp.createRoot,yp.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(this,arguments)}var $n;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($n||($n={}));const vp="popstate";function aw(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:l="",hash:a=""}=Jr(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),id("",{pathname:s,search:l,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),l="";if(s&&s.getAttribute("href")){let a=i.location.href,u=a.indexOf("#");l=u===-1?a:a.slice(0,u)}return l+"#"+(typeof o=="string"?o:Ll(o))}function r(i,o){Af(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return cw(e,n,r,t)}function ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Af(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uw(){return Math.random().toString(36).substr(2,8)}function kp(t,e){return{usr:t.state,key:t.key,idx:e}}function id(t,e,n,r){return n===void 0&&(n=null),qo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jr(e):e,{state:n,key:e&&e.key||r||uw()})}function Ll(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cw(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=$n.Pop,a=null,u=c();u==null&&(u=0,s.replaceState(qo({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){l=$n.Pop;let k=c(),m=k==null?null:k-u;u=k,a&&a({action:l,location:g.location,delta:m})}function f(k,m){l=$n.Push;let y=id(g.location,k,m);n&&n(y,k),u=c()+1;let v=kp(y,u),w=g.createHref(y);try{s.pushState(v,"",w)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(w)}o&&a&&a({action:l,location:g.location,delta:1})}function p(k,m){l=$n.Replace;let y=id(g.location,k,m);n&&n(y,k),u=c();let v=kp(y,u),w=g.createHref(y);s.replaceState(v,"",w),o&&a&&a({action:l,location:g.location,delta:0})}function h(k){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof k=="string"?k:Ll(k);return y=y.replace(/ $/,"%20"),ke(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return l},get location(){return t(i,s)},listen(k){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(vp,d),a=k,()=>{i.removeEventListener(vp,d),a=null}},createHref(k){return e(i,k)},createURL:h,encodeLocation(k){let m=h(k);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(k){return s.go(k)}};return g}var xp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(xp||(xp={}));function dw(t,e,n){return n===void 0&&(n="/"),fw(t,e,n,!1)}function fw(t,e,n,r){let i=typeof e=="string"?Jr(e):e,o=Rf(i.pathname||"/",n);if(o==null)return null;let s=k0(t);hw(s);let l=null;for(let a=0;l==null&&a<s.length;++a){let u=Ew(o);l=Sw(s[a],u,r)}return l}function k0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let a={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};a.relativePath.startsWith("/")&&(ke(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let u=Zn([r,a.relativePath]),c=n.concat(a);o.children&&o.children.length>0&&(ke(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),k0(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:xw(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let a of x0(o.path))i(o,s,a)}),e}function x0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=x0(r.join("/")),l=[];return l.push(...s.map(a=>a===""?o:[o,a].join("/"))),i&&l.push(...s),l.map(a=>t.startsWith("/")&&a===""?"/":a)}function hw(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ww(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const pw=/^:[\w-]+$/,mw=3,gw=2,yw=1,vw=10,kw=-2,wp=t=>t==="*";function xw(t,e){let n=t.split("/"),r=n.length;return n.some(wp)&&(r+=kw),e&&(r+=gw),n.filter(i=>!wp(i)).reduce((i,o)=>i+(pw.test(o)?mw:o===""?yw:vw),r)}function ww(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Sw(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let a=r[l],u=l===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",d=Sp({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c),f=a.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Sp({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Zn([o,d.pathname]),pathnameBase:Tw(Zn([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Zn([o,d.pathnameBase]))}return s}function Sp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Cw(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let g=l[d]||"";s=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const h=l[d];return p&&!h?u[f]=void 0:u[f]=(h||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function Cw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Af(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,a)=>(r.push({paramName:l,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ew(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Af(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bw(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Jr(t):t;return{pathname:n?n.startsWith("/")?n:Nw(n,e):e,search:Ow(r),hash:Pw(i)}}function Nw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ju(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Mw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function w0(t,e){let n=Mw(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function S0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Jr(t):(i=qo({},t),ke(!i.pathname||!i.pathname.includes("?"),ju("?","pathname","search",i)),ke(!i.pathname||!i.pathname.includes("#"),ju("#","pathname","hash",i)),ke(!i.search||!i.search.includes("#"),ju("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}l=d>=0?e[d]:"/"}let a=bw(i,l),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(u||c)&&(a.pathname+="/"),a}const Zn=t=>t.join("/").replace(/\/\/+/g,"/"),Tw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ow=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Pw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Aw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const C0=["post","put","patch","delete"];new Set(C0);const Rw=["get",...C0];new Set(Rw);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jo(){return Jo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jo.apply(this,arguments)}const Df=b.createContext(null),Dw=b.createContext(null),Yr=b.createContext(null),Ua=b.createContext(null),cr=b.createContext({outlet:null,matches:[],isDataRoute:!1}),E0=b.createContext(null);function Iw(t,e){let{relative:n}=e===void 0?{}:e;fs()||ke(!1);let{basename:r,navigator:i}=b.useContext(Yr),{hash:o,pathname:s,search:l}=M0(t,{relative:n}),a=s;return r!=="/"&&(a=s==="/"?r:Zn([r,s])),i.createHref({pathname:a,search:l,hash:o})}function fs(){return b.useContext(Ua)!=null}function Ka(){return fs()||ke(!1),b.useContext(Ua).location}function b0(t){b.useContext(Yr).static||b.useLayoutEffect(t)}function hs(){let{isDataRoute:t}=b.useContext(cr);return t?qw():Lw()}function Lw(){fs()||ke(!1);let t=b.useContext(Df),{basename:e,future:n,navigator:r}=b.useContext(Yr),{matches:i}=b.useContext(cr),{pathname:o}=Ka(),s=JSON.stringify(w0(i,n.v7_relativeSplatPath)),l=b.useRef(!1);return b0(()=>{l.current=!0}),b.useCallback(function(u,c){if(c===void 0&&(c={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let d=S0(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Zn([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,s,o,t])}function N0(){let{matches:t}=b.useContext(cr),e=t[t.length-1];return e?e.params:{}}function M0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Yr),{matches:i}=b.useContext(cr),{pathname:o}=Ka(),s=JSON.stringify(w0(i,r.v7_relativeSplatPath));return b.useMemo(()=>S0(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function zw(t,e){return jw(t,e)}function jw(t,e,n,r){fs()||ke(!1);let{navigator:i}=b.useContext(Yr),{matches:o}=b.useContext(cr),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=Ka(),c;if(e){var d;let k=typeof e=="string"?Jr(e):e;a==="/"||(d=k.pathname)!=null&&d.startsWith(a)||ke(!1),c=k}else c=u;let f=c.pathname||"/",p=f;if(a!=="/"){let k=a.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let h=dw(t,{pathname:p}),g=Vw(h&&h.map(k=>Object.assign({},k,{params:Object.assign({},l,k.params),pathname:Zn([a,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?a:Zn([a,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,n,r);return e&&g?b.createElement(Ua.Provider,{value:{location:Jo({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:$n.Pop}},g):g}function Bw(){let t=Kw(),e=Aw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const Fw=b.createElement(Bw,null);class _w extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(cr.Provider,{value:this.props.routeContext},b.createElement(E0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $w(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(Df);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(cr.Provider,{value:e},r)}function Vw(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let c=s.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);c>=0||ke(!1),s=s.slice(0,Math.min(s.length,c+1))}let a=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:p}=n,h=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||h){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,f)=>{let p,h=!1,g=null,k=null;n&&(p=l&&d.route.id?l[d.route.id]:void 0,g=d.route.errorElement||Fw,a&&(u<0&&f===0?(h=!0,k=null):u===f&&(h=!0,k=d.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,f+1)),y=()=>{let v;return p?v=g:h?v=k:d.route.Component?v=b.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,b.createElement($w,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?b.createElement(_w,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var T0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(T0||{}),zl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zl||{});function Hw(t){let e=b.useContext(Df);return e||ke(!1),e}function Ww(t){let e=b.useContext(Dw);return e||ke(!1),e}function Uw(t){let e=b.useContext(cr);return e||ke(!1),e}function O0(t){let e=Uw(),n=e.matches[e.matches.length-1];return n.route.id||ke(!1),n.route.id}function Kw(){var t;let e=b.useContext(E0),n=Ww(zl.UseRouteError),r=O0(zl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function qw(){let{router:t}=Hw(T0.UseNavigateStable),e=O0(zl.UseNavigateStable),n=b.useRef(!1);return b0(()=>{n.current=!0}),b.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Jo({fromRouteId:e},o)))},[t,e])}const Cp={};function Jw(t,e){Cp[e]||(Cp[e]=!0,console.warn(e))}const Ep=(t,e,n)=>Jw(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function Yw(t,e){t!=null&&t.v7_startTransition||Ep("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Ep("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function ri(t){ke(!1)}function Qw(t){let{basename:e="/",children:n=null,location:r,navigationType:i=$n.Pop,navigator:o,static:s=!1,future:l}=t;fs()&&ke(!1);let a=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:a,navigator:o,static:s,future:Jo({v7_relativeSplatPath:!1},l)}),[a,l,o,s]);typeof r=="string"&&(r=Jr(r));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:h="default"}=r,g=b.useMemo(()=>{let k=Rf(c,a);return k==null?null:{location:{pathname:k,search:d,hash:f,state:p,key:h},navigationType:i}},[a,c,d,f,p,h,i]);return g==null?null:b.createElement(Yr.Provider,{value:u},b.createElement(Ua.Provider,{children:n,value:g}))}function Gw(t){let{children:e,location:n}=t;return zw(od(e),n)}new Promise(()=>{});function od(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let o=[...e,i];if(r.type===b.Fragment){n.push.apply(n,od(r.props.children,o));return}r.type!==ri&&ke(!1),!r.props.index||!r.props.children||ke(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=od(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}function Xw(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Zw(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eS(t,e){return t.button===0&&(!e||e==="_self")&&!Zw(t)}const tS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],nS="6";try{window.__reactRouterVersion=nS}catch{}const rS="startTransition",bp=Qv[rS];function iS(t){let{basename:e,children:n,future:r,window:i}=t,o=b.useRef();o.current==null&&(o.current=aw({window:i,v5Compat:!0}));let s=o.current,[l,a]=b.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=b.useCallback(d=>{u&&bp?bp(()=>a(d)):a(d)},[a,u]);return b.useLayoutEffect(()=>s.listen(c),[s,c]),b.useEffect(()=>Yw(r),[r]),b.createElement(Qw,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:s,future:r})}const oS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_r=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:a,to:u,preventScrollReset:c,viewTransition:d}=e,f=Xw(e,tS),{basename:p}=b.useContext(Yr),h,g=!1;if(typeof u=="string"&&sS.test(u)&&(h=u,oS))try{let v=new URL(window.location.href),w=u.startsWith("//")?new URL(v.protocol+u):new URL(u),E=Rf(w.pathname,p);w.origin===v.origin&&E!=null?u=E+w.search+w.hash:g=!0}catch{}let k=Iw(u,{relative:i}),m=lS(u,{replace:s,state:l,target:a,preventScrollReset:c,relative:i,viewTransition:d});function y(v){r&&r(v),v.defaultPrevented||m(v)}return b.createElement("a",sd({},f,{href:h||k,onClick:g||o?r:y,ref:n,target:a}))});var Np;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Np||(Np={}));var Mp;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Mp||(Mp={}));function lS(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:l}=e===void 0?{}:e,a=hs(),u=Ka(),c=M0(t,{relative:s});return b.useCallback(d=>{if(eS(d,n)){d.preventDefault();let f=r!==void 0?r:Ll(u)===Ll(c);a(t,{replace:f,state:i,preventScrollReset:o,relative:s,viewTransition:l})}},[u,a,c,r,i,n,t,o,s,l])}const P0=b.createContext(void 0);function aS({children:t}){const[e,n]=b.useState(()=>localStorage.getItem("theme")||"light");b.useEffect(()=>{localStorage.setItem("theme",e),document.documentElement.classList.toggle("dark",e==="dark")},[e]);const r=()=>{n(i=>i==="light"?"dark":"light")};return x.jsx(P0.Provider,{value:{theme:e,toggleTheme:r},children:t})}function uS(){const t=b.useContext(P0);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t}function qa(t,e){const[n,r]=b.useState(()=>{const i=localStorage.getItem(t);return i?JSON.parse(i):e});return b.useEffect(()=>{localStorage.setItem(t,JSON.stringify(n))},[t,n]),[n,r]}const Ja=[{id:"1",title:"The Art of Modern Web Development",description:"Exploring the latest trends and best practices in web development for 2024.",content:`Web development has evolved significantly over the past decade. Modern web applications demand a perfect blend of performance, user experience, and maintainability.

In this post, we'll explore key concepts that define modern web development:

1. Component-Based Architecture
2. State Management Patterns
3. Performance Optimization
4. Responsive Design Principles
5. Accessibility Considerations

Stay tuned as we dive deep into each of these topics in future posts!`,date:"2024-03-15",author:"Sarah Chen",imageUrl:"https://images.unsplash.com/photo-1461749280684-dccba630e2f6?auto=format&fit=crop&q=80&w=1000",tags:["Web Development","Frontend","Best Practices"]},{id:"2",title:"Mastering React Hooks",description:"A comprehensive guide to using React Hooks effectively in your applications.",content:`React Hooks have revolutionized how we write React components. They provide a more elegant way to handle state and side effects in functional components.

Let's explore some key advantages of using hooks:

• Simplified state management
• Better code organization
• Improved reusability
• Reduced boilerplate

Understanding these concepts is crucial for modern React development.`,date:"2024-03-14",author:"Michael Rodriguez",imageUrl:"https://images.unsplash.com/photo-1555099962-4199c345e5dd?auto=format&fit=crop&q=80&w=1000",tags:["React","JavaScript","Programming"]}];function Kt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function $r(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const A0=6048e5,cS=864e5;let dS={};function Ya(){return dS}function Yo(t,e){var l,a,u,c;const n=Ya(),r=(e==null?void 0:e.weekStartsOn)??((a=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:a.weekStartsOn)??n.weekStartsOn??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=Kt(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function jl(t){return Yo(t,{weekStartsOn:1})}function R0(t){const e=Kt(t),n=e.getFullYear(),r=$r(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=jl(r),o=$r(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=jl(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function Tp(t){const e=Kt(t);return e.setHours(0,0,0,0),e}function Op(t){const e=Kt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function fS(t,e){const n=Tp(t),r=Tp(e),i=+n-Op(n),o=+r-Op(r);return Math.round((i-o)/cS)}function hS(t){const e=R0(t),n=$r(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),jl(n)}function pS(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function mS(t){if(!pS(t)&&typeof t!="number")return!1;const e=Kt(t);return!isNaN(Number(e))}function gS(t){const e=Kt(t),n=$r(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const yS={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vS=(t,e,n)=>{let r;const i=yS[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Bu(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const kS={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xS={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wS={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},SS={date:Bu({formats:kS,defaultWidth:"full"}),time:Bu({formats:xS,defaultWidth:"full"}),dateTime:Bu({formats:wS,defaultWidth:"full"})},CS={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ES=(t,e,n,r)=>CS[t];function ro(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):s;i=t.formattingValues[l]||t.formattingValues[s]}else{const s=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const bS={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NS={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},MS={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TS={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},OS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},PS={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},AS=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},RS={ordinalNumber:AS,era:ro({values:bS,defaultWidth:"wide"}),quarter:ro({values:NS,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ro({values:MS,defaultWidth:"wide"}),day:ro({values:TS,defaultWidth:"wide"}),dayPeriod:ro({values:OS,defaultWidth:"wide",formattingValues:PS,defaultFormattingWidth:"wide"})};function io(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],a=Array.isArray(l)?IS(l,d=>d.test(s)):DS(l,d=>d.test(s));let u;u=t.valueCallback?t.valueCallback(a):a,u=n.valueCallback?n.valueCallback(u):u;const c=e.slice(s.length);return{value:u,rest:c}}}function DS(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function IS(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function LS(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const l=e.slice(i.length);return{value:s,rest:l}}}const zS=/^(\d+)(th|st|nd|rd)?/i,jS=/\d+/i,BS={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},FS={any:[/^b/i,/^(a|c)/i]},_S={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$S={any:[/1/i,/2/i,/3/i,/4/i]},VS={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},HS={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},WS={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},US={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KS={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qS={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},JS={ordinalNumber:LS({matchPattern:zS,parsePattern:jS,valueCallback:t=>parseInt(t,10)}),era:io({matchPatterns:BS,defaultMatchWidth:"wide",parsePatterns:FS,defaultParseWidth:"any"}),quarter:io({matchPatterns:_S,defaultMatchWidth:"wide",parsePatterns:$S,defaultParseWidth:"any",valueCallback:t=>t+1}),month:io({matchPatterns:VS,defaultMatchWidth:"wide",parsePatterns:HS,defaultParseWidth:"any"}),day:io({matchPatterns:WS,defaultMatchWidth:"wide",parsePatterns:US,defaultParseWidth:"any"}),dayPeriod:io({matchPatterns:KS,defaultMatchWidth:"any",parsePatterns:qS,defaultParseWidth:"any"})},YS={code:"en-US",formatDistance:vS,formatLong:SS,formatRelative:ES,localize:RS,match:JS,options:{weekStartsOn:0,firstWeekContainsDate:1}};function QS(t){const e=Kt(t);return fS(e,gS(e))+1}function GS(t){const e=Kt(t),n=+jl(e)-+hS(e);return Math.round(n/A0)+1}function D0(t,e){var c,d,f,p;const n=Kt(t),r=n.getFullYear(),i=Ya(),o=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,s=$r(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const l=Yo(s,e),a=$r(t,0);a.setFullYear(r,0,o),a.setHours(0,0,0,0);const u=Yo(a,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function XS(t,e){var l,a,u,c;const n=Ya(),r=(e==null?void 0:e.firstWeekContainsDate)??((a=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:a.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(u=n.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=D0(t,e),o=$r(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),Yo(o,e)}function ZS(t,e){const n=Kt(t),r=+Yo(n,e)-+XS(n,e);return Math.round(r/A0)+1}function Z(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Mn={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Z(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Z(n+1,2)},d(t,e){return Z(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Z(t.getHours()%12||12,e.length)},H(t,e){return Z(t.getHours(),e.length)},m(t,e){return Z(t.getMinutes(),e.length)},s(t,e){return Z(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Z(i,e.length)}},Zr={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Pp={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Mn.y(t,e)},Y:function(t,e,n,r){const i=D0(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return Z(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Z(o,e.length)},R:function(t,e){const n=R0(t);return Z(n,e.length)},u:function(t,e){const n=t.getFullYear();return Z(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Z(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Z(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Mn.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Z(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=ZS(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Z(i,e.length)},I:function(t,e,n){const r=GS(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Z(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Mn.d(t,e)},D:function(t,e,n){const r=QS(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Z(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Z(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Z(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Z(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Zr.noon:r===0?i=Zr.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Zr.evening:r>=12?i=Zr.afternoon:r>=4?i=Zr.morning:i=Zr.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Mn.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Mn.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Z(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Z(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Mn.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Mn.s(t,e)},S:function(t,e){return Mn.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Rp(r);case"XXXX":case"XX":return yr(r);case"XXXXX":case"XXX":default:return yr(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Rp(r);case"xxxx":case"xx":return yr(r);case"xxxxx":case"xxx":default:return yr(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Ap(r,":");case"OOOO":default:return"GMT"+yr(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Ap(r,":");case"zzzz":default:return"GMT"+yr(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Z(r,e.length)},T:function(t,e,n){const r=t.getTime();return Z(r,e.length)}};function Ap(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Z(o,2)}function Rp(t,e){return t%60===0?(t>0?"-":"+")+Z(Math.abs(t)/60,2):yr(t,e)}function yr(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Z(Math.trunc(r/60),2),o=Z(r%60,2);return n+i+e+o}const Dp=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},I0=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},eC=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Dp(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",Dp(r,e)).replace("{{time}}",I0(i,e))},tC={p:I0,P:eC},nC=/^D+$/,rC=/^Y+$/,iC=["D","DD","YY","YYYY"];function oC(t){return nC.test(t)}function sC(t){return rC.test(t)}function lC(t,e,n){const r=aC(t,e,n);if(console.warn(r),iC.includes(t))throw new RangeError(r)}function aC(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dC=/^'([^]*?)'?$/,fC=/''/g,hC=/[a-zA-Z]/;function L0(t,e,n){var c,d,f,p;const r=Ya(),i=r.locale??YS,o=r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,s=r.weekStartsOn??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,l=Kt(t);if(!mS(l))throw new RangeError("Invalid time value");let a=e.match(cC).map(h=>{const g=h[0];if(g==="p"||g==="P"){const k=tC[g];return k(h,i.formatLong)}return h}).join("").match(uC).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const g=h[0];if(g==="'")return{isToken:!1,value:pC(h)};if(Pp[g])return{isToken:!0,value:h};if(g.match(hC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(a=i.localize.preprocessor(l,a));const u={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return a.map(h=>{if(!h.isToken)return h.value;const g=h.value;(sC(g)||oC(g))&&lC(g,e,String(t));const k=Pp[g[0]];return k(l,g,i.localize,u)}).join("")}function pC(t){const e=t.match(dC);return e?e[1].replace(fC,"'"):t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var mC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),kt=(t,e)=>{const n=b.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:a,...u},c)=>b.createElement("svg",{ref:c,...mC,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${gC(t)}`,l].join(" "),...u},[...e.map(([d,f])=>b.createElement(d,f)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=kt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=kt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=kt("Bold",[["path",{d:"M14 12a4 4 0 0 0 0-8H6v8",key:"v2sylx"}],["path",{d:"M15 20a4 4 0 0 0 0-8H6v8Z",key:"1ef5ya"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=kt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=kt("Italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xC=kt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=kt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SC=kt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=kt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=kt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=kt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=kt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function z0({blog:t,onDelete:e,hideActions:n=!1}){const r=t.tags||[];return x.jsxs("article",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden transition-transform hover:scale-[1.02]",children:[x.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-48 object-cover"}),x.jsxs("div",{className:"p-6",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:L0(new Date(t.date),"MMM dd, yyyy")}),x.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.author})]}),x.jsx("h2",{className:"text-xl font-bold mb-2 text-gray-800 dark:text-white",children:t.title}),x.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:t.description}),x.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.map(i=>x.jsx("span",{className:"px-2 py-1 bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full text-sm",children:i},i))}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs(_r,{to:`/blog/${t.id}`,className:"inline-flex items-center text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:["Read More ",x.jsx(yC,{className:"ml-2 h-4 w-4"})]}),!n&&x.jsxs("div",{className:"flex gap-2",children:[x.jsx(_r,{to:`/blog/${t.id}/edit`,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400",children:x.jsx(EC,{className:"h-5 w-5"})}),x.jsx("button",{onClick:e,className:"p-2 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:x.jsx(NC,{className:"h-5 w-5"})})]})]})]})]})}function TC(){const[t]=qa("blogs",Ja),e=t.slice(0,3);return x.jsxs("div",{className:"min-h-screen",children:[x.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white",children:x.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-20",children:[x.jsx("h1",{className:"text-5xl font-bold mb-6",children:"Modern Blog Platform"}),x.jsx("p",{className:"text-xl mb-8 max-w-2xl",children:"Discover insightful articles about web development, programming, and technology. Share your knowledge with our growing community."}),x.jsx(_r,{to:"/blogs",className:"inline-block bg-white text-indigo-600 px-6 py-3 rounded-lg font-semibold hover:bg-indigo-50 transition-colors",children:"Explore All Blogs"})]})}),x.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-16",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8",children:[x.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Recent Posts"}),x.jsx(_r,{to:"/blogs",className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:"View All →"})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(n=>x.jsx(z0,{blog:n,onDelete:()=>{},hideActions:!0},n.id))})]})]})}function j0({tags:t,onChange:e}){const[n,r]=b.useState(""),i=s=>{s.key==="Enter"&&n.trim()&&(s.preventDefault(),t.includes(n.trim())||e([...t,n.trim()]),r(""))},o=s=>{e(t.filter(l=>l!==s))};return x.jsxs("div",{className:"w-full",children:[x.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.map(s=>x.jsxs("span",{className:"inline-flex items-center bg-indigo-100 text-indigo-800 px-2 py-1 rounded-md text-sm",children:[s,x.jsx("button",{onClick:()=>o(s),className:"ml-1 hover:text-indigo-600",children:x.jsx(MC,{className:"h-3 w-3"})})]},s))}),x.jsx("input",{type:"text",value:n,onChange:s=>r(s.target.value),onKeyDown:i,placeholder:"Add tags (press Enter)",className:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]})}const B0=b.createContext(null);function OC({children:t}){const[e,n]=b.useState(!1),r=(o,s)=>o==="nipun"&&s==="123"?(n(!0),!0):!1,i=()=>{n(!1)};return x.jsx(B0.Provider,{value:{isAuthenticated:e,login:r,logout:i},children:t})}function F0(){const t=b.useContext(B0);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function PC({onSubmit:t}){const[e,n]=b.useState(!1),[r,i]=b.useState({title:"",description:"",content:"",imageUrl:"",tags:[]}),{isAuthenticated:o}=F0();if(hs(),!o)return x.jsx("div",{className:"text-center mb-8",children:x.jsx(_r,{to:"/login",className:"text-indigo-600 hover:text-indigo-800",children:"Login to create a new blog post"})});const s=l=>{l.preventDefault();const a={id:Date.now().toString(),...r,date:new Date().toISOString().split("T")[0],author:"Anonymous",tags:r.tags};t(a),i({title:"",description:"",content:"",imageUrl:"",tags:[]}),n(!1)};return x.jsxs("div",{className:"mb-8",children:[x.jsxs("button",{onClick:()=>n(!e),className:"flex items-center gap-2 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:[x.jsx(SC,{className:"h-5 w-5"}),e?"Cancel":"New Blog Post"]}),e&&x.jsx("form",{onSubmit:s,className:"mt-4 bg-white p-6 rounded-lg shadow-md",children:x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),x.jsx("input",{type:"text",required:!0,value:r.title,onChange:l=>i({...r,title:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),x.jsx("input",{type:"text",required:!0,value:r.description,onChange:l=>i({...r,description:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image URL"}),x.jsx("input",{type:"url",required:!0,value:r.imageUrl,onChange:l=>i({...r,imageUrl:l.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tags"}),x.jsx(j0,{tags:r.tags,onChange:l=>i({...r,tags:l})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Content"}),x.jsx("textarea",{required:!0,value:r.content,onChange:l=>i({...r,content:l.target.value}),rows:6,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),x.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:"Publish Post"})]})})]})}function AC({onSearch:t}){return x.jsxs("div",{className:"relative mb-6",children:[x.jsx("input",{type:"text",placeholder:"Search blogs...",onChange:e=>t(e.target.value),className:`w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-2 
          focus:ring-indigo-500 dark:bg-gray-800 dark:border-gray-700`}),x.jsx(CC,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})}function RC({startDate:t,endDate:e,onStartDateChange:n,onEndDateChange:r}){return x.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[x.jsxs("div",{className:"relative",children:[x.jsx(Lp,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),x.jsx("input",{type:"date",value:t,onChange:i=>n(i.target.value),className:`pl-10 pr-4 py-2 border rounded-lg focus:ring-2 
            focus:ring-indigo-500 dark:bg-gray-800 dark:border-gray-700`})]}),x.jsx("span",{className:"text-gray-500",children:"to"}),x.jsxs("div",{className:"relative",children:[x.jsx(Lp,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),x.jsx("input",{type:"date",value:e,onChange:i=>r(i.target.value),className:`pl-10 pr-4 py-2 border rounded-lg focus:ring-2 
            focus:ring-indigo-500 dark:bg-gray-800 dark:border-gray-700`})]})]})}var _0={exports:{}};(function(t,e){(function(n,r){t.exports=r(b)})(Iv,n=>(()=>{var r={703:(l,a,u)=>{var c=u(414);function d(){}function f(){}f.resetWarningCache=d,l.exports=function(){function p(k,m,y,v,w,E){if(E!==c){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}function h(){return p}p.isRequired=p;var g={array:p,bigint:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:h,element:p,elementType:p,instanceOf:h,node:p,objectOf:h,oneOf:h,oneOfType:h,shape:h,exact:h,checkPropTypes:f,resetWarningCache:d};return g.PropTypes=g,g}},697:(l,a,u)=>{l.exports=u(703)()},414:l=>{l.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},98:l=>{l.exports=n}},i={};function o(l){var a=i[l];if(a!==void 0)return a.exports;var u=i[l]={exports:{}};return r[l](u,u.exports,o),u.exports}o.n=l=>{var a=l&&l.__esModule?()=>l.default:()=>l;return o.d(a,{a}),a},o.d=(l,a)=>{for(var u in a)o.o(a,u)&&!o.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:a[u]})},o.o=(l,a)=>Object.prototype.hasOwnProperty.call(l,a),o.r=l=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})};var s={};return(()=>{o.r(s),o.d(s,{default:()=>fe});var l=o(98),a=o.n(l),u=o(697),c=o.n(u);function d(){return d=Object.assign?Object.assign.bind():function(z){for(var F=1;F<arguments.length;F++){var q=arguments[F];for(var G in q)Object.prototype.hasOwnProperty.call(q,G)&&(z[G]=q[G])}return z},d.apply(this,arguments)}var f=function(z){var F=z.pageClassName,q=z.pageLinkClassName,G=z.page,Fe=z.selected,Ee=z.activeClassName,P=z.activeLinkClassName,N=z.getEventListener,S=z.pageSelectedHandler,$=z.href,L=z.extraAriaContext,H=z.pageLabelBuilder,J=z.rel,oe=z.ariaLabel||"Page "+G+(L?" "+L:""),le=null;return Fe&&(le="page",oe=z.ariaLabel||"Page "+G+" is your current page",F=F!==void 0?F+" "+Ee:Ee,q!==void 0?P!==void 0&&(q=q+" "+P):q=P),a().createElement("li",{className:F},a().createElement("a",d({rel:J,role:$?void 0:"button",className:q,href:$,tabIndex:Fe?"-1":"0","aria-label":oe,"aria-current":le,onKeyPress:S},N(S)),H(G)))};f.propTypes={pageSelectedHandler:c().func.isRequired,selected:c().bool.isRequired,pageClassName:c().string,pageLinkClassName:c().string,activeClassName:c().string,activeLinkClassName:c().string,extraAriaContext:c().string,href:c().string,ariaLabel:c().string,page:c().number.isRequired,getEventListener:c().func.isRequired,pageLabelBuilder:c().func.isRequired,rel:c().string};const p=f;function h(){return h=Object.assign?Object.assign.bind():function(z){for(var F=1;F<arguments.length;F++){var q=arguments[F];for(var G in q)Object.prototype.hasOwnProperty.call(q,G)&&(z[G]=q[G])}return z},h.apply(this,arguments)}var g=function(z){var F=z.breakLabel,q=z.breakAriaLabel,G=z.breakClassName,Fe=z.breakLinkClassName,Ee=z.breakHandler,P=z.getEventListener,N=G||"break";return a().createElement("li",{className:N},a().createElement("a",h({className:Fe,role:"button",tabIndex:"0","aria-label":q,onKeyPress:Ee},P(Ee)),F))};g.propTypes={breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabel:c().string,breakClassName:c().string,breakLinkClassName:c().string,breakHandler:c().func.isRequired,getEventListener:c().func.isRequired};const k=g;function m(z){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return z??F}function y(z){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},y(z)}function v(){return v=Object.assign?Object.assign.bind():function(z){for(var F=1;F<arguments.length;F++){var q=arguments[F];for(var G in q)Object.prototype.hasOwnProperty.call(q,G)&&(z[G]=q[G])}return z},v.apply(this,arguments)}function w(z,F){for(var q=0;q<F.length;q++){var G=F[q];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(z,G.key,G)}}function E(z,F){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,G){return q.__proto__=G,q},E(z,F)}function C(z,F){if(F&&(y(F)==="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(z)}function M(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function R(z){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)},R(z)}function D(z,F,q){return F in z?Object.defineProperty(z,F,{value:q,enumerable:!0,configurable:!0,writable:!0}):z[F]=q,z}var V=function(z){(function(N,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(S&&S.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),S&&E(N,S)})(P,z);var F,q,G,Fe,Ee=(G=P,Fe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var N,S=R(G);if(Fe){var $=R(this).constructor;N=Reflect.construct(S,arguments,$)}else N=S.apply(this,arguments);return C(this,N)});function P(N){var S,$;return function(L,H){if(!(L instanceof H))throw new TypeError("Cannot call a class as a function")}(this,P),D(M(S=Ee.call(this,N)),"handlePreviousPage",function(L){var H=S.state.selected;S.handleClick(L,null,H>0?H-1:void 0,{isPrevious:!0})}),D(M(S),"handleNextPage",function(L){var H=S.state.selected,J=S.props.pageCount;S.handleClick(L,null,H<J-1?H+1:void 0,{isNext:!0})}),D(M(S),"handlePageSelected",function(L,H){if(S.state.selected===L)return S.callActiveCallback(L),void S.handleClick(H,null,void 0,{isActive:!0});S.handleClick(H,null,L)}),D(M(S),"handlePageChange",function(L){S.state.selected!==L&&(S.setState({selected:L}),S.callCallback(L))}),D(M(S),"getEventListener",function(L){return D({},S.props.eventListener,L)}),D(M(S),"handleClick",function(L,H,J){var oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},le=oe.isPrevious,Je=le!==void 0&&le,Gr=oe.isNext,Ji=Gr!==void 0&&Gr,pr=oe.isBreak,wt=pr!==void 0&&pr,wn=oe.isActive,Sn=wn!==void 0&&wn;L.preventDefault?L.preventDefault():L.returnValue=!1;var Cn=S.state.selected,me=S.props.onClick,St=J;if(me){var dt=me({index:H,selected:Cn,nextSelectedPage:J,event:L,isPrevious:Je,isNext:Ji,isBreak:wt,isActive:Sn});if(dt===!1)return;Number.isInteger(dt)&&(St=dt)}St!==void 0&&S.handlePageChange(St)}),D(M(S),"handleBreakClick",function(L,H){var J=S.state.selected;S.handleClick(H,L,J<L?S.getForwardJump():S.getBackwardJump(),{isBreak:!0})}),D(M(S),"callCallback",function(L){S.props.onPageChange!==void 0&&typeof S.props.onPageChange=="function"&&S.props.onPageChange({selected:L})}),D(M(S),"callActiveCallback",function(L){S.props.onPageActive!==void 0&&typeof S.props.onPageActive=="function"&&S.props.onPageActive({selected:L})}),D(M(S),"getElementPageRel",function(L){var H=S.state.selected,J=S.props,oe=J.nextPageRel,le=J.prevPageRel,Je=J.selectedPageRel;return H-1===L?le:H===L?Je:H+1===L?oe:void 0}),D(M(S),"pagination",function(){var L=[],H=S.props,J=H.pageRangeDisplayed,oe=H.pageCount,le=H.marginPagesDisplayed,Je=H.breakLabel,Gr=H.breakClassName,Ji=H.breakLinkClassName,pr=H.breakAriaLabels,wt=S.state.selected;if(oe<=J)for(var wn=0;wn<oe;wn++)L.push(S.getPageElement(wn));else{var Sn=J/2,Cn=J-Sn;wt>oe-J/2?Sn=J-(Cn=oe-wt):wt<J/2&&(Cn=J-(Sn=wt));var me,St,dt=function(En){return S.getPageElement(En)},xe=[];for(me=0;me<oe;me++){var ys=me+1;if(ys<=le)xe.push({type:"page",index:me,display:dt(me)});else if(ys>oe-le)xe.push({type:"page",index:me,display:dt(me)});else if(me>=wt-Sn&&me<=wt+(wt===0&&J>1?Cn-1:Cn))xe.push({type:"page",index:me,display:dt(me)});else if(Je&&xe.length>0&&xe[xe.length-1].display!==St&&(J>0||le>0)){var cu=me<wt?pr.backward:pr.forward;St=a().createElement(k,{key:me,breakAriaLabel:cu,breakLabel:Je,breakClassName:Gr,breakLinkClassName:Ji,breakHandler:S.handleBreakClick.bind(null,me),getEventListener:S.getEventListener}),xe.push({type:"break",index:me,display:St})}}xe.forEach(function(En,bn){var vs=En;En.type==="break"&&xe[bn-1]&&xe[bn-1].type==="page"&&xe[bn+1]&&xe[bn+1].type==="page"&&xe[bn+1].index-xe[bn-1].index<=2&&(vs={type:"page",index:En.index,display:dt(En.index)}),L.push(vs.display)})}return L}),N.initialPage!==void 0&&N.forcePage!==void 0&&console.warn("(react-paginate): Both initialPage (".concat(N.initialPage,") and forcePage (").concat(N.forcePage,") props are provided, which is discouraged.")+` Use exclusively forcePage prop for a controlled component.
See https://reactjs.org/docs/forms.html#controlled-components`),$=N.initialPage?N.initialPage:N.forcePage?N.forcePage:0,S.state={selected:$},S}return F=P,(q=[{key:"componentDidMount",value:function(){var N=this.props,S=N.initialPage,$=N.disableInitialCallback,L=N.extraAriaContext,H=N.pageCount,J=N.forcePage;S===void 0||$||this.callCallback(S),L&&console.warn("DEPRECATED (react-paginate): The extraAriaContext prop is deprecated. You should now use the ariaLabelBuilder instead."),Number.isInteger(H)||console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(H,"). Did you forget a Math.ceil()?")),S!==void 0&&S>H-1&&console.warn("(react-paginate): The initialPage prop provided is greater than the maximum page index from pageCount prop (".concat(S," > ").concat(H-1,").")),J!==void 0&&J>H-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(J," > ").concat(H-1,")."))}},{key:"componentDidUpdate",value:function(N){this.props.forcePage!==void 0&&this.props.forcePage!==N.forcePage&&(this.props.forcePage>this.props.pageCount-1&&console.warn("(react-paginate): The forcePage prop provided is greater than the maximum page index from pageCount prop (".concat(this.props.forcePage," > ").concat(this.props.pageCount-1,").")),this.setState({selected:this.props.forcePage})),Number.isInteger(N.pageCount)&&!Number.isInteger(this.props.pageCount)&&console.warn("(react-paginate): The pageCount prop value provided is not an integer (".concat(this.props.pageCount,"). Did you forget a Math.ceil()?"))}},{key:"getForwardJump",value:function(){var N=this.state.selected,S=this.props,$=S.pageCount,L=N+S.pageRangeDisplayed;return L>=$?$-1:L}},{key:"getBackwardJump",value:function(){var N=this.state.selected-this.props.pageRangeDisplayed;return N<0?0:N}},{key:"getElementHref",value:function(N){var S=this.props,$=S.hrefBuilder,L=S.pageCount,H=S.hrefAllControls;if($)return H||N>=0&&N<L?$(N+1,L,this.state.selected):void 0}},{key:"ariaLabelBuilder",value:function(N){var S=N===this.state.selected;if(this.props.ariaLabelBuilder&&N>=0&&N<this.props.pageCount){var $=this.props.ariaLabelBuilder(N+1,S);return this.props.extraAriaContext&&!S&&($=$+" "+this.props.extraAriaContext),$}}},{key:"getPageElement",value:function(N){var S=this.state.selected,$=this.props,L=$.pageClassName,H=$.pageLinkClassName,J=$.activeClassName,oe=$.activeLinkClassName,le=$.extraAriaContext,Je=$.pageLabelBuilder;return a().createElement(p,{key:N,pageSelectedHandler:this.handlePageSelected.bind(null,N),selected:S===N,rel:this.getElementPageRel(N),pageClassName:L,pageLinkClassName:H,activeClassName:J,activeLinkClassName:oe,extraAriaContext:le,href:this.getElementHref(N),ariaLabel:this.ariaLabelBuilder(N),page:N+1,pageLabelBuilder:Je,getEventListener:this.getEventListener})}},{key:"render",value:function(){var N=this.props.renderOnZeroPageCount;if(this.props.pageCount===0&&N!==void 0)return N&&N(this.props);var S=this.props,$=S.disabledClassName,L=S.disabledLinkClassName,H=S.pageCount,J=S.className,oe=S.containerClassName,le=S.previousLabel,Je=S.previousClassName,Gr=S.previousLinkClassName,Ji=S.previousAriaLabel,pr=S.prevRel,wt=S.nextLabel,wn=S.nextClassName,Sn=S.nextLinkClassName,Cn=S.nextAriaLabel,me=S.nextRel,St=this.state.selected,dt=St===0,xe=St===H-1,ys="".concat(m(Je)).concat(dt?" ".concat(m($)):""),cu="".concat(m(wn)).concat(xe?" ".concat(m($)):""),En="".concat(m(Gr)).concat(dt?" ".concat(m(L)):""),bn="".concat(m(Sn)).concat(xe?" ".concat(m(L)):""),vs=dt?"true":"false",Rv=xe?"true":"false";return a().createElement("ul",{className:J||oe,role:"navigation","aria-label":"Pagination"},a().createElement("li",{className:ys},a().createElement("a",v({className:En,href:this.getElementHref(St-1),tabIndex:dt?"-1":"0",role:"button",onKeyPress:this.handlePreviousPage,"aria-disabled":vs,"aria-label":Ji,rel:pr},this.getEventListener(this.handlePreviousPage)),le)),this.pagination(),a().createElement("li",{className:cu},a().createElement("a",v({className:bn,href:this.getElementHref(St+1),tabIndex:xe?"-1":"0",role:"button",onKeyPress:this.handleNextPage,"aria-disabled":Rv,"aria-label":Cn,rel:me},this.getEventListener(this.handleNextPage)),wt)))}}])&&w(F.prototype,q),Object.defineProperty(F,"prototype",{writable:!1}),P}(l.Component);D(V,"propTypes",{pageCount:c().number.isRequired,pageRangeDisplayed:c().number,marginPagesDisplayed:c().number,previousLabel:c().node,previousAriaLabel:c().string,prevPageRel:c().string,prevRel:c().string,nextLabel:c().node,nextAriaLabel:c().string,nextPageRel:c().string,nextRel:c().string,breakLabel:c().oneOfType([c().string,c().node]),breakAriaLabels:c().shape({forward:c().string,backward:c().string}),hrefBuilder:c().func,hrefAllControls:c().bool,onPageChange:c().func,onPageActive:c().func,onClick:c().func,initialPage:c().number,forcePage:c().number,disableInitialCallback:c().bool,containerClassName:c().string,className:c().string,pageClassName:c().string,pageLinkClassName:c().string,pageLabelBuilder:c().func,activeClassName:c().string,activeLinkClassName:c().string,previousClassName:c().string,nextClassName:c().string,previousLinkClassName:c().string,nextLinkClassName:c().string,disabledClassName:c().string,disabledLinkClassName:c().string,breakClassName:c().string,breakLinkClassName:c().string,extraAriaContext:c().string,ariaLabelBuilder:c().func,eventListener:c().string,renderOnZeroPageCount:c().func,selectedPageRel:c().string}),D(V,"defaultProps",{pageRangeDisplayed:2,marginPagesDisplayed:3,activeClassName:"selected",previousLabel:"Previous",previousClassName:"previous",previousAriaLabel:"Previous page",prevPageRel:"prev",prevRel:"prev",nextLabel:"Next",nextClassName:"next",nextAriaLabel:"Next page",nextPageRel:"next",nextRel:"next",breakLabel:"...",breakAriaLabels:{forward:"Jump forward",backward:"Jump backward"},disabledClassName:"disabled",disableInitialCallback:!1,pageLabelBuilder:function(z){return z},eventListener:"onClick",renderOnZeroPageCount:void 0,selectedPageRel:"canonical",hrefAllControls:!1});const fe=V})(),s})())})(_0);var DC=_0.exports;const IC=Ld(DC);function LC({pageCount:t,onPageChange:e}){return x.jsx(IC,{pageCount:t,onPageChange:e,containerClassName:"flex gap-2 justify-center mt-8",pageClassName:"px-3 py-1 rounded border dark:border-gray-700",activeClassName:"bg-indigo-600 text-white border-indigo-600",previousClassName:"px-3 py-1 rounded border dark:border-gray-700",nextClassName:"px-3 py-1 rounded border dark:border-gray-700",disabledClassName:"opacity-50 cursor-not-allowed"})}const Fu=6;function zC(){const[t,e]=qa("blogs",Ja),[n,r]=b.useState(""),[i,o]=b.useState(""),[s,l]=b.useState(""),[a,u]=b.useState(0),[c,d]=b.useState(null),f=v=>{e([v,...t])},p=v=>{window.confirm("Are you sure you want to delete this blog post?")&&e(t.filter(w=>w.id!==v))},h=b.useMemo(()=>t.filter(v=>{const w=v.title.toLowerCase().includes(n.toLowerCase())||v.content.toLowerCase().includes(n.toLowerCase()),E=(!i||v.date>=i)&&(!s||v.date<=s),C=!c||(v.tags||[]).includes(c);return w&&E&&C}),[t,n,i,s,c]),g=Math.ceil(h.length/Fu),k=a*Fu,m=h.slice(k,k+Fu),y=b.useMemo(()=>{const v=new Set;return t.forEach(w=>{w.tags&&w.tags.forEach(E=>v.add(E))}),Array.from(v)},[t]);return x.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[x.jsx("h1",{className:"text-4xl font-bold text-center mb-8 text-gray-800 dark:text-white",children:"Modern Blog Platform"}),x.jsx(PC,{onSubmit:f}),x.jsxs("div",{className:"mb-8",children:[x.jsx(AC,{onSearch:r}),x.jsx(RC,{startDate:i,endDate:s,onStartDateChange:o,onEndDateChange:l}),x.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:y.map(v=>x.jsx("button",{onClick:()=>d(c===v?null:v),className:`px-3 py-1 rounded-full text-sm ${c===v?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200"}`,children:v},v))})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:m.map(v=>x.jsx(z0,{blog:v,onDelete:()=>p(v.id)},v.id))}),g>1&&x.jsx(LC,{pageCount:g,onPageChange:({selected:v})=>u(v)})]})}function jC(){const{id:t}=N0();hs();const[e]=qa("blogs",Ja),n=e.find(r=>r.id===t);return n?x.jsxs("article",{className:"max-w-4xl mx-auto px-4 py-8",children:[x.jsxs(_r,{to:"/",className:"inline-flex items-center text-indigo-600 hover:text-indigo-800 mb-8",children:[x.jsx(Ip,{className:"mr-2 h-4 w-4"})," Back to Home"]}),x.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-64 object-cover rounded-lg mb-8"}),x.jsxs("div",{className:"prose lg:prose-xl max-w-none",children:[x.jsx("h1",{className:"text-4xl font-bold mb-4 text-gray-800",children:n.title}),x.jsxs("div",{className:"flex items-center gap-4 text-gray-500 mb-8",children:[x.jsx("span",{children:L0(new Date(n.date),"MMMM dd, yyyy")}),x.jsx("span",{children:"•"}),x.jsx("span",{children:n.author})]}),x.jsx("div",{className:"text-gray-600 leading-relaxed whitespace-pre-wrap",children:n.content})]})]}):x.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[x.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Blog post not found"}),x.jsxs(_r,{to:"/",className:"inline-flex items-center text-indigo-600 hover:text-indigo-800",children:[x.jsx(Ip,{className:"mr-2 h-4 w-4"})," Back to Home"]})]})}function Re(t){this.content=t}Re.prototype={constructor:Re,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Re(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Re(n)},addToStart:function(t,e){return new Re([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Re(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Re(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Re.from(t),t.size?new Re(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Re.from(t),t.size?new Re(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Re.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Re.from=function(t){if(t instanceof Re)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Re(e)};function $0(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=$0(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function V0(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),a=s.nodeSize;if(s==l){n-=a,r-=a;continue}if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let u=0,c=Math.min(s.text.length,l.text.length);for(;u<c&&s.text[s.text.length-u-1]==l.text[l.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let u=V0(s.content,l.content,n-1,r-1);if(u)return u}n-=a,r-=a}}class T{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,l=0;l<n;s++){let a=this.content[s],u=l+a.nodeSize;if(u>e&&r(a,i+l,o||null,s)!==!1&&a.content.size){let c=l+1;a.nodesBetween(Math.max(0,e-c),Math.min(a.content.size,n-c),r,i+c)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(l,a)=>{let u=l.isText?l.text.slice(Math.max(e,a)-a,n-a):l.isLeaf?i?typeof i=="function"?i(l):i:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new T(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let l=this.content[o],a=s+l.nodeSize;a>e&&((s<e||a>n)&&(l.isText?l=l.cut(Math.max(0,e-s),Math.min(l.text.length,n-s)):l=l.cut(Math.max(0,e-s-1),Math.min(l.content.size,n-s-1))),r.push(l),i+=l.nodeSize),s=a}return new T(r,i)}cutByIndex(e,n){return e==n?T.empty:e==0&&n==this.content.length?this:new T(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new T(i,o)}addToStart(e){return new T([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new T(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return $0(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return V0(this,e,n,r)}findIndex(e,n=-1){if(e==0)return zs(0,e);if(e==this.size)return zs(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?zs(r+1,s):zs(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return T.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new T(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return T.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new T(n||e,r)}static from(e){if(!e)return T.empty;if(e instanceof T)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new T([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}T.empty=new T([],0);const _u={index:0,offset:0};function zs(t,e){return _u.index=t,_u.offset=e,_u}function Bl(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Bl(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Bl(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let te=class ld{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Bl(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return ld.none;if(e instanceof ld)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};te.none=[];class Fl extends Error{}class I{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=W0(this.content,e+this.openStart,n);return r&&new I(r,this.openStart,this.openEnd)}removeBetween(e,n){return new I(H0(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return I.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new I(T.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new I(e,r,i)}}I.empty=new I(T.empty,0,0);function H0(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:l}=t.findIndex(n);if(i==e||o.isText){if(l!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(H0(o.content,e-i-1,n-i-1)))}function W0(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return t.cut(0,e).append(n).append(t.cut(e));let l=W0(s.content,e-o-1,n);return l&&t.replaceChild(i,s.copy(l))}function BC(t,e,n){if(n.openStart>t.depth)throw new Fl("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Fl("Inconsistent open depths");return U0(t,e,n,0)}function U0(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=U0(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,l=s.content;return Pr(s,l.cut(0,t.parentOffset).append(n.content).append(l.cut(e.parentOffset)))}else{let{start:s,end:l}=FC(n,t);return Pr(o,q0(t,s,l,e,r))}else return Pr(o,_l(t,e,r))}function K0(t,e){if(!e.type.compatibleContent(t.type))throw new Fl("Cannot join "+e.type.name+" onto "+t.type.name)}function ad(t,e,n){let r=t.node(n);return K0(r,e.node(n)),r}function Or(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Co(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(Or(t.nodeAfter,r),o++));for(let l=o;l<s;l++)Or(i.child(l),r);e&&e.depth==n&&e.textOffset&&Or(e.nodeBefore,r)}function Pr(t,e){return t.type.checkContent(e),t.copy(e)}function q0(t,e,n,r,i){let o=t.depth>i&&ad(t,e,i+1),s=r.depth>i&&ad(n,r,i+1),l=[];return Co(null,t,i,l),o&&s&&e.index(i)==n.index(i)?(K0(o,s),Or(Pr(o,q0(t,e,n,r,i+1)),l)):(o&&Or(Pr(o,_l(t,e,i+1)),l),Co(e,n,i,l),s&&Or(Pr(s,_l(n,r,i+1)),l)),Co(r,null,i,l),new T(l)}function _l(t,e,n){let r=[];if(Co(null,t,n,r),t.depth>n){let i=ad(t,e,n+1);Or(Pr(i,_l(t,e,n+1)),r)}return Co(e,null,n,r),new T(r)}function FC(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(T.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Qo{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return te.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let l=r;r=i,i=l}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new $l(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:l,offset:a}=s.content.findIndex(o),u=o-a;if(r.push(s,l,i+a),!u||(s=s.child(l),s.isText))break;o=u-1,i+=a+1}return new Qo(n,r,o)}static resolveCached(e,n){let r=zp.get(e);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else zp.set(e,r=new _C);let i=r.elts[r.i]=Qo.resolve(e,n);return r.i=(r.i+1)%$C,i}}class _C{constructor(){this.elts=[],this.i=0}}const $C=12,zp=new WeakMap;class $l{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const VC=Object.create(null);let Ar=class ud{constructor(e,n,r,i=te.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||T.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Bl(this.attrs,n||e.defaultAttrs||VC)&&te.sameSet(this.marks,r||te.none)}copy(e=null){return e==this.content?this:new ud(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new ud(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return I.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),l=i.start(s),u=i.node(s).content.cut(i.pos-l,o.pos-l);return new I(u,i.depth-s,o.depth-s)}replace(e,n,r){return BC(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Qo.resolveCached(this,e)}resolveNoCache(e){return Qo.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),J0(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=T.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),l=s&&s.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let a=i;a<o;a++)if(!this.type.allowsMarks(r.child(a).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=te.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!te.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=T.fromJSON(e,n.content),o=e.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Ar.prototype.text=void 0;class Vl extends Ar{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):J0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Vl(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Vl(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function J0(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Vr{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new HC(e,n);if(r.next==null)return Vr.empty;let i=Y0(r);r.next&&r.err("Unexpected trailing text");let o=QC(YC(i));return GC(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,l){let a=s.matchFragment(e,r);if(a&&(!n||a.validEnd))return T.from(l.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:d}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let f=o(d,l.concat(c));if(f)return f}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let l=i;l.type;l=l.via)s.push(l.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:l,next:a}=o.next[s];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!i.type||a.validEnd)&&(r.push({match:l.contentMatch,type:l,via:i}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}Vr.empty=new Vr(!0);class HC{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function Y0(t){let e=[];do e.push(WC(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function WC(t){let e=[];do e.push(UC(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function UC(t){let e=JC(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=KC(t,e);else break;return e}function jp(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function KC(t,e){let n=jp(t),r=n;return t.eat(",")&&(t.next!="}"?r=jp(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function qC(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(e)&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function JC(t){if(t.eat("(")){let e=Y0(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=qC(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function YC(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,l,a){let u={term:a,to:l};return e[s].push(u),u}function i(s,l){s.forEach(a=>a.to=l)}function o(s,l){if(s.type=="choice")return s.exprs.reduce((a,u)=>a.concat(o(u,l)),[]);if(s.type=="seq")for(let a=0;;a++){let u=o(s.exprs[a],l);if(a==s.exprs.length-1)return u;i(u,l=n())}else if(s.type=="star"){let a=n();return r(l,a),i(o(s.expr,a),a),[r(a)]}else if(s.type=="plus"){let a=n();return i(o(s.expr,l),a),i(o(s.expr,a),a),[r(a)]}else{if(s.type=="opt")return[r(l)].concat(o(s.expr,l));if(s.type=="range"){let a=l;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,a),c),a=c}if(s.max==-1)i(o(s.expr,a),a);else for(let u=s.min;u<s.max;u++){let c=n();r(a,c),i(o(s.expr,a),c),a=c}return[r(a)]}else{if(s.type=="name")return[r(l,void 0,s.value)];throw new Error("Unknown expr type")}}}}function Q0(t,e){return e-t}function Bp(t,e){let n=[];return r(e),n.sort(Q0);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:l,to:a}=o[s];!l&&n.indexOf(a)==-1&&r(a)}}}function QC(t){let e=Object.create(null);return n(Bp(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:l,to:a})=>{if(!l)return;let u;for(let c=0;c<i.length;c++)i[c][0]==l&&(u=i[c][1]);Bp(t,a).forEach(c=>{u||i.push([l,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new Vr(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let l=i[s][1].sort(Q0);o.next.push({type:i[s][0],next:e[l.join(",")]||n(l)})}return o}}function GC(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let l=0;l<i.next.length;l++){let{type:a,next:u}=i.next[l];s.push(a.name),o&&!(a.isText||a.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function G0(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function X0(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function Z0(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let o=t[i];o.validate&&o.validate(e[i])}}function e1(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new ZC(t,r,e[r]);return n}let Fp=class t1{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=e1(e,r.attrs),this.defaultAttrs=G0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Vr.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:X0(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Ar(this,this.computeAttrs(e),T.from(n),te.setFrom(r))}createChecked(e=null,n,r){return n=T.from(n),this.checkContent(n),new Ar(this,this.computeAttrs(e),n,te.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=T.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(T.empty,!0);return o?new Ar(this,e,n.append(o),te.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Z0(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:te.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new t1(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function XC(t,e,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${o}`)}}class ZC{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?XC(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Qa{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=e1(e,i.attrs),this.excluded=null;let o=G0(this.attrs);this.instance=o?new te(this,o):null}create(e=null){return!e&&this.instance?this.instance:new te(this,X0(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Qa(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){Z0(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class n1{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Re.from(e.nodes),n.marks=Re.from(e.marks||{}),this.nodes=Fp.compile(this.spec.nodes,this),this.marks=Qa.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",l=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=Vr.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=l=="_"?null:l?_p(this,l.split(" ")):l==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:_p(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Fp){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Vl(r,r.defaultAttrs,e,te.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Ar.fromJSON(this,e)}markFromJSON(e){return te.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function _p(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let l in t.marks){let a=t.marks[l];(i=="_"||a.spec.group&&a.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=a)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function eE(t){return t.tag!=null}function tE(t){return t.style!=null}class er{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(eE(i))this.tags.push(i);else if(tE(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=e.nodes[i.node];return o.contentMatch.matchType(o)})}parse(e,n={}){let r=new Vp(this,n,!1);return r.addAll(e,te.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Vp(this,n,!0);return r.addAll(e,te.none,n.from,n.to),I.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(iE(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],l=s.style;if(!(l.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=n))){if(s.getAttrs){let a=s.getAttrs(n);if(a===!1)continue;s.attrs=a||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let l=n[s];if((l.priority==null?50:l.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Hp(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=Hp(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new er(e,er.schemaRules(e)))}}const r1={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},nE={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},i1={ol:!0,ul:!0},Hl=1,Wl=2,Eo=4;function $p(t,e,n){return e!=null?(e?Hl:0)|(e==="full"?Wl:0):t&&t.whitespace=="pre"?Hl|Wl:n&~Eo}class js{constructor(e,n,r,i,o,s){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=te.none,this.match=o||(s&Eo?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(T.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Hl)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=T.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(T.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!r1.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Vp{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=$p(null,n.preserveWhitespace,0)|(r?Eo:0);i?o=new js(i.type,i.attrs,te.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new js(null,null,te.none,!0,null,s):o=new js(e.schema.topNodeType,null,te.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&Wl||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&Hl)i.options&Wl?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],s=e.previousSibling;(!o||s&&s.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),o;i1.hasOwnProperty(i)&&this.parser.normalizeLists&&rE(e);let s=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));if(s?s.ignore:nE.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!s||s.skip||s.closeParent){s&&s.closeParent?this.open=Math.max(0,this.open-1):s&&s.skip.nodeType&&(e=s.skip);let l,a=this.top,u=this.needsBlock;if(r1.hasOwnProperty(i))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),l=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let c=s&&s.skip?n:this.readStyles(e,n);c&&this.addAll(e,c),l&&this.sync(a),this.needsBlock=u}else{let l=this.readStyles(e,n);l&&this.addElementByRule(e,s,l,s.consuming===!1?o:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let l=void 0;;){let a=this.parser.matchStyle(o,s,this,l);if(!a)break;if(a.ignore)return null;if(a.clearMark?n=n.filter(u=>!a.clearMark(u)):n=n.concat(this.parser.schema.marks[a.mark].create(a.attrs)),a.consuming===!1)l=a;else break}}return n}addElementByRule(e,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r)||this.leafFallback(e,r);else{let a=this.enter(s,n.attrs||null,r,n.preserveWhitespace);a&&(o=!0,r=a)}else{let a=this.parser.schema.marks[n.mark];r=r.concat(a.create(n.attrs))}let l=this.top;if(s&&s.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(a=>this.insertNode(a,r));else{let a=e;typeof n.contentElement=="string"?a=e.querySelector(n.contentElement):typeof n.contentElement=="function"?a=n.contentElement(e):n.contentElement&&(a=n.contentElement),this.findAround(e,a,!0),this.addAll(a,r),this.findAround(e,a,!1)}o&&this.sync(l)&&this.open--}addAll(e,n,r,i){let o=r||0;for(let s=r?e.childNodes[r]:e.firstChild,l=i==null?null:e.childNodes[i];s!=l;s=s.nextSibling,++o)this.findAtPoint(e,o),this.addDOM(s,n);this.findAtPoint(e,o)}findPlace(e,n){let r,i;for(let o=this.open;o>=0;o--){let s=this.nodes[o],l=s.findWrapping(e);if(l&&(!r||r.length>l.length)&&(r=l,i=s,!l.length)||s.solid)break}if(!r)return null;this.sync(i);for(let o=0;o<r.length;o++)n=this.enterInner(r[o],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=te.none;for(let s of r.concat(e.marks))(i.type?i.type.allowsMarkType(s.type):Wp(s.type,e.type))&&(o=s.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,n,r,i){let o=this.findPlace(e.create(n),r);return o&&(o=this.enterInner(e,n,r,!0,i)),o}enterInner(e,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(e);let l=$p(e,o,s.options);s.options&Eo&&s.content.length==0&&(l|=Eo);let a=te.none;return r=r.filter(u=>(s.type?s.type.allowsMarkType(u.type):Wp(u.type,e))?(a=u.addToSet(a),!1):!0),this.nodes.push(new js(e,n,a,i,null,l)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(l,a)=>{for(;l>=0;l--){let u=n[l];if(u==""){if(l==n.length-1||l==0)continue;for(;a>=o;a--)if(s(l-1,a))return!0;return!1}else{let c=a>0||a==0&&i?this.nodes[a].type:r&&a>=o?r.node(a-o).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;a--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function rE(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&i1.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function iE(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Hp(t){let e={};for(let n in t)e[n]=t[n];return e}function Wp(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=l=>{o.push(l);for(let a=0;a<l.edgeCount;a++){let{type:u,next:c}=l.edge(a);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}class Qr{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=$u(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let l=0,a=0;for(;l<o.length&&a<s.marks.length;){let u=s.marks[a];if(!this.marks[u.type.name]){a++;continue}if(!u.eq(o[l][0])||u.type.spec.spanning===!1)break;l++,a++}for(;l<o.length;)i=o.pop()[1];for(;a<s.marks.length;){let u=s.marks[a++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=ol($u(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&ol($u(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return ol(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Qr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Up(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Up(e.marks)}}function Up(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function $u(t){return t.document||window.document}const Kp=new WeakMap;function oE(t){let e=Kp.get(t);return e===void 0&&Kp.set(t,e=sE(t)),e}function sE(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function ol(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=oE(r))&&o.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let l,a=n?t.createElementNS(n,i):t.createElement(i),u=e[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let f=d.indexOf(" ");f>0?a.setAttributeNS(d.slice(0,f),d.slice(f+1),u[d]):a.setAttribute(d,u[d])}}for(let d=c;d<e.length;d++){let f=e[d];if(f===0){if(d<e.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:p,contentDOM:h}=ol(t,f,n,r);if(a.appendChild(p),h){if(l)throw new RangeError("Multiple content holes");l=h}}}return{dom:a,contentDOM:l}}const o1=65535,s1=Math.pow(2,16);function lE(t,e){return t+e*s1}function qp(t){return t&o1}function aE(t){return(t-(t&o1))/s1}const l1=1,a1=2,sl=4,u1=8;class cd{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&u1)>0}get deletedBefore(){return(this.delInfo&(l1|sl))>0}get deletedAfter(){return(this.delInfo&(a1|sl))>0}get deletedAcross(){return(this.delInfo&sl)>0}}class ht{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&ht.empty)return ht.empty}recover(e){let n=0,r=qp(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+aE(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?i:0);if(a>e)break;let u=this.ranges[l+o],c=this.ranges[l+s],d=a+u;if(e<=d){let f=u?e==a?-1:e==d?1:n:n,p=a+i+(f<0?0:c);if(r)return p;let h=e==(n<0?a:d)?null:lE(l/3,e-a),g=e==a?a1:e==d?l1:sl;return(n<0?e!=a:e!=d)&&(g|=u1),new cd(p,g,h)}i+=c-u}return r?e+i:new cd(e+i,0,null)}touches(e,n){let r=0,i=qp(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let a=this.ranges[l]-(this.inverted?r:0);if(a>e)break;let u=this.ranges[l+o],c=a+u;if(e<=c&&l==i*3)return!0;r+=this.ranges[l+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],l=s-(this.inverted?o:0),a=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(l,l+u,a,a+c),o+=c-u}}invert(){return new ht(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?ht.empty:new ht(e<0?[0,-e,0]:[0,0,e])}}ht.empty=new ht([]);class Mi{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Mi(this.maps,this.mirror,e,n)}copy(){return new Mi(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Mi;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],l=s.mapResult(e,n);if(l.recover!=null){let a=this.getMirror(o);if(a!=null&&a>o&&a<this.to){o=a,e=this.maps[a].recover(l.recover);continue}}i|=l.delInfo,e=l.pos}return r?e:new cd(e,i,null)}}const Vu=Object.create(null);class qe{getMap(){return ht.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Vu[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Vu)throw new RangeError("Duplicate use of step JSON ID "+e);return Vu[e]=n,n.prototype.jsonID=e,n}}class ve{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ve(e,null)}static fail(e){return new ve(null,e)}static fromReplace(e,n,r,i){try{return ve.ok(e.replace(n,r,i))}catch(o){if(o instanceof Fl)return ve.fail(o.message);throw o}}}function If(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(If(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return T.fromArray(r)}class Vn extends qe{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new I(If(n.content,(s,l)=>!s.isAtom||!l.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return ve.fromReplace(e,this.from,this.to,o)}invert(){return new en(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Vn(n.pos,r.pos,this.mark)}merge(e){return e instanceof Vn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Vn(n.from,n.to,e.markFromJSON(n.mark))}}qe.jsonID("addMark",Vn);class en extends qe{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new I(If(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return ve.fromReplace(e,this.from,this.to,r)}invert(){return new Vn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new en(n.pos,r.pos,this.mark)}merge(e){return e instanceof en&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new en(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new en(n.from,n.to,e.markFromJSON(n.mark))}}qe.jsonID("removeMark",en);class Hn extends qe{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ve.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ve.fromReplace(e,this.pos,this.pos+1,new I(T.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Hn(this.pos,n.marks[i]);return new Hn(this.pos,this.mark)}}return new Bi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Hn(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Hn(n.pos,e.markFromJSON(n.mark))}}qe.jsonID("addNodeMark",Hn);class Bi extends qe{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ve.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ve.fromReplace(e,this.pos,this.pos+1,new I(T.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Hn(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Bi(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Bi(n.pos,e.markFromJSON(n.mark))}}qe.jsonID("removeNodeMark",Bi);class Ne extends qe{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&dd(e,this.from,this.to)?ve.fail("Structure replace would overwrite content"):ve.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new ht([this.from,this.to-this.from,this.slice.size])}invert(e){return new Ne(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Ne(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Ne)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?I.empty:new I(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Ne(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?I.empty:new I(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Ne(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Ne(n.from,n.to,I.fromJSON(e,n.slice),!!n.structure)}}qe.jsonID("replace",Ne);class Te extends qe{constructor(e,n,r,i,o,s,l=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=l}apply(e){if(this.structure&&(dd(e,this.from,this.gapFrom)||dd(e,this.gapTo,this.to)))return ve.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ve.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?ve.fromReplace(e,this.from,this.to,r):ve.fail("Content does not fit in gap")}getMap(){return new ht([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Te(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Te(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Te(n.from,n.to,n.gapFrom,n.gapTo,I.fromJSON(e,n.slice),n.insert,!!n.structure)}}qe.jsonID("replaceAround",Te);function dd(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function uE(t,e,n,r){let i=[],o=[],s,l;t.doc.nodesBetween(e,n,(a,u,c)=>{if(!a.isInline)return;let d=a.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let f=Math.max(u,e),p=Math.min(u+a.nodeSize,n),h=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(h)||(s&&s.to==f&&s.mark.eq(d[g])?s.to=p:i.push(s=new en(f,p,d[g])));l&&l.to==f?l.to=p:o.push(l=new Vn(f,p,r))}}),i.forEach(a=>t.step(a)),o.forEach(a=>t.step(a))}function cE(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,l)=>{if(!s.isInline)return;o++;let a=null;if(r instanceof Qa){let u=s.marks,c;for(;c=r.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(a=[r]):a=s.marks;if(a&&a.length){let u=Math.min(l+s.nodeSize,n);for(let c=0;c<a.length;c++){let d=a[c],f;for(let p=0;p<i.length;p++){let h=i[p];h.step==o-1&&d.eq(i[p].style)&&(f=h)}f?(f.to=u,f.step=o):i.push({style:d,from:Math.max(l,e),to:u,step:o})}}}),i.forEach(s=>t.step(new en(s.from,s.to,s.style)))}function Lf(t,e,n,r=n.contentMatch,i=!0){let o=t.doc.nodeAt(e),s=[],l=e+1;for(let a=0;a<o.childCount;a++){let u=o.child(a),c=l+u.nodeSize,d=r.matchType(u.type);if(!d)s.push(new Ne(l,c,I.empty));else{r=d;for(let f=0;f<u.marks.length;f++)n.allowsMarkType(u.marks[f].type)||t.step(new en(l,c,u.marks[f]));if(i&&u.isText&&n.whitespace!="pre"){let f,p=/\r?\n|\r/g,h;for(;f=p.exec(u.text);)h||(h=new I(T.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),s.push(new Ne(l+f.index,l+f.index+f[0].length,h))}}l=c}if(!r.validEnd){let a=r.fillBefore(T.empty,!0);t.replace(l,l,new I(a,0,0))}for(let a=s.length-1;a>=0;a--)t.step(s[a])}function dE(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function qi(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!dE(i,o,s))break}return null}function fE(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),l=i.after(o+1),a=s,u=l,c=T.empty,d=0;for(let h=o,g=!1;h>n;h--)g||r.index(h)>0?(g=!0,c=T.from(r.node(h).copy(c)),d++):a--;let f=T.empty,p=0;for(let h=o,g=!1;h>n;h--)g||i.after(h+1)<i.end(h)?(g=!0,f=T.from(i.node(h).copy(f)),p++):u++;t.step(new Te(a,u,s,l,new I(c.append(f),d,p),c.size-d,!0))}function zf(t,e,n=null,r=t){let i=hE(t,e),o=i&&pE(r,e);return o?i.map(Jp).concat({type:e,attrs:n}).concat(o.map(Jp)):null}function Jp(t){return{type:t,attrs:null}}function hE(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function pE(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let a=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;a&&u<i;u++)a=a.matchType(n.child(u).type);return!a||!a.validEnd?null:s}function mE(t,e,n){let r=T.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let l=n[s].type.contentMatch.matchFragment(r);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=T.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Te(i,o,i,o,new I(r,0,0),n.length,!0))}function gE(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,l)=>{let a=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,a)&&yE(t.doc,t.mapping.slice(o).map(l),r)){let u=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",h=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!h?u=!1:!p&&h&&(u=!0)}u===!1&&d1(t,s,l,o),Lf(t,t.mapping.slice(o).map(l,1),r,void 0,u===null);let c=t.mapping.slice(o),d=c.map(l,1),f=c.map(l+s.nodeSize,1);return t.step(new Te(d,f,d+1,f-1,new I(T.from(r.create(a,null,s.marks)),0,0),1,!0)),u===!0&&c1(t,s,l,o),!1}})}function c1(t,e,n,r){e.forEach((i,o)=>{if(i.isText){let s,l=/\r?\n|\r/g;for(;s=l.exec(i.text);){let a=t.mapping.slice(r).map(n+1+o+s.index);t.replaceWith(a,a+1,e.type.schema.linebreakReplacement.create())}}})}function d1(t,e,n,r){e.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=t.mapping.slice(r).map(n+1+o);t.replaceWith(s,s+1,e.type.schema.text(`
`))}})}function yE(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function vE(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Te(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new I(T.from(s),0,0),1,!0))}function Ti(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let d=i.node(u),f=i.index(u);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(f,d.childCount),h=r&&r[c+1];h&&(p=p.replaceChild(0,h.type.create(h.attrs)));let g=r&&r[c]||d;if(!d.canReplace(f+1,d.childCount)||!g.type.validContent(p))return!1}let l=i.indexAfter(o),a=r&&r[0];return i.node(o).canReplaceWith(l,l,a?a.type:i.node(o+1).type)}function kE(t,e,n=1,r){let i=t.doc.resolve(e),o=T.empty,s=T.empty;for(let l=i.depth,a=i.depth-n,u=n-1;l>a;l--,u--){o=T.from(i.node(l).copy(o));let c=r&&r[u];s=T.from(c?c.type.create(c.attrs,s):i.node(l).copy(s))}t.step(new Ne(e,e,new I(o.append(s),n,n),!0))}function dr(t,e){let n=t.resolve(e),r=n.index();return f1(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function xE(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let o=e.child(i),s=o.type==r?t.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!t.type.allowsMarks(o.marks))return!1}return n.validEnd}function f1(t,e){return!!(t&&e&&!t.isLeaf&&xE(t,e))}function Ga(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,l=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),l++,s=r.node(i).maybeChild(l)):(o=r.node(i).maybeChild(l-1),s=r.node(i+1)),o&&!o.isTextblock&&f1(o,s)&&r.node(i).canReplace(l,l+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function wE(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,o=t.doc.resolve(e-n),s=o.node().type;if(i&&s.inlineContent){let c=s.whitespace=="pre",d=!!s.contentMatch.matchType(i);c&&!d?r=!1:!c&&d&&(r=!0)}let l=t.steps.length;if(r===!1){let c=t.doc.resolve(e+n);d1(t,c.node(),c.before(),l)}s.inlineContent&&Lf(t,e+n-1,s,o.node().contentMatchAt(o.index()),r==null);let a=t.mapping.slice(l),u=a.map(e-n);if(t.step(new Ne(u,a.map(e+n,-1),I.empty,!0)),r===!0){let c=t.doc.resolve(u);c1(t,c.node(),c.before(),t.steps.length)}return t}function SE(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function h1(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,a=r.index(s)+(l>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(a,a,i);else{let d=u.contentMatchAt(a).findWrapping(i.firstChild.type);c=d&&u.canReplaceWith(a,a,d[0])}if(c)return l==0?r.pos:l<0?r.before(s+1):r.after(s+1)}return null}function Xa(t,e,n=e,r=I.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return p1(i,o,r)?new Ne(e,n,r):new CE(i,o,r).fit()}function p1(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class CE{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=T.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=T.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,l=i.depth;for(;s&&l&&o.childCount==1;)o=o.firstChild.content,s--,l--;let a=new I(o,s,l);return e>-1?new Te(r.pos,e,this.$to.pos,this.$to.end(),a,n):a.size||r.pos!=this.$to.pos?new Ne(r.pos,i.pos,a):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Hu(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let l=this.depth;l>=0;l--){let{type:a,match:u}=this.frontier[l],c,d=null;if(n==1&&(s?u.matchType(s.type)||(d=u.fillBefore(T.from(s),!1)):o&&a.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:l,parent:o,inject:d};if(n==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:l,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Hu(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new I(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Hu(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new I(co(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new I(co(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,l=r?r.content:s.content,a=s.openStart-e,u=0,c=[],{match:d,type:f}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)c.push(i.child(g));d=d.matchFragment(i)}let p=l.size+e-(s.content.size-s.openEnd);for(;u<l.childCount;){let g=l.child(u),k=d.matchType(g.type);if(!k)break;u++,(u>1||a==0||g.content.size)&&(d=k,c.push(m1(g.mark(f.allowedMarks(g.marks)),u==1?a:0,u==l.childCount?p:-1)))}let h=u==l.childCount;h||(p=-1),this.placed=fo(this.placed,n,T.from(c)),this.frontier[n].match=d,h&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,k=l;g<p;g++){let m=k.lastChild;this.frontier.push({type:m.type,match:m.contentMatchAt(m.childCount)}),k=m.content}this.unplaced=h?e==0?I.empty:new I(co(s.content,e-1,1),e-1,p<0?s.openEnd:e-1):new I(co(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Wu(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Wu(e,n,i,r,o);if(s){for(let l=n-1;l>=0;l--){let{match:a,type:u}=this.frontier[l],c=Wu(e,l,u,a,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=fo(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=fo(this.placed,this.depth,T.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(T.empty,!0);n.childCount&&(this.placed=fo(this.placed,this.frontier.length,n))}}function co(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(co(t.firstChild.content,e-1,n)))}function fo(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(fo(t.lastChild.content,e-1,n)))}function Hu(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function m1(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,m1(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(T.empty,!0)))),t.copy(r)}function Wu(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let l=r.fillBefore(o.content,!0,s);return l&&!EE(n,o.content,s)?l:null}function EE(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function bE(t){return t.spec.defining||t.spec.definingForContent}function NE(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(p1(i,o,r))return t.step(new Ne(e,n,r));let s=y1(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let l=-(i.depth+1);s.unshift(l);for(let f=i.depth,p=i.pos-1;f>0;f--,p--){let h=i.node(f).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;s.indexOf(f)>-1?l=f:i.before(f)==p&&s.splice(1,0,-f)}let a=s.indexOf(l),u=[],c=r.openStart;for(let f=r.content,p=0;;p++){let h=f.firstChild;if(u.push(h),p==r.openStart)break;f=h.content}for(let f=c-1;f>=0;f--){let p=u[f],h=bE(p.type);if(h&&!p.sameMarkup(i.node(Math.abs(l)-1)))c=f;else if(h||!p.type.isTextblock)break}for(let f=r.openStart;f>=0;f--){let p=(f+c+1)%(r.openStart+1),h=u[p];if(h)for(let g=0;g<s.length;g++){let k=s[(g+a)%s.length],m=!0;k<0&&(m=!1,k=-k);let y=i.node(k-1),v=i.index(k-1);if(y.canReplaceWith(v,v,h.type,h.marks))return t.replace(i.before(k),m?o.after(k):n,new I(g1(r.content,0,r.openStart,p),p,r.openEnd))}}let d=t.steps.length;for(let f=s.length-1;f>=0&&(t.replace(e,n,r),!(t.steps.length>d));f--){let p=s[f];p<0||(e=i.before(p),n=o.after(p))}}function g1(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(g1(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(T.empty,!0))}return t}function ME(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=SE(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new I(T.from(r),0,0))}function TE(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=y1(r,i);for(let s=0;s<o.length;s++){let l=o[s],a=s==o.length-1;if(a&&l==0||r.node(l).type.contentMatch.validEnd)return t.delete(r.start(l),i.end(l));if(l>0&&(a||r.node(l-1).canReplace(r.index(l-1),i.indexAfter(l-1))))return t.delete(r.before(l),i.after(l))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return t.delete(r.before(s),n);t.delete(e,n)}function y1(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Oi extends qe{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return ve.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return ve.fromReplace(e,this.pos,this.pos+1,new I(T.from(i),0,n.isLeaf?0:1))}getMap(){return ht.empty}invert(e){return new Oi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Oi(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Oi(n.pos,n.attr,n.value)}}qe.jsonID("attr",Oi);class Go extends qe{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return ve.ok(r)}getMap(){return ht.empty}invert(e){return new Go(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Go(n.attr,n.value)}}qe.jsonID("docAttr",Go);let Fi=class extends Error{};Fi=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Fi.prototype=Object.create(Error.prototype);Fi.prototype.constructor=Fi;Fi.prototype.name="TransformError";class v1{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Mi}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Fi(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=I.empty){let i=Xa(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new I(T.from(r),0,0))}delete(e,n){return this.replace(e,n,I.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return NE(this,e,n,r),this}replaceRangeWith(e,n,r){return ME(this,e,n,r),this}deleteRange(e,n){return TE(this,e,n),this}lift(e,n){return fE(this,e,n),this}join(e,n=1){return wE(this,e,n),this}wrap(e,n){return mE(this,e,n),this}setBlockType(e,n=e,r,i=null){return gE(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return vE(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Oi(e,n,r)),this}setDocAttribute(e,n){return this.step(new Go(e,n)),this}addNodeMark(e,n){return this.step(new Hn(e,n)),this}removeNodeMark(e,n){if(!(n instanceof te)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Bi(e,n)),this}split(e,n=1,r){return kE(this,e,n,r),this}addMark(e,n,r){return uE(this,e,n,r),this}removeMark(e,n,r){return cE(this,e,n,r),this}clearIncompatible(e,n,r){return Lf(this,e,n,r),this}}const Uu=Object.create(null);class U{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new OE(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=I.empty){let r=n.content.lastChild,i=null;for(let l=0;l<n.openEnd;l++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let l=0;l<s.length;l++){let{$from:a,$to:u}=s[l],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(u.pos),l?I.empty:n),l==0&&Gp(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:l}=i[o],a=e.mapping.slice(r),u=a.map(s.pos),c=a.map(l.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),Gp(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new W(e):ii(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?ii(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):ii(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Ht(e.node(0))}static atStart(e){return ii(e,e,0,0,1)||new Ht(e)}static atEnd(e){return ii(e,e,e.content.size,e.childCount,-1)||new Ht(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Uu[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Uu)throw new RangeError("Duplicate use of selection JSON ID "+e);return Uu[e]=n,n.prototype.jsonID=e,n}getBookmark(){return W.between(this.$anchor,this.$head).getBookmark()}}U.prototype.visible=!0;class OE{constructor(e,n){this.$from=e,this.$to=n}}let Yp=!1;function Qp(t){!Yp&&!t.parent.inlineContent&&(Yp=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class W extends U{constructor(e,n=e){Qp(e),Qp(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return U.near(r);let i=e.resolve(n.map(this.anchor));return new W(i.parent.inlineContent?i:r,r)}replace(e,n=I.empty){if(super.replace(e,n),n==I.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof W&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Za(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new W(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=U.findFrom(n,r,!0)||U.findFrom(n,-r,!0);if(o)n=o.$head;else return U.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(U.findFrom(e,-r,!0)||U.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new W(e,n)}}U.jsonID("text",W);class Za{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Za(e.map(this.anchor),e.map(this.head))}resolve(e){return W.between(e.resolve(this.anchor),e.resolve(this.head))}}class _ extends U{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?U.near(o):new _(o)}content(){return new I(T.from(this.node),0,0)}eq(e){return e instanceof _&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new jf(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new _(e.resolve(n.anchor))}static create(e,n){return new _(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}_.prototype.visible=!1;U.jsonID("node",_);class jf{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Za(r,r):new jf(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&_.isSelectable(r)?new _(n):U.near(n)}}class Ht extends U{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=I.empty){if(n==I.empty){e.delete(0,e.doc.content.size);let r=U.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ht(e)}map(e){return new Ht(e)}eq(e){return e instanceof Ht}getBookmark(){return PE}}U.jsonID("all",Ht);const PE={map(){return this},resolve(t){return new Ht(t)}};function ii(t,e,n,r,i,o=!1){if(e.inlineContent)return W.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let l=e.child(s);if(l.isAtom){if(!o&&_.isSelectable(l))return _.create(t,n-(i<0?l.nodeSize:0))}else{let a=ii(t,l,n+i,i<0?l.childCount:0,i,o);if(a)return a}n+=l.nodeSize*i}return null}function Gp(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Ne||i instanceof Te))return;let o=t.mapping.maps[r],s;o.forEach((l,a,u,c)=>{s==null&&(s=c)}),t.setSelection(U.near(t.doc.resolve(s),n))}const Xp=1,Bs=2,Zp=4;class AE extends v1{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Xp)&~Bs,this.storedMarks=null,this}get selectionSet(){return(this.updated&Xp)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Bs,this}ensureMarks(e){return te.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Bs)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Bs,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||te.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(U.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Zp,this}get scrolledIntoView(){return(this.updated&Zp)>0}}function em(t,e){return!e||!t?t:t.bind(e)}class ho{constructor(e,n,r){this.name=e,this.init=em(n.init,r),this.apply=em(n.apply,r)}}const RE=[new ho("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ho("selection",{init(t,e){return t.selection||U.atStart(e.doc)},apply(t){return t.selection}}),new ho("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new ho("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Ku{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=RE.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ho(r.key,r.spec.state,r))})}}class ki{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let l=this.config.plugins[s];if(l.spec.appendTransaction){let a=i?i[s].n:0,u=i?i[s].state:this,c=a<n.length&&l.spec.appendTransaction.call(l,a?n.slice(a):n,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ki(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new AE(this)}static create(e){let n=new Ku(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ki(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Ku(this.schema,e.plugins),r=n.fields,i=new ki(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Ku(e.schema,e.plugins),o=new ki(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Ar.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=U.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let l in r){let a=r[l],u=a.spec.state;if(a.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){o[s.name]=u.fromJSON.call(a,e,n[l],o);return}}o[s.name]=s.init(e,o)}}),o}}function k1(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=k1(i,e,{})),n[r]=i}return n}class Be{constructor(e){this.spec=e,this.props={},e.props&&k1(e.props,this,this.props),this.key=e.key?e.key.key:x1("plugin")}getState(e){return e[this.key]}}const qu=Object.create(null);function x1(t){return t in qu?t+"$"+ ++qu[t]:(qu[t]=0,t+"$")}class xt{constructor(e="key"){this.key=x1(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const De=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Xo=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let fd=null;const un=function(t,e,n){let r=fd||(fd=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},DE=function(){fd=null},Hr=function(t,e,n,r){return n&&(tm(t,e,n,r,-1)||tm(t,e,n,r,1))},IE=/^(img|br|input|textarea|hr)$/i;function tm(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Tt(t))){let o=t.parentNode;if(!o||o.nodeType!=1||ps(t)||IE.test(t.nodeName)||t.contentEditable=="false")return!1;e=De(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Tt(t):0}else return!1}}function Tt(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function LE(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Tt(t)}else if(t.parentNode&&!ps(t))e=De(t),t=t.parentNode;else return null}}function zE(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ps(t))e=De(t)+1,t=t.parentNode;else return null}}function jE(t,e,n){for(let r=e==0,i=e==Tt(t);r||i;){if(t==n)return!0;let o=De(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Tt(t)}}function ps(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const eu=function(t){return t.focusNode&&Hr(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function vr(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function BE(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function FE(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Tt(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Tt(r.startContainer),r.startOffset)}}}const rn=typeof navigator<"u"?navigator:null,nm=typeof document<"u"?document:null,fr=rn&&rn.userAgent||"",hd=/Edge\/(\d+)/.exec(fr),w1=/MSIE \d/.exec(fr),pd=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fr),ut=!!(w1||pd||hd),tr=w1?document.documentMode:pd?+pd[1]:hd?+hd[1]:0,Ut=!ut&&/gecko\/(\d+)/i.test(fr);Ut&&+(/Firefox\/(\d+)/.exec(fr)||[0,0])[1];const md=!ut&&/Chrome\/(\d+)/.exec(fr),Ue=!!md,S1=md?+md[1]:0,Ge=!ut&&!!rn&&/Apple Computer/.test(rn.vendor),_i=Ge&&(/Mobile\/\w+/.test(fr)||!!rn&&rn.maxTouchPoints>2),bt=_i||(rn?/Mac/.test(rn.platform):!1),_E=rn?/Win/.test(rn.platform):!1,Ft=/Android \d/.test(fr),ms=!!nm&&"webkitFontSmoothing"in nm.documentElement.style,$E=ms?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function VE(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function sn(t,e){return typeof t=="number"?t:t[e]}function HE(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function rm(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Xo(s)){if(s.nodeType!=1)continue;let l=s,a=l==o.body,u=a?VE(o):HE(l),c=0,d=0;if(e.top<u.top+sn(r,"top")?d=-(u.top-e.top+sn(i,"top")):e.bottom>u.bottom-sn(r,"bottom")&&(d=e.bottom-e.top>u.bottom-u.top?e.top+sn(i,"top")-u.top:e.bottom-u.bottom+sn(i,"bottom")),e.left<u.left+sn(r,"left")?c=-(u.left-e.left+sn(i,"left")):e.right>u.right-sn(r,"right")&&(c=e.right-u.right+sn(i,"right")),c||d)if(a)o.defaultView.scrollBy(c,d);else{let f=l.scrollLeft,p=l.scrollTop;d&&(l.scrollTop+=d),c&&(l.scrollLeft+=c);let h=l.scrollLeft-f,g=l.scrollTop-p;e={left:e.left-h,top:e.top-g,right:e.right-h,bottom:e.bottom-g}}if(a||/^(fixed|sticky)$/.test(getComputedStyle(s).position))break}}function WE(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let l=t.root.elementFromPoint(o,s);if(!l||l==t.dom||!t.dom.contains(l))continue;let a=l.getBoundingClientRect();if(a.top>=n-20){r=l,i=a.top;break}}return{refDOM:r,refTop:i,stack:C1(t.dom)}}function C1(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Xo(r));return e}function UE({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;E1(n,r==0?0:r-e)}function E1(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let ei=null;function KE(t){if(t.setActive)return t.setActive();if(ei)return t.focus(ei);let e=C1(t);t.focus(ei==null?{get preventScroll(){return ei={preventScroll:!0},!0}}:void 0),ei||(ei=!1,E1(e,0))}function b1(t,e){let n,r=2e8,i,o=0,s=e.top,l=e.top,a,u;for(let c=t.firstChild,d=0;c;c=c.nextSibling,d++){let f;if(c.nodeType==1)f=c.getClientRects();else if(c.nodeType==3)f=un(c).getClientRects();else continue;for(let p=0;p<f.length;p++){let h=f[p];if(h.top<=s&&h.bottom>=l){s=Math.max(h.bottom,s),l=Math.min(h.top,l);let g=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(g<r){n=c,r=g,i=g&&n.nodeType==3?{left:h.right<e.left?h.right:h.left,top:e.top}:e,c.nodeType==1&&g&&(o=d+(e.left>=(h.left+h.right)/2?1:0));continue}}else h.top>e.top&&!a&&h.left<=e.left&&h.right>=e.left&&(a=c,u={left:Math.max(h.left,Math.min(h.right,e.left)),top:h.top});!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=d+1)}}return!n&&a&&(n=a,i=u,r=0),n&&n.nodeType==3?qE(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:b1(n,i)}function qE(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=On(r,1);if(o.top!=o.bottom&&Bf(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Bf(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function JE(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function YE(t,e,n){let{node:r,offset:i}=b1(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function QE(t,e,n,r){let i=-1;for(let o=e,s=!1;o!=t.dom;){let l=t.docView.nearestDesc(o,!0);if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)){let a=l.dom.getBoundingClientRect();if(l.node.isBlock&&l.parent&&(!s&&a.left>r.left||a.top>r.top?i=l.posBefore:(!s&&a.right<r.left||a.bottom<r.top)&&(i=l.posAfter),s=!0),!l.contentDOM&&i<0&&!l.node.isText)return(l.node.isBlock?r.top<(a.top+a.bottom)/2:r.left<(a.left+a.right)/2)?l.posBefore:l.posAfter}o=l.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function N1(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let l=s.getClientRects();for(let a=0;a<l.length;a++){let u=l[a];if(Bf(e,u))return N1(s,e,u)}}if((o=(o+1)%r)==i)break}return t}function GE(t,e){let n=t.dom.ownerDocument,r,i=0,o=FE(n,e.left,e.top);o&&({node:r,offset:i}=o);let s=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),l;if(!s||!t.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=t.dom.getBoundingClientRect();if(!Bf(e,u)||(s=N1(t.dom,e,u),!s))return null}if(Ge)for(let u=s;r&&u;u=Xo(u))u.draggable&&(r=void 0);if(s=JE(s,e),r){if(Ut&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let c=r.childNodes[i],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let u;ms&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(l=QE(t,r,i,e))}l==null&&(l=YE(t,s,e));let a=t.docView.nearestDesc(s,!0);return{pos:l,inside:a?a.posAtStart-a.border:-1}}function im(t){return t.top<t.bottom||t.left<t.right}function On(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(im(r))return r}return Array.prototype.find.call(n,im)||t.getBoundingClientRect()}const XE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function M1(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=ms||Ut;if(r.nodeType==3)if(s&&(XE.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let a=On(un(r,i,i),n);if(Ut&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=On(un(r,i-1,i-1),-1);if(u.top==a.top){let c=On(un(r,i,i+1),-1);if(c.top!=a.top)return oo(c,c.left<u.left)}}return a}else{let a=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(a--,c=1):n<0?a--:u++,oo(On(un(r,a,u),c),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Tt(r))){let a=r.childNodes[i-1];if(a.nodeType==1)return Ju(a.getBoundingClientRect(),!1)}if(o==null&&i<Tt(r)){let a=r.childNodes[i];if(a.nodeType==1)return Ju(a.getBoundingClientRect(),!0)}return Ju(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Tt(r))){let a=r.childNodes[i-1],u=a.nodeType==3?un(a,Tt(a)-(s?0:1)):a.nodeType==1&&(a.nodeName!="BR"||!a.nextSibling)?a:null;if(u)return oo(On(u,1),!1)}if(o==null&&i<Tt(r)){let a=r.childNodes[i];for(;a.pmViewDesc&&a.pmViewDesc.ignoreForCoords;)a=a.nextSibling;let u=a?a.nodeType==3?un(a,0,s?0:1):a.nodeType==1?a:null:null;if(u)return oo(On(u,-1),!0)}return oo(On(r.nodeType==3?un(r):r,-n),n>=0)}function oo(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ju(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function T1(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function ZE(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return T1(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(o,!0);if(!l)break;if(l.node.isBlock){o=l.contentDOM||l.dom;break}o=l.dom.parentNode}let s=M1(t,i.pos,1);for(let l=o.firstChild;l;l=l.nextSibling){let a;if(l.nodeType==1)a=l.getClientRects();else if(l.nodeType==3)a=un(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<a.length;u++){let c=a[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const eb=/[\u0590-\u08ac]/;function tb(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,l=t.domSelection();return l?!eb.test(r.parent.textContent)||!l.modify?n=="left"||n=="backward"?o:s:T1(t,e,()=>{let{focusNode:a,focusOffset:u,anchorNode:c,anchorOffset:d}=t.domSelectionRange(),f=l.caretBidiLevel;l.modify("move",n,"character");let p=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:h,focusOffset:g}=t.domSelectionRange(),k=h&&!p.contains(h.nodeType==1?h:h.parentNode)||a==h&&u==g;try{l.collapse(c,d),a&&(a!=c||u!=d)&&l.extend&&l.extend(a,u)}catch{}return f!=null&&(l.caretBidiLevel=f),k}):r.pos==r.start()||r.pos==r.end()}let om=null,sm=null,lm=!1;function nb(t,e,n){return om==e&&sm==n?lm:(om=e,sm=n,lm=n=="up"||n=="down"?ZE(t,e,n):tb(t,e,n))}const Rt=0,am=1,Cr=2,on=3;class gs{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Rt,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>De(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],l=o+s.size;if(l>e||s instanceof P1){i=e-o;break}o=l}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof O1&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?De(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?De(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,l=0;;l++){let a=this.children[l],u=s+a.size;if(i==-1&&e<=u){let c=s+a.border;if(e>=c&&n<=u-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(e,n,c);e=s;for(let d=l;d>0;d--){let f=this.children[d-1];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(1)){i=De(f.dom)+1;break}e-=f.size}i==-1&&(i=0)}if(i>-1&&(u>n||l==this.children.length-1)){n=u;for(let c=l+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=De(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let f=0,p=0;f<this.children.length;f++){let h=this.children[f],g=p+h.size;if(o>p&&s<g)return h.setSelection(e-p-h.border,n-p-h.border,r,i);p=g}let l=this.domFromPos(e,e?-1:1),a=n==e?l:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((Ut||Ge)&&e==n){let{node:f,offset:p}=l;if(f.nodeType==3){if(c=!!(p&&f.nodeValue[p-1]==`
`),c&&p==f.nodeValue.length)for(let h=f,g;h;h=h.parentNode){if(g=h.nextSibling){g.nodeName=="BR"&&(l=a={node:g.parentNode,offset:De(g)+1});break}let k=h.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let h=f.childNodes[p-1];c=h&&(h.nodeName=="BR"||h.contentEditable=="false")}}if(Ut&&u.focusNode&&u.focusNode!=a.node&&u.focusNode.nodeType==1){let f=u.focusNode.childNodes[u.focusOffset];f&&f.contentEditable=="false"&&(i=!0)}if(!(i||c&&Ge)&&Hr(l.node,l.offset,u.anchorNode,u.anchorOffset)&&Hr(a.node,a.offset,u.focusNode,u.focusOffset))return;let d=!1;if((u.extend||e==n)&&!c){u.collapse(l.node,l.offset);try{e!=n&&u.extend(a.node,a.offset),d=!0}catch{}}if(!d){if(e>n){let p=l;l=a,a=p}let f=document.createRange();f.setEnd(a.node,a.offset),f.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(f)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let l=r+o.border,a=s-o.border;if(e>=l&&n<=a){this.dirty=e==r||n==s?Cr:am,e==l&&n==a&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=on:o.markDirty(e-l,n-l);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Cr:on}r=s}this.dirty=Cr}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Cr:am;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class O1 extends gs{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let l=document.createElement("span");l.appendChild(s),s=l}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==Rt&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class rb extends gs{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Wr extends gs{constructor(e,n,r,i,o){super(e,[],r,i),this.mark=n,this.spec=o}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=Qr.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Wr(e,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&on||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=on&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Rt){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Rt}}slice(e,n,r){let i=Wr.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=yd(o,n,s,r)),e>0&&(o=yd(o,0,e,r));for(let l=0;l<o.length;l++)o[l].parent=i;return i.children=o,i}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class nr extends gs{constructor(e,n,r,i,o,s,l,a,u){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=l}static create(e,n,r,i,o,s){let l=o.nodeViews[n.type.name],a,u=l&&l(n,o,()=>{if(!a)return s;if(a.parent)return a.parent.posBeforeChild(a)},r,i),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=Qr.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let f=c;return c=D1(c,r,n),u?a=new ib(e,n,r,i,c,d||null,f,u,o,s+1):n.isText?new tu(e,n,r,i,c,f,o):new nr(e,n,r,i,c,d||null,f,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>T.empty)}return e}matchesNode(e,n,r){return this.dirty==Rt&&e.eq(this.node)&&Ul(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,l=o&&o.pos<0,a=new sb(this,s&&s.node,e);ub(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?a.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!d&&a.syncToMarks(c==this.node.childCount?te.none:this.node.child(c).marks,r,e),a.placeWidget(u,e,i)},(u,c,d,f)=>{a.syncToMarks(u.marks,r,e);let p;a.findNodeMatch(u,c,d,f)||l&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(p=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(u,c,d,p,e)||a.updateNextNode(u,c,d,e,f,i)||a.addNode(u,c,d,e,i),i+=u.nodeSize}),a.syncToMarks([],r,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==Cr)&&(s&&this.protectLocalComposition(e,s),A1(this.contentDOM,this.children,e),_i&&cb(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof W)||r<n||i>n+this.node.content.size)return null;let o=e.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,l=db(this.node.content,s,r-n,i-n);return l<0?null:{node:o,pos:l,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new rb(this,o,n,i);e.input.compositionNodes.push(s),this.children=yd(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==on||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Rt}updateOuterDeco(e){if(Ul(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=R1(this.dom,this.nodeDOM,gd(this.outerDeco,this.node,n),gd(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function um(t,e,n,r,i){D1(r,e,t);let o=new nr(void 0,t,e,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class tu extends nr{constructor(e,n,r,i,o,s,l){super(e,n,r,i,o,null,s,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==on||this.dirty!=Rt&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Rt||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Rt,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new tu(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=on)}get domAtom(){return!1}isText(e){return this.node.text==e}}class P1 extends gs{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Rt&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class ib extends nr{constructor(e,n,r,i,o,s,l,a,u,c){super(e,n,r,i,o,s,l,u,c),this.spec=a}update(e,n,r,i){if(this.dirty==on)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function A1(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],l=s.dom;if(l.parentNode==t){for(;l!=r;)r=cm(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(l,r);if(s instanceof Wr){let a=r?r.previousSibling:t.lastChild;A1(s.contentDOM,s.children,n),r=a?a.nextSibling:t.firstChild}}for(;r;)r=cm(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const bo=function(t){t&&(this.nodeName=t)};bo.prototype=Object.create(null);const Er=[new bo];function gd(t,e,n){if(t.length==0)return Er;let r=n?Er[0]:new bo,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new bo(s.nodeName));for(let l in s){let a=s[l];a!=null&&(n&&i.length==1&&i.push(r=new bo(e.isInline?"span":"div")),l=="class"?r.class=(r.class?r.class+" ":"")+a:l=="style"?r.style=(r.style?r.style+";":"")+a:l!="nodeName"&&(r[l]=a))}}}return i}function R1(t,e,n,r){if(n==Er&&r==Er)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],l=n[o];if(o){let a;l&&l.nodeName==s.nodeName&&i!=t&&(a=i.parentNode)&&a.nodeName.toLowerCase()==s.nodeName||(a=document.createElement(s.nodeName),a.pmIsDeco=!0,a.appendChild(i),l=Er[0]),i=a}ob(i,l||Er[0],s)}return i}function ob(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function D1(t,e,n){return R1(t,t,Er,gd(e,n,t.nodeType!=1))}function Ul(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function cm(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class sb{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=lb(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Rt,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let a=this.index;a<Math.min(this.index+3,this.top.children.length);a++){let u=this.top.children[a];if(u.matchesMark(e[o])&&!this.isLocked(u.dom)){l=a;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let a=Wr.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,a),this.top=a,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let l=this.index,a=Math.min(this.top.children.length,l+5);l<a;l++){let u=this.top.children[l];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=l;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==on&&s.dom==s.contentDOM&&(s.dirty=Cr),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o,s){for(let l=this.index;l<this.top.children.length;l++){let a=this.top.children[l];if(a instanceof nr){let u=this.preMatch.matched.get(a);if(u!=null&&u!=o)return!1;let c=a.dom,d,f=this.isLocked(c)&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=on&&Ul(n,a.outerDeco));if(!f&&a.update(e,n,r,i))return this.destroyBetween(this.index,l),a.dom!=c&&(this.changed=!0),this.index++,!0;if(!f&&(d=this.recreateWrapper(a,e,n,r,i,s)))return this.destroyBetween(this.index,l),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Cr,d.updateChildren(i,s+1),d.dirty=Rt),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,o,s){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Ul(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let l=nr.create(this.top,n,r,i,o,s);if(l.contentDOM){l.children=e.children,e.children=[];for(let a of l.children)a.parent=l}return e.destroy(),l}addNode(e,n,r,i,o){let s=nr.create(this.top,e,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new O1(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Wr;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof tu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ge||Ue)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new P1(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function lb(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let l;for(;;)if(r){let u=n.children[r-1];if(u instanceof Wr)n=u,r=u.children.length;else{l=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let a=l.node;if(a){if(a!=t.child(i-1))break;--i,o.set(l,i),s.push(l)}}return{index:i,matched:o,matches:s.reverse()}}function ab(t,e){return t.type.side-e.type.side}function ub(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,l=[],a=null;for(let u=0;;){let c,d;for(;s<i.length&&i[s].to==o;){let k=i[s++];k.widget&&(c?(d||(d=[c])).push(k):c=k)}if(c)if(d){d.sort(ab);for(let k=0;k<d.length;k++)n(d[k],u,!!a)}else n(c,u,!!a);let f,p;if(a)p=-1,f=a,a=null;else if(u<t.childCount)p=u,f=t.child(u++);else break;for(let k=0;k<l.length;k++)l[k].to<=o&&l.splice(k--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)l.push(i[s++]);let h=o+f.nodeSize;if(f.isText){let k=h;s<i.length&&i[s].from<k&&(k=i[s].from);for(let m=0;m<l.length;m++)l[m].to<k&&(k=l[m].to);k<h&&(a=f.cut(k-o),f=f.cut(0,k-o),h=k,p=-1)}else for(;s<i.length&&i[s].to<h;)s++;let g=f.isInline&&!f.isLeaf?l.filter(k=>!k.inline):l.slice();r(f,g,e.forChild(o,f),p),o=h}}function cb(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function db(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),l=o;if(o+=s.nodeSize,!s.isText)continue;let a=s.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;a+=u.text}if(o>=n){if(o>=r&&a.slice(r-e.length-l,r-l)==e)return r-e.length;let u=l<r?a.lastIndexOf(e,r-l-1):-1;if(u>=0&&u+e.length+l>=n)return l+u;if(n==r&&a.length>=r+e.length-l&&a.slice(r-l,r-l+e.length)==e)return r}}return-1}function yd(t,e,n,r,i){let o=[];for(let s=0,l=0;s<t.length;s++){let a=t[s],u=l,c=l+=a.size;u>=n||c<=e?o.push(a):(u<e&&o.push(a.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(a.slice(n-u,a.size,r)))}return o}function Ff(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l=r.resolve(s),a,u;if(eu(n)){for(a=s;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&_.isSelectable(d)&&i.parent&&!(d.isInline&&jE(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new _(s==f?l:r.resolve(f))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,f=s;for(let p=0;p<n.rangeCount;p++){let h=n.getRangeAt(p);d=Math.min(d,t.docView.posFromDOM(h.startContainer,h.startOffset,1)),f=Math.max(f,t.docView.posFromDOM(h.endContainer,h.endOffset,-1))}if(d<0)return null;[a,s]=f==t.state.selection.anchor?[f,d]:[d,f],l=r.resolve(s)}else a=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(a<0)return null}let c=r.resolve(a);if(!u){let d=e=="pointer"||t.state.selection.head<l.pos&&!o?1:-1;u=_f(t,c,l,d)}return u}function I1(t){return t.editable?t.hasFocus():z1(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function pn(t,e=!1){let n=t.state.selection;if(L1(t,n),!!I1(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Ue){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Hr(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)hb(t);else{let{anchor:r,head:i}=n,o,s;dm&&!(n instanceof W)&&(n.$from.parent.inlineContent||(o=fm(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=fm(t,n.to))),t.docView.setSelection(r,i,t.root,e),dm&&(o&&hm(o),s&&hm(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&fb(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const dm=Ge||Ue&&S1<63;function fm(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(Ge&&i&&i.contentEditable=="false")return Yu(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Yu(i);if(o)return Yu(o)}}function Yu(t){return t.contentEditable="true",Ge&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function hm(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function fb(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!I1(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function hb(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,De(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&ut&&tr<=11&&(r.disabled=!0,r.disabled=!1)}function L1(t,e){if(e instanceof _){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(pm(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else pm(t)}function pm(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function _f(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||W.between(e,n,r)}function mm(t){return t.editable&&!t.hasFocus()?!1:z1(t)}function z1(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function pb(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Hr(e.node,e.offset,n.anchorNode,n.anchorOffset)}function vd(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&U.findFrom(o,e)}function Rn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function gm(t,e,n){let r=t.state.selection;if(r instanceof W)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=t.state.doc.resolve(i.pos+o.nodeSize*(e<0?-1:1));return Rn(t,new W(r.$anchor,s))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=vd(t.state,e);return i&&i instanceof _?Rn(t,i):!1}else if(!(bt&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let l=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(l))&&!s.contentDOM?_.isSelectable(o)?Rn(t,new _(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):ms?Rn(t,new W(t.state.doc.resolve(e<0?l:l+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof _&&r.node.isInline)return Rn(t,new W(e>0?r.$to:r.$from));{let i=vd(t.state,e);return i?Rn(t,i):!1}}}function Kl(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function No(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ti(t,e){return e<0?mb(t):gb(t)}function mb(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(Ut&&n.nodeType==1&&r<Kl(n)&&No(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let l=n.childNodes[r-1];if(No(l,-1))i=n,o=--r;else if(l.nodeType==3)n=l,r=n.nodeValue.length;else break}}else{if(j1(n))break;{let l=n.previousSibling;for(;l&&No(l,-1);)i=n.parentNode,o=De(l),l=l.previousSibling;if(l)n=l,r=Kl(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?kd(t,n,r):i&&kd(t,i,o)}function gb(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=Kl(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let l=n.childNodes[r];if(No(l,1))o=n,s=++r;else break}else{if(j1(n))break;{let l=n.nextSibling;for(;l&&No(l,1);)o=l.parentNode,s=De(l)+1,l=l.nextSibling;if(l)n=l,r=0,i=Kl(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&kd(t,o,s)}function j1(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function yb(t,e){for(;t&&e==t.childNodes.length&&!ps(t);)e=De(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function vb(t,e){for(;t&&!e&&!ps(t);)e=De(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function kd(t,e,n){if(e.nodeType!=3){let o,s;(s=yb(e,n))?(e=s,n=0):(o=vb(e,n))&&(e=o,n=o.nodeValue.length)}let r=t.domSelection();if(!r)return;if(eu(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&pn(t)},50)}function ym(t,e){let n=t.state.doc.resolve(e);if(!(Ue||_E)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let o=t.coordsAtPos(e-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(e<n.end()){let o=t.coordsAtPos(e+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function vm(t,e,n){let r=t.state.selection;if(r instanceof W&&!r.empty||n.indexOf("s")>-1||bt&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=vd(t.state,e);if(s&&s instanceof _)return Rn(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,l=r instanceof Ht?U.near(s,e):U.findFrom(s,e);return l?Rn(t,l):!1}return!1}function km(t,e){if(!(t.state.selection instanceof W))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function xm(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function kb(t){if(!Ge||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;xm(t,r,"true"),setTimeout(()=>xm(t,r,"false"),20)}return!1}function xb(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function wb(t,e){let n=e.keyCode,r=xb(e);if(n==8||bt&&n==72&&r=="c")return km(t,-1)||ti(t,-1);if(n==46&&!e.shiftKey||bt&&n==68&&r=="c")return km(t,1)||ti(t,1);if(n==13||n==27)return!0;if(n==37||bt&&n==66&&r=="c"){let i=n==37?ym(t,t.state.selection.from)=="ltr"?-1:1:-1;return gm(t,i,r)||ti(t,i)}else if(n==39||bt&&n==70&&r=="c"){let i=n==39?ym(t,t.state.selection.from)=="ltr"?1:-1:1;return gm(t,i,r)||ti(t,i)}else{if(n==38||bt&&n==80&&r=="c")return vm(t,-1,r)||ti(t,-1);if(n==40||bt&&n==78&&r=="c")return kb(t)||vm(t,1,r)||ti(t,1);if(r==(bt?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function B1(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let p=r.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let s=t.someProp("clipboardSerializer")||Qr.fromSchema(t.state.schema),l=W1(),a=l.createElement("div");a.appendChild(s.serializeFragment(r,{document:l}));let u=a.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=H1[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let h=l.createElement(c[p]);for(;a.firstChild;)h.appendChild(a.firstChild);a.appendChild(h),d++}u=a.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let f=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:a,text:f,slice:e}}function F1(t,e,n,r,i){let o=i.parent.type.spec.code,s,l;if(!n&&!e)return null;let a=e&&(r||o||!n);if(a){if(t.someProp("transformPastedText",f=>{e=f(e,o||r,t)}),o)return e?new I(T.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):I.empty;let d=t.someProp("clipboardTextParser",f=>f(e,i,r,t));if(d)l=d;else{let f=i.marks(),{schema:p}=t.state,h=Qr.fromSchema(p);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let k=s.appendChild(document.createElement("p"));g&&k.appendChild(h.serializeNode(p.text(g,f)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),s=bb(n),ms&&Nb(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let f=s.firstChild;for(;f&&f.nodeType!=1;)f=f.nextSibling;if(!f)break;s=f}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||er.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(a||c),context:i,ruleFromNode(f){return f.nodeName=="BR"&&!f.nextSibling&&f.parentNode&&!Sb.test(f.parentNode.nodeName)?{ignore:!0}:null}})),c)l=Mb(wm(l,+c[1],+c[2]),c[4]);else if(l=I.maxOpen(Cb(l.content,i),!0),l.openStart||l.openEnd){let d=0,f=0;for(let p=l.content.firstChild;d<l.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=l.content.lastChild;f<l.openEnd&&!p.type.spec.isolating;f++,p=p.lastChild);l=wm(l,d,f)}return t.someProp("transformPasted",d=>{l=d(l,t)}),l}const Sb=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Cb(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(l=>{if(!s)return;let a=i.findWrapping(l.type),u;if(!a)return s=null;if(u=s.length&&o.length&&$1(a,o,l,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=V1(s[s.length-1],o.length));let c=_1(l,a);s.push(c),i=i.matchType(c.type),o=a}}),s)return T.from(s)}return t}function _1(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,T.from(t));return t}function $1(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=$1(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(T.from(_1(n,t,i+1))))}}function V1(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,V1(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(T.empty,!0);return t.copy(n.append(r))}function xd(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,l=s.content;return t.childCount>1&&(o=0),i<r-1&&(l=xd(l,e,n,r,i+1,o)),i>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,o<=i).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(T.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function wm(t,e,n){return e<t.openStart&&(t=new I(xd(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new I(xd(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const H1={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Sm=null;function W1(){return Sm||(Sm=document.implementation.createHTMLDocument("title"))}let Qu=null;function Eb(t){let e=window.trustedTypes;return e?(Qu||(Qu=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Qu.createHTML(t)):t}function bb(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=W1().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&H1[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=Eb(t),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function Nb(t){let e=t.querySelectorAll(Ue?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Mb(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let l=r.length-2;l>=0;l-=2){let a=n.nodes[r[l]];if(!a||a.hasRequiredAttrs())break;i=T.from(a.create(r[l+1],i)),o++,s++}return new I(i,o,s)}const Xe={},Ze={},Tb={touchstart:!0,touchmove:!0};class Ob{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Pb(t){for(let e in Xe){let n=Xe[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Rb(t,r)&&!$f(t,r)&&(t.editable||!(r.type in Ze))&&n(t,r)},Tb[e]?{passive:!0}:void 0)}Ge&&t.dom.addEventListener("input",()=>null),wd(t)}function Wn(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Ab(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function wd(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>$f(t,r))})}function $f(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Rb(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Db(t,e){!$f(t,e)&&Xe[e.type]&&(t.editable||!(e.type in Ze))&&Xe[e.type](t,e)}Ze.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!K1(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Ft&&Ue&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),_i&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,vr(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||wb(t,n)?n.preventDefault():Wn(t,"key")};Ze.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Ze.keypress=(t,e)=>{let n=e;if(K1(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||bt&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof W)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function nu(t){return{left:t.clientX,top:t.clientY}}function Ib(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Vf(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,l=>s>o.depth?l(t,n,o.nodeAfter,o.before(s),i,!0):l(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Pi(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function Lb(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&_.isSelectable(r)?(Pi(t,new _(n)),!0):!1}function zb(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof _&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let l=s>o.depth?o.nodeAfter:o.node(s);if(_.isSelectable(l)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Pi(t,_.create(t.state.doc,i)),!0):!1}function jb(t,e,n,r,i){return Vf(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?zb(t,n):Lb(t,n))}function Bb(t,e,n,r){return Vf(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function Fb(t,e,n,r){return Vf(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||_b(t,n,r)}function _b(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Pi(t,W.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),l=i.before(o);if(s.inlineContent)Pi(t,W.create(r,l+1,l+1+s.content.size));else if(_.isSelectable(s))Pi(t,_.create(r,l));else continue;return!0}}function Hf(t){return ql(t)}const U1=bt?"metaKey":"ctrlKey";Xe.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Hf(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&Ib(n,t.input.lastClick)&&!n[U1]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(nu(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new $b(t,s,n,!!r)):(o=="doubleClick"?Bb:Fb)(t,s.pos,s.inside,n)?n.preventDefault():Wn(t,"pointer"))};class $b{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[U1],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const l=i?null:r.target,a=l?e.docView.nearestDesc(l,!0):null;this.target=a&&a.dom.nodeType==1?a.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof _&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ut&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Wn(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>pn(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(nu(e))),this.updateAllowDefault(e),this.allowDefault||!n?Wn(this.view,"pointer"):jb(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ge&&this.mightDrag&&!this.mightDrag.node.isAtom||Ue&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Pi(this.view,U.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Wn(this.view,"pointer")}move(e){this.updateAllowDefault(e),Wn(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Xe.touchstart=t=>{t.input.lastTouch=Date.now(),Hf(t),Wn(t,"pointer")};Xe.touchmove=t=>{t.input.lastTouch=Date.now(),Wn(t,"pointer")};Xe.contextmenu=t=>Hf(t);function K1(t,e){return t.composing?!0:Ge&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Vb=Ft?5e3:-1;Ze.compositionstart=Ze.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof W&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),ql(t,!0),t.markCursor=null;else if(ql(t,!e.selection.empty),Ut&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let l=t.domSelection();l&&l.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}q1(t,Vb)};Ze.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,q1(t,20))};function q1(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ql(t),e))}function J1(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=Wb());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Hb(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=LE(e.focusNode,e.focusOffset),r=zE(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=t.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function Wb(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ql(t,e=!1){if(!(Ft&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),J1(t),e||t.docView&&t.docView.dirty){let n=Ff(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Ub(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Zo=ut&&tr<15||_i&&$E<604;Xe.copy=Ze.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=Zo?null:n.clipboardData,s=r.content(),{dom:l,text:a}=B1(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",l.innerHTML),o.setData("text/plain",a)):Ub(t,l),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Kb(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function qb(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?es(t,r.value,null,i,e):es(t,r.textContent,r.innerHTML,i,e)},50)}function es(t,e,n,r,i){let o=F1(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,i,o||I.empty)))return!0;if(!o)return!1;let s=Kb(o),l=s?t.state.tr.replaceSelectionWith(s,r):t.state.tr.replaceSelection(o);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Y1(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Ze.paste=(t,e)=>{let n=e;if(t.composing&&!Ft)return;let r=Zo?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&es(t,Y1(r),r.getData("text/html"),i,n)?n.preventDefault():qb(t,n)};class Q1{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const G1=bt?"altKey":"ctrlKey";Xe.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(nu(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof _?i.to-1:i.to))){if(r&&r.mightDrag)s=_.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(s=_.create(t.state.doc,d.posBefore))}}let l=(s||t.state.selection).content(),{dom:a,text:u,slice:c}=B1(t,l);(!n.dataTransfer.files.length||!Ue||S1>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Zo?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",Zo||n.dataTransfer.setData("text/plain",u),t.dragging=new Q1(c,!n[G1],s)};Xe.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Ze.dragover=Ze.dragenter=(t,e)=>e.preventDefault();Ze.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(nu(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",h=>{s=h(s,t)}):s=F1(t,Y1(n.dataTransfer),Zo?null:n.dataTransfer.getData("text/html"),!1,o);let l=!!(r&&!n[G1]);if(t.someProp("handleDrop",h=>h(t,n,s||I.empty,l))){n.preventDefault();return}if(!s)return;n.preventDefault();let a=s?h1(t.state.doc,o.pos,s):o.pos;a==null&&(a=o.pos);let u=t.state.tr;if(l){let{node:h}=r;h?h.replace(u):u.deleteSelection()}let c=u.mapping.map(a),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,f=u.doc;if(d?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(f))return;let p=u.doc.resolve(c);if(d&&_.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new _(p));else{let h=u.mapping.map(a);u.mapping.maps[u.mapping.maps.length-1].forEach((g,k,m,y)=>h=y),u.setSelection(_f(t,p,u.doc.resolve(h)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Xe.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&pn(t)},20))};Xe.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Xe.beforeinput=(t,e)=>{if(Ue&&Ft&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,vr(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Ze)Xe[t]=Ze[t];function ts(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Jl{constructor(e,n){this.toDOM=e,this.spec=n||Rr,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Pt(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Jl&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&ts(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class rr{constructor(e,n){this.attrs=e,this.spec=n||Rr}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Pt(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof rr&&ts(this.attrs,e.attrs)&&ts(this.spec,e.spec)}static is(e){return e.type instanceof rr}destroy(){}}class Wf{constructor(e,n){this.attrs=e,this.spec=n||Rr}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Pt(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof Wf&&ts(this.attrs,e.attrs)&&ts(this.spec,e.spec)}destroy(){}}class Pt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Pt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Pt(e,e,new Jl(n,r))}static inline(e,n,r,i){return new Pt(e,n,new rr(r,i))}static node(e,n,r,i){return new Pt(e,n,new Wf(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof rr}get widget(){return this.type instanceof Jl}}const oi=[],Rr={};class Se{constructor(e,n){this.local=e.length?e:oi,this.children=n.length?n:oi}static create(e,n){return n.length?Yl(n,e,0,Rr):Ve}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let l=this.local[s];l.from<=n&&l.to>=e&&(!o||o(l.spec))&&r.push(l.copy(l.from+i,l.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let l=this.children[s]+1;this.children[s+2].findInner(e-l,n-l,r,i+l,o)}}map(e,n,r){return this==Ve||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Rr)}mapInner(e,n,r,i,o){let s;for(let l=0;l<this.local.length;l++){let a=this.local[l].map(e,r,i);a&&a.type.valid(n,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[l].spec)}return this.children.length?Jb(this.children,s||[],e,n,r,i,o):s?new Se(s.sort(Dr),oi):Ve}add(e,n){return n.length?this==Ve?Se.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((l,a)=>{let u=a+r,c;if(c=Z1(n,l,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(l,c,u+1):i.splice(o,0,a,a+l.nodeSize,Yl(c,l,u+1,Rr)),o+=3}});let s=X1(o?ev(n):n,-r);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new Se(s.length?this.local.concat(s).sort(Dr):this.local,i||this.children)}remove(e){return e.length==0||this==Ve?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,l=r[o]+n,a=r[o+1]+n;for(let c=0,d;c<e.length;c++)(d=e[c])&&d.from>l&&d.to<a&&(e[c]=null,(s||(s=[])).push(d));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,l+1);u!=Ve?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let l=0;l<i.length;l++)i[l].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(l--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new Se(i,r):Ve}forChild(e,n){if(this==Ve)return this;if(n.isLeaf)return Se.empty;let r,i;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(r=this.children[l+2]);break}let o=e+1,s=o+n.content.size;for(let l=0;l<this.local.length;l++){let a=this.local[l];if(a.from<s&&a.to>o&&a.type instanceof rr){let u=Math.max(o,a.from)-o,c=Math.min(s,a.to)-o;u<c&&(i||(i=[])).push(a.copy(u,c))}}if(i){let l=new Se(i.sort(Dr),oi);return r?new jn([l,r]):l}return r||Ve}eq(e){if(this==e)return!0;if(!(e instanceof Se)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Uf(this.localsInner(e))}localsInner(e){if(this==Ve)return oi;if(e.inlineContent||!this.local.some(rr.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof rr||n.push(this.local[r]);return n}forEachSet(e){e(this)}}Se.empty=new Se([],[]);Se.removeOverlap=Uf;const Ve=Se.empty;class jn{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Rr));return jn.from(r)}forChild(e,n){if(n.isLeaf)return Se.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=Ve&&(o instanceof jn?r=r.concat(o.members):r.push(o))}return jn.from(r)}eq(e){if(!(e instanceof jn)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?Uf(r?n:n.sort(Dr)):oi}static from(e){switch(e.length){case 0:return Ve;case 1:return e[0];default:return new jn(e.every(n=>n instanceof Se)?e:e.reduce((n,r)=>n.concat(r instanceof Se?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function Jb(t,e,n,r,i,o,s){let l=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let d=0;n.maps[u].forEach((f,p,h,g)=>{let k=g-h-(p-f);for(let m=0;m<l.length;m+=3){let y=l[m+1];if(y<0||f>y+c-d)continue;let v=l[m]+c-d;p>=v?l[m+1]=f<=v?-2:-1:f>=c&&k&&(l[m]+=k,l[m+1]+=k)}d+=k}),c=n.maps[u].map(c,-1)}let a=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){a=!0,l[u+1]=-1;continue}let c=n.map(t[u]+o),d=c-i;if(d<0||d>=r.content.size){a=!0;continue}let f=n.map(t[u+1]+o,-1),p=f-i,{index:h,offset:g}=r.content.findIndex(d),k=r.maybeChild(h);if(k&&g==d&&g+k.nodeSize==p){let m=l[u+2].mapInner(n,k,c+1,t[u]+o+1,s);m!=Ve?(l[u]=d,l[u+1]=p,l[u+2]=m):(l[u+1]=-2,a=!0)}else a=!0}if(a){let u=Yb(l,t,e,n,i,o,s),c=Yl(u,r,0,s);e=c.local;for(let d=0;d<l.length;d+=3)l[d+1]<0&&(l.splice(d,3),d-=3);for(let d=0,f=0;d<c.children.length;d+=3){let p=c.children[d];for(;f<l.length&&l[f]<p;)f+=3;l.splice(f,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Se(e.sort(Dr),l)}function X1(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Pt(i.from+e,i.to+e,i.type))}return n}function Yb(t,e,n,r,i,o,s){function l(a,u){for(let c=0;c<a.local.length;c++){let d=a.local[c].map(r,i,u);d?n.push(d):s.onRemove&&s.onRemove(a.local[c].spec)}for(let c=0;c<a.children.length;c+=3)l(a.children[c+2],a.children[c]+u+1)}for(let a=0;a<t.length;a+=3)t[a+1]==-1&&l(t[a+2],e[a]+o+1);return n}function Z1(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function ev(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Yl(t,e,n,r){let i=[],o=!1;e.forEach((l,a)=>{let u=Z1(t,l,a+n);if(u){o=!0;let c=Yl(u,l,n+a+1,r);c!=Ve&&i.push(a,a+l.nodeSize,c)}});let s=X1(o?ev(t):t,-n).sort(Dr);for(let l=0;l<s.length;l++)s[l].type.valid(e,s[l])||(r.onRemove&&r.onRemove(s[l].spec),s.splice(l--,1));return s.length||i.length?new Se(s,i):Ve}function Dr(t,e){return t.from-e.from||t.to-e.to}function Uf(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Cm(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Cm(e,i,r.copy(o.from,r.to)));break}}}return e}function Cm(t,e,n){for(;e<t.length&&Dr(n,t[e])>0;)e++;t.splice(e,0,n)}function Gu(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Ve&&e.push(r)}),t.cursorWrapper&&e.push(Se.create(t.state.doc,[t.cursorWrapper.deco])),jn.from(e)}const Qb={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Gb=ut&&tr<=11;class Xb{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Zb{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Xb,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ut&&tr<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Gb&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Qb)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(mm(this.view)){if(this.suppressingSelectionUpdates)return pn(this.view);if(ut&&tr<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Hr(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Xo(o))n.add(o);for(let o=e.anchorNode;o;o=Xo(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&mm(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,l=!1,a=[];if(e.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],a);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(l=!0))}if(Ut&&a.length){let c=a.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,f]=c;d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let f of c){let p=f.parentNode;p&&p.nodeName=="LI"&&(!d||nN(e,d)!=p)&&f.remove()}}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&eu(r)&&(u=Ff(e))&&u.eq(U.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,pn(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),eN(e)),this.handleDOMChange(o,s,l,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||pn(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++){let d=e.addedNodes[c];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(ut&&tr<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:d,nextSibling:f}=e.addedNodes[c];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(o=f)}let s=i&&i.parentNode==e.target?De(i)+1:0,l=r.localPosFromDOM(e.target,s,-1),a=o&&o.parentNode==e.target?De(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,a,1);return{from:l,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Em=new WeakMap,bm=!1;function eN(t){if(!Em.has(t)&&(Em.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Ut,bm)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),bm=!0}}function Nm(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.domAtPos(t.state.selection.anchor);return Hr(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function tN(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Nm(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Nm(t,n):null}function nN(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function rN(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:l}=t.docView.parseRange(e,n),a=t.domSelectionRange(),u,c=a.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:a.anchorOffset}],eu(a)||u.push({node:a.focusNode,offset:a.focusOffset})),Ue&&t.input.lastKeyCode===8)for(let k=o;k>i;k--){let m=r.childNodes[k-1],y=m.pmViewDesc;if(m.nodeName=="BR"&&!y){o=k;break}if(!y||y.size)break}let d=t.state.doc,f=t.someProp("domParser")||er.fromSchema(t.state.schema),p=d.resolve(s),h=null,g=f.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:iN,context:p});if(u&&u[0].pos!=null){let k=u[0].pos,m=u[1]&&u[1].pos;m==null&&(m=k),h={anchor:k+s,head:m+s}}return{doc:g,sel:h,from:s,to:l}}function iN(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ge&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Ge&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const oN=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function sN(t,e,n,r,i){let o=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let D=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,V=Ff(t,D);if(V&&!t.state.selection.eq(V)){if(Ue&&Ft&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",z=>z(t,vr(13,"Enter"))))return;let fe=t.state.tr.setSelection(V);D=="pointer"?fe.setMeta("pointer",!0):D=="key"&&fe.scrollIntoView(),o&&fe.setMeta("composition",o),t.dispatch(fe)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let a=t.state.selection,u=rN(t,e,n),c=t.state.doc,d=c.slice(u.from,u.to),f,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,p="end"):(f=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let h=uN(d.content,u.doc.content,u.from,f,p);if(h&&t.input.domChangeCount++,(_i&&t.input.lastIOSEnter>Date.now()-225||Ft)&&i.some(D=>D.nodeType==1&&!oN.test(D.nodeName))&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",D=>D(t,vr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&a instanceof W&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))h={start:a.from,endA:a.to,endB:a.to};else{if(u.sel){let D=Mm(t,t.state.doc,u.sel);if(D&&!D.eq(t.state.selection)){let V=t.state.tr.setSelection(D);o&&V.setMeta("composition",o),t.dispatch(V)}}return}t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof W&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),ut&&tr<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>u.from&&u.doc.textBetween(h.start-u.from-1,h.start-u.from+1)=="  "&&(h.start--,h.endA--,h.endB--);let g=u.doc.resolveNoCache(h.start-u.from),k=u.doc.resolveNoCache(h.endB-u.from),m=c.resolve(h.start),y=g.sameParent(k)&&g.parent.inlineContent&&m.end()>=h.endA,v;if((_i&&t.input.lastIOSEnter>Date.now()-225&&(!y||i.some(D=>D.nodeName=="DIV"||D.nodeName=="P"))||!y&&g.pos<u.doc.content.size&&!g.sameParent(k)&&(v=U.findFrom(u.doc.resolve(g.pos+1),1,!0))&&v.head==k.pos)&&t.someProp("handleKeyDown",D=>D(t,vr(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&aN(c,h.start,h.endA,g,k)&&t.someProp("handleKeyDown",D=>D(t,vr(8,"Backspace")))){Ft&&Ue&&t.domObserver.suppressSelectionUpdates();return}Ue&&Ft&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),Ft&&!y&&g.start()!=k.start()&&k.parentOffset==0&&g.depth==k.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==h.endA&&(h.endB-=2,k=u.doc.resolveNoCache(h.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(D){return D(t,vr(13,"Enter"))})},20));let w=h.start,E=h.endA,C,M,R;if(y){if(g.pos==k.pos)ut&&tr<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>pn(t),20)),C=t.state.tr.delete(w,E),M=c.resolve(h.start).marksAcross(c.resolve(h.endA));else if(h.endA==h.endB&&(R=lN(g.parent.content.cut(g.parentOffset,k.parentOffset),m.parent.content.cut(m.parentOffset,h.endA-m.start()))))C=t.state.tr,R.type=="add"?C.addMark(w,E,R.mark):C.removeMark(w,E,R.mark);else if(g.parent.child(g.index()).isText&&g.index()==k.index()-(k.textOffset?0:1)){let D=g.parent.textBetween(g.parentOffset,k.parentOffset);if(t.someProp("handleTextInput",V=>V(t,w,E,D)))return;C=t.state.tr.insertText(D,w,E)}}if(C||(C=t.state.tr.replace(w,E,u.doc.slice(h.start-u.from,h.endB-u.from))),u.sel){let D=Mm(t,C.doc,u.sel);D&&!(Ue&&Ft&&t.composing&&D.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(D.head==w||D.head==C.mapping.map(E)-1)||ut&&D.empty&&D.head==w)&&C.setSelection(D)}M&&C.ensureMarks(M),o&&C.setMeta("composition",o),t.dispatch(C.scrollIntoView())}function Mm(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:_f(t,e.resolve(n.anchor),e.resolve(n.head))}function lN(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,l,a;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)l=i[0],s="add",a=c=>c.mark(l.addToSet(c.marks));else if(i.length==0&&o.length==1)l=o[0],s="remove",a=c=>c.mark(l.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(a(e.child(c)));if(T.from(u).eq(t))return{mark:l,type:s}}function aN(t,e,n,r,i){if(n-e<=i.pos-r.pos||Xu(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(!r.parent.isTextblock){let l=o.nodeAfter;return l!=null&&n==e+l.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Xu(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Xu(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Xu(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function uN(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:l}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let a=Math.max(0,o-Math.min(s,l));r-=s+a-o}if(s<o&&t.size<e.size){let a=r<=o&&r>=s?o-r:0;o-=a,o&&o<e.size&&Tm(e.textBetween(o-1,o+1))&&(o+=a?1:-1),l=o+(l-s),s=o}else if(l<o){let a=r<=o&&r>=l?o-r:0;o-=a,o&&o<t.size&&Tm(t.textBetween(o-1,o+1))&&(o+=a?1:-1),s=o+(s-l),l=o}return{start:o,endA:s,endB:l}}function Tm(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class cN{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Ob,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Dm),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Am(this),Pm(this),this.nodeViews=Rm(this),this.docView=um(this.state.doc,Om(this),Gu(this),this.dom,this),this.domObserver=new Zb(this,(r,i,o,s)=>sN(this,r,i,o,s)),this.domObserver.start(),Pb(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&wd(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Dm),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,o=!1,s=!1;e.storedMarks&&this.composing&&(J1(this),s=!0),this.state=e;let l=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=Rm(this);fN(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&wd(this),this.editable=Am(this),Pm(this);let a=Gu(this),u=Om(this),c=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(e.doc,u,a);(d||!e.selection.eq(i.selection))&&(s=!0);let f=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&WE(this);if(s){this.domObserver.stop();let p=d&&(ut||Ue)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&dN(i.selection,e.selection);if(d){let h=Ue?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Hb(this)),(o||!this.docView.update(e.doc,u,a,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=um(e.doc,u,a,this.dom,this)),h&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&pb(this))?pn(this,p):(L1(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():f&&UE(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof _){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&rm(this,n.getBoundingClientRect(),e)}else rm(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new Q1(e.slice,e.move,i<0?void 0:_.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let l=this.directPlugins[s].props[e];if(l!=null&&(i=n?n(l):l))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let l=o[s].props[e];if(l!=null&&(i=n?n(l):l))return i}}hasFocus(){if(ut){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&KE(this.dom),pn(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return GE(this,e)}coordsAtPos(e,n=1){return M1(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return nb(this,n||this.state,e)}pasteHTML(e,n){return es(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return es(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(Ab(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Gu(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,DE())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Db(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Ge&&this.root.nodeType===11&&BE(this.dom.ownerDocument)==this.dom&&tN(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function Om(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Pt.node(0,t.state.doc.content.size,e)]}function Pm(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Pt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Am(t){return!t.someProp("editable",e=>e(t.state)===!1)}function dN(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Rm(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function fN(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function Dm(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var sr={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Ql={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},hN=typeof navigator<"u"&&/Mac/.test(navigator.platform),pN=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ie=0;Ie<10;Ie++)sr[48+Ie]=sr[96+Ie]=String(Ie);for(var Ie=1;Ie<=24;Ie++)sr[Ie+111]="F"+Ie;for(var Ie=65;Ie<=90;Ie++)sr[Ie]=String.fromCharCode(Ie+32),Ql[Ie]=String.fromCharCode(Ie);for(var Zu in sr)Ql.hasOwnProperty(Zu)||(Ql[Zu]=sr[Zu]);function mN(t){var e=hN&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||pN&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Ql:sr)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const gN=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function yN(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l++){let a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))gN?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+a)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function vN(t){let e=Object.create(null);for(let n in t)e[yN(n)]=t[n];return e}function ec(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function kN(t){return new Be({props:{handleKeyDown:tv(t)}})}function tv(t){let e=vN(t);return function(n,r){let i=mN(r),o,s=e[ec(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let l=e[ec(i,r,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=sr[r.keyCode])&&o!=i){let l=e[ec(o,r)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}const xN=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function nv(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const wN=(t,e,n)=>{let r=nv(t,n);if(!r)return!1;let i=Kf(r);if(!i){let s=r.blockRange(),l=s&&qi(s);return l==null?!1:(e&&e(t.tr.lift(s,l).scrollIntoView()),!0)}let o=i.nodeBefore;if(sv(t,i,e,-1))return!0;if(r.parent.content.size==0&&($i(o,"end")||_.isSelectable(o)))for(let s=r.depth;;s--){let l=Xa(t.doc,r.before(s),r.after(s),I.empty);if(l&&l.slice.size<l.to-l.from){if(e){let a=t.tr.step(l);a.setSelection($i(o,"end")?U.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):_.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},SN=(t,e,n)=>{let r=nv(t,n);if(!r)return!1;let i=Kf(r);return i?rv(t,i,e):!1},CN=(t,e,n)=>{let r=iv(t,n);if(!r)return!1;let i=qf(r);return i?rv(t,i,e):!1};function rv(t,e,n){let r=e.nodeBefore,i=r,o=e.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let c=i.lastChild;if(!c)return!1;i=c}let s=e.nodeAfter,l=s,a=e.pos+1;for(;!l.isTextblock;a++){if(l.type.spec.isolating)return!1;let c=l.firstChild;if(!c)return!1;l=c}let u=Xa(t.doc,o,a,I.empty);if(!u||u.from!=o||u instanceof Ne&&u.slice.size>=a-o)return!1;if(n){let c=t.tr.step(u);c.setSelection(W.create(c.doc,o)),n(c.scrollIntoView())}return!0}function $i(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const EN=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=Kf(r)}let s=o&&o.nodeBefore;return!s||!_.isSelectable(s)?!1:(e&&e(t.tr.setSelection(_.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Kf(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function iv(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const bN=(t,e,n)=>{let r=iv(t,n);if(!r)return!1;let i=qf(r);if(!i)return!1;let o=i.nodeAfter;if(sv(t,i,e,1))return!0;if(r.parent.content.size==0&&($i(o,"start")||_.isSelectable(o))){let s=Xa(t.doc,r.before(),r.after(),I.empty);if(s&&s.slice.size<s.to-s.from){if(e){let l=t.tr.step(s);l.setSelection($i(o,"start")?U.findFrom(l.doc.resolve(l.mapping.map(i.pos)),1):_.create(l.doc,l.mapping.map(i.pos))),e(l.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},NN=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=qf(r)}let s=o&&o.nodeAfter;return!s||!_.isSelectable(s)?!1:(e&&e(t.tr.setSelection(_.create(t.doc,o.pos)).scrollIntoView()),!0)};function qf(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const MN=(t,e)=>{let n=t.selection,r=n instanceof _,i;if(r){if(n.node.isTextblock||!dr(t.doc,n.from))return!1;i=n.from}else if(i=Ga(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(_.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},TN=(t,e)=>{let n=t.selection,r;if(n instanceof _){if(n.node.isTextblock||!dr(t.doc,n.to))return!1;r=n.to}else if(r=Ga(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},ON=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&qi(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},PN=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function ov(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const AN=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=ov(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let l=n.after(),a=t.tr.replaceWith(l,l,s.createAndFill());a.setSelection(U.near(a.doc.resolve(l),1)),e(a.scrollIntoView())}return!0},RN=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof Ht||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=ov(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,l=t.tr.insert(s,o.createAndFill());l.setSelection(W.create(l.doc,s+1)),e(l.scrollIntoView())}return!0},DN=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Ti(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&qi(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},IN=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(_.create(t.doc,i))),!0)};function LN(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||dr(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function sv(t,e,n,r){let i=e.nodeBefore,o=e.nodeAfter,s,l,a=i.type.spec.isolating||o.type.spec.isolating;if(!a&&LN(t,e,n))return!0;let u=!a&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(s=(l=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&l.matchType(s[0]||o.type).validEnd){if(n){let p=e.pos+o.nodeSize,h=T.empty;for(let m=s.length-1;m>=0;m--)h=T.from(s[m].create(null,h));h=T.from(i.copy(h));let g=t.tr.step(new Te(e.pos-1,p,e.pos,p,new I(h,1,0),s.length,!0)),k=g.doc.resolve(p+2*s.length);k.nodeAfter&&k.nodeAfter.type==i.type&&dr(g.doc,k.pos)&&g.join(k.pos),n(g.scrollIntoView())}return!0}let c=o.type.spec.isolating||r>0&&a?null:U.findFrom(e,1),d=c&&c.$from.blockRange(c.$to),f=d&&qi(d);if(f!=null&&f>=e.depth)return n&&n(t.tr.lift(d,f).scrollIntoView()),!0;if(u&&$i(o,"start",!0)&&$i(i,"end")){let p=i,h=[];for(;h.push(p),!p.isTextblock;)p=p.lastChild;let g=o,k=1;for(;!g.isTextblock;g=g.firstChild)k++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(n){let m=T.empty;for(let v=h.length-1;v>=0;v--)m=T.from(h[v].copy(m));let y=t.tr.step(new Te(e.pos-h.length,e.pos+o.nodeSize,e.pos+k,e.pos+o.nodeSize-k,new I(m,h.length,0),0,!0));n(y.scrollIntoView())}return!0}}return!1}function lv(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(W.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const zN=lv(-1),jN=lv(1);function BN(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=s&&zf(s,t,e);return l?(r&&r(n.tr.wrap(s,l).scrollIntoView()),!0):!1}}function Im(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:l}}=n.selection.ranges[o];n.doc.nodesBetween(s,l,(a,u)=>{if(i)return!1;if(!(!a.isTextblock||a.hasMarkup(t,e)))if(a.type==t)i=!0;else{let c=n.doc.resolve(u),d=c.index();i=c.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:l},$to:{pos:a}}=n.selection.ranges[s];o.setBlockType(l,a,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function FN(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),l=!1,a=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let c=n.doc.resolve(s.start-2);a=new $l(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new $l(i,n.doc.resolve(o.end(s.depth)),s.depth)),l=!0}let u=zf(a,t,e,s);return u?(r&&r(_N(n.tr,s,u,l,t).scrollIntoView()),!0):!1}}function _N(t,e,n,r,i){let o=T.empty;for(let c=n.length-1;c>=0;c--)o=T.from(n[c].type.create(n[c].attrs,o));t.step(new Te(e.start-(r?2:0),e.end,e.start,e.end,new I(o,0,0),n.length,!0));let s=0;for(let c=0;c<n.length;c++)n[c].type==i&&(s=c+1);let l=n.length-s,a=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,d=e.endIndex,f=!0;c<d;c++,f=!1)!f&&Ti(t.doc,a,l)&&(t.split(a,l),a+=2*l),a+=u.child(c).nodeSize;return t}function $N(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?VN(e,n,t,o):HN(e,n,o):!0:!1}}function VN(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Te(o-1,s,o,s,new I(T.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new $l(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const l=qi(r);if(l==null)return!1;i.lift(r,l);let a=i.mapping.map(o,-1)-1;return dr(i.doc,a)&&i.join(a),e(i.scrollIntoView()),!0}function HN(t,e,n){let r=t.tr,i=n.parent;for(let p=n.end,h=n.endIndex-1,g=n.startIndex;h>g;h--)p-=i.child(h).nodeSize,r.delete(p-1,p+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,a=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(l?0:1),c+1,s.content.append(a?T.empty:T.from(i))))return!1;let d=o.pos,f=d+s.nodeSize;return r.step(new Te(d-(l?1:0),f+(a?1:0),d+1,f-1,new I((l?T.empty:T.from(i.copy(T.empty))).append(a?T.empty:T.from(i.copy(T.empty))),l?0:1,a?0:1),l?0:1)),e(r.scrollIntoView()),!0}function WN(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let l=o.parent,a=l.child(s-1);if(a.type!=t)return!1;if(n){let u=a.lastChild&&a.lastChild.type==l.type,c=T.from(u?t.create():null),d=new I(T.from(t.create(null,T.from(l.type.create(null,c)))),u?3:1,0),f=o.start,p=o.end;n(e.tr.step(new Te(f-(u?3:1),p,f,p,d,1,!0)).scrollIntoView())}return!0}}function ru(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class iu{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([l,a])=>[l,(...c)=>{const d=a(...c)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l=[],a=!!e,u=e||o.tr,c=()=>(!a&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),l.every(f=>f===!0)),d={...Object.fromEntries(Object.entries(r).map(([f,p])=>[f,(...g)=>{const k=this.buildProps(u,n),m=p(...g)(k);return l.push(m),d}])),run:c};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([a,u])=>[a,(...c)=>u(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,l={tr:e,editor:i,view:s,state:ru({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([a,u])=>[a,(...c)=>u(...c)(l)]))}};return l}}class UN{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function B(t,e,n){return t.config[e]===void 0&&t.parent?B(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?B(t.parent,e,n):null}):t.config[e]}function ou(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function av(t){const e=[],{nodeExtensions:n,markExtensions:r}=ou(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage,extensions:i},a=B(s,"addGlobalAttributes",l);if(!a)return;a().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([f,p])=>{e.push({type:d,name:f,attribute:{...o,...p}})})})})}),i.forEach(s=>{const l={name:s.name,options:s.options,storage:s.storage},a=B(s,"addAttributes",l);if(!a)return;const u=a();Object.entries(u).forEach(([c,d])=>{const f={...o,...d};typeof(f==null?void 0:f.default)=="function"&&(f.default=f.default()),f!=null&&f.isRequired&&(f==null?void 0:f.default)===void 0&&delete f.default,e.push({type:s.name,name:c,attribute:f})})}),e}function Pe(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function je(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const l=o?o.split(" "):[],a=r[i]?r[i].split(" "):[],u=l.filter(c=>!a.includes(c));r[i]=[...a,...u].join(" ")}else if(i==="style"){const l=o?o.split(";").map(c=>c.trim()).filter(Boolean):[],a=r[i]?r[i].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;a.forEach(c=>{const[d,f]=c.split(":").map(p=>p.trim());u.set(d,f)}),l.forEach(c=>{const[d,f]=c.split(":").map(p=>p.trim());u.set(d,f)}),r[i]=Array.from(u.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else r[i]=o}),r},{})}function Sd(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>je(n,r),{})}function uv(t){return typeof t=="function"}function Y(t,e=void 0,...n){return uv(t)?e?t.bind(e)(...n):t(...n):t}function KN(t={}){return Object.keys(t).length===0&&t.constructor===Object}function qN(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Lm(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const l=s.attribute.parseHTML?s.attribute.parseHTML(n):qN(n.getAttribute(s.name));return l==null?o:{...o,[s.name]:l}},{});return{...r,...i}}}}function zm(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&KN(n)?!1:n!=null))}function JN(t,e){var n;const r=av(t),{nodeExtensions:i,markExtensions:o}=ou(t),s=(n=i.find(u=>B(u,"topNode")))===null||n===void 0?void 0:n.name,l=Object.fromEntries(i.map(u=>{const c=r.filter(m=>m.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((m,y)=>{const v=B(y,"extendNodeSchema",d);return{...m,...v?v(u):{}}},{}),p=zm({...f,content:Y(B(u,"content",d)),marks:Y(B(u,"marks",d)),group:Y(B(u,"group",d)),inline:Y(B(u,"inline",d)),atom:Y(B(u,"atom",d)),selectable:Y(B(u,"selectable",d)),draggable:Y(B(u,"draggable",d)),code:Y(B(u,"code",d)),whitespace:Y(B(u,"whitespace",d)),defining:Y(B(u,"defining",d)),isolating:Y(B(u,"isolating",d)),attrs:Object.fromEntries(c.map(m=>{var y;return[m.name,{default:(y=m==null?void 0:m.attribute)===null||y===void 0?void 0:y.default}]}))}),h=Y(B(u,"parseHTML",d));h&&(p.parseDOM=h.map(m=>Lm(m,c)));const g=B(u,"renderHTML",d);g&&(p.toDOM=m=>g({node:m,HTMLAttributes:Sd(m,c)}));const k=B(u,"renderText",d);return k&&(p.toText=k),[u.name,p]})),a=Object.fromEntries(o.map(u=>{const c=r.filter(k=>k.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:e},f=t.reduce((k,m)=>{const y=B(m,"extendMarkSchema",d);return{...k,...y?y(u):{}}},{}),p=zm({...f,inclusive:Y(B(u,"inclusive",d)),excludes:Y(B(u,"excludes",d)),group:Y(B(u,"group",d)),spanning:Y(B(u,"spanning",d)),code:Y(B(u,"code",d)),attrs:Object.fromEntries(c.map(k=>{var m;return[k.name,{default:(m=k==null?void 0:k.attribute)===null||m===void 0?void 0:m.default}]}))}),h=Y(B(u,"parseHTML",d));h&&(p.parseDOM=h.map(k=>Lm(k,c)));const g=B(u,"renderHTML",d);return g&&(p.toDOM=k=>g({mark:k,HTMLAttributes:Sd(k,c)})),[u.name,p]}));return new n1({topNode:s,nodes:l,marks:a})}function tc(t,e){return e.nodes[t]||e.marks[t]||null}function jm(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const YN=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,l)=>{var a,u;const c=((u=(a=i.type.spec).toText)===null||u===void 0?void 0:u.call(a,{node:i,pos:o,parent:s,index:l}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?c:c.slice(0,Math.max(0,r-o))}),n};function Jf(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class su{constructor(e){this.find=e.find,this.handler=e.handler}}const QN=(t,e)=>{if(Jf(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Fs(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:l}=t,{view:a}=n;if(a.composing)return!1;const u=a.state.doc.resolve(r);if(u.parent.type.spec.code||!((e=u.nodeBefore||u.nodeAfter)===null||e===void 0)&&e.marks.find(f=>f.type.spec.code))return!1;let c=!1;const d=YN(u)+o;return s.forEach(f=>{if(c)return;const p=QN(d,f.find);if(!p)return;const h=a.state.tr,g=ru({state:a.state,transaction:h}),k={from:r-(p[0].length-o.length),to:i},{commands:m,chain:y,can:v}=new iu({editor:n,state:g});f.handler({state:g,range:k,match:p,commands:m,chain:y,can:v})===null||!h.steps.length||(h.setMeta(l,{transform:h,from:r,to:i,text:o}),a.dispatch(h),c=!0)}),c}function GN(t){const{editor:e,rules:n}=t,r=new Be({state:{init(){return null},apply(i,o){const s=i.getMeta(r);if(s)return s;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{const{from:u,text:c}=l,d=u+c.length;Fs({editor:e,from:u,to:d,text:c,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,l){return Fs({editor:e,from:o,to:s,text:l,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Fs({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Fs({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function XN(t){return Object.prototype.toString.call(t).slice(8,-1)}function _s(t){return XN(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function lu(t,e){const n={...t};return _s(t)&&_s(e)&&Object.keys(e).forEach(r=>{_s(e[r])&&_s(t[r])?n[r]=lu(t[r],e[r]):n[r]=e[r]}),n}class kn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Y(B(this,"addOptions",{name:this.name}))),this.storage=Y(B(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new kn(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>lu(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new kn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Y(B(n,"addOptions",{name:n.name})),n.storage=Y(B(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const a=s.find(u=>(u==null?void 0:u.type.name)===n.name);return a&&r.removeStoredMark(a),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function ZN(t){return typeof t=="number"}class eM{constructor(e){this.find=e.find,this.handler=e.handler}}const tM=(t,e,n)=>{if(Jf(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=t,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function nM(t){const{editor:e,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:l}=t,{commands:a,chain:u,can:c}=new iu({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(p,h)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(r,h),k=Math.min(i,h+p.content.size),m=p.textBetween(g-h,k-h,void 0,"￼");tM(m,o.find,s).forEach(v=>{if(v.index===void 0)return;const w=g+v.index+1,E=w+v[0].length,C={from:n.tr.mapping.map(w),to:n.tr.mapping.map(E)},M=o.handler({state:n,range:C,match:v,commands:a,chain:u,can:c,pasteEvent:s,dropEvent:l});d.push(M)})}),d.every(p=>p!==null)}const rM=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function iM(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l=typeof DragEvent<"u"?new DragEvent("drop"):null;const a=({state:c,from:d,to:f,rule:p,pasteEvt:h})=>{const g=c.tr,k=ru({state:c,transaction:g});if(!(!nM({editor:e,state:k,from:Math.max(d-1,0),to:f.b-1,rule:p,pasteEvent:h,dropEvent:l})||!g.steps.length))return l=typeof DragEvent<"u"?new DragEvent("drop"):null,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return n.map(c=>new Be({view(d){const f=p=>{var h;r=!((h=d.dom.parentElement)===null||h===void 0)&&h.contains(p.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",f),{destroy(){window.removeEventListener("dragstart",f)}}},props:{handleDOMEvents:{drop:(d,f)=>(o=r===d.dom.parentElement,l=f,!1),paste:(d,f)=>{var p;const h=(p=f.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return s=f,i=!!(h!=null&&h.includes("data-pm-slice")),!1}}},appendTransaction:(d,f,p)=>{const h=d[0],g=h.getMeta("uiEvent")==="paste"&&!i,k=h.getMeta("uiEvent")==="drop"&&!o,m=h.getMeta("applyPasteRules"),y=!!m;if(!g&&!k&&!y)return;if(y){const{from:E,text:C}=m,M=E+C.length,R=rM(C);return a({rule:c,state:p,from:E,to:{b:M},pasteEvt:R})}const v=f.doc.content.findDiffStart(p.doc.content),w=f.doc.content.findDiffEnd(p.doc.content);if(!(!ZN(v)||!w||v===w.b))return a({rule:c,state:p,from:v,to:w,pasteEvt:s})}}))}function oM(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class xi{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=xi.resolve(e),this.schema=JN(this.extensions,n),this.setupExtensions()}static resolve(e){const n=xi.sort(xi.flatten(e)),r=oM(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=B(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=B(r,"priority")||100,s=B(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:tc(n.name,this.schema)},i=B(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=xi.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const l={name:s.name,options:s.options,storage:s.storage,editor:e,type:tc(s.name,this.schema)},a=[],u=B(s,"addKeyboardShortcuts",l);let c={};if(s.type==="mark"&&B(s,"exitable",l)&&(c.ArrowRight=()=>kn.handleExit({editor:e,mark:s})),u){const g=Object.fromEntries(Object.entries(u()).map(([k,m])=>[k,()=>m({editor:e})]));c={...c,...g}}const d=kN(c);a.push(d);const f=B(s,"addInputRules",l);jm(s,e.options.enableInputRules)&&f&&r.push(...f());const p=B(s,"addPasteRules",l);jm(s,e.options.enablePasteRules)&&p&&i.push(...p());const h=B(s,"addProseMirrorPlugins",l);if(h){const g=h();a.push(...g)}return a}).flat();return[GN({editor:e,rules:r}),...iM({editor:e,rules:i}),...o]}get attributes(){return av(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=ou(this.extensions);return Object.fromEntries(n.filter(r=>!!B(r,"addNodeView")).map(r=>{const i=this.attributes.filter(a=>a.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Pe(r.name,this.schema)},s=B(r,"addNodeView",o);if(!s)return[];const l=(a,u,c,d,f)=>{const p=Sd(a,i);return s()({node:a,view:u,getPos:c,decorations:d,innerDecorations:f,editor:e,extension:r,HTMLAttributes:p})};return[r.name,l]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:tc(e.name,this.schema)};e.type==="mark"&&(!((n=Y(B(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=B(e,"onBeforeCreate",r),o=B(e,"onCreate",r),s=B(e,"onUpdate",r),l=B(e,"onSelectionUpdate",r),a=B(e,"onTransaction",r),u=B(e,"onFocus",r),c=B(e,"onBlur",r),d=B(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),l&&this.editor.on("selectionUpdate",l),a&&this.editor.on("transaction",a),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}class et{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Y(B(this,"addOptions",{name:this.name}))),this.storage=Y(B(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new et(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>lu(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new et({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Y(B(n,"addOptions",{name:n.name})),n.storage=Y(B(n,"addStorage",{name:n.name,options:n.options})),n}}function cv(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let l="";return t.nodesBetween(r,i,(a,u,c,d)=>{var f;a.isBlock&&u>r&&(l+=o);const p=s==null?void 0:s[a.type.name];if(p)return c&&(l+=p({node:a,pos:u,parent:c,index:d,range:e})),!1;a.isText&&(l+=(f=a==null?void 0:a.text)===null||f===void 0?void 0:f.slice(Math.max(r,u)-u,i-u))}),l}function dv(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const sM=et.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Be({key:new xt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(c=>c.$from.pos)),l=Math.max(...o.map(c=>c.$to.pos)),a=dv(n);return cv(r,{from:s,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:a})}}})]}}),lM=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),aM=(t=!1)=>({commands:e})=>e.setContent("",t),uM=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(l,a)=>{if(l.type.isText)return;const{doc:u,mapping:c}=e,d=u.resolve(c.map(a)),f=u.resolve(c.map(a+l.nodeSize)),p=d.blockRange(f);if(!p)return;const h=qi(p);if(l.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(p.start,g)}(h||h===0)&&e.lift(p,h)})}),!0},cM=t=>e=>t(e),dM=()=>({state:t,dispatch:e})=>RN(t,e),fM=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const s=r.mapping.map(e);return r.insert(s,o.content),r.setSelection(new W(r.doc.resolve(s-1))),!0},hM=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const l=i.before(o),a=i.after(o);t.delete(l,a).scrollIntoView()}return!0}return!1},pM=t=>({tr:e,state:n,dispatch:r})=>{const i=Pe(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const a=o.before(s),u=o.after(s);e.delete(a,u).scrollIntoView()}return!0}return!1},mM=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},gM=()=>({state:t,dispatch:e})=>xN(t,e),yM=()=>({commands:t})=>t.keyboardShortcut("Enter"),vM=()=>({state:t,dispatch:e})=>AN(t,e);function Gl(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:Jf(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Cd(t,e,n={}){return t.find(r=>r.type===e&&Gl(r.attrs,n))}function kM(t,e,n={}){return!!Cd(t,e,n)}function Yf(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(u=>u.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(u=>u.type===e))return;const i=Cd([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,l=o+1,a=s+r.node.nodeSize;for(Cd([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;l<t.parent.childCount&&kM([...t.parent.child(l).marks],e,n);)a+=t.parent.child(l).nodeSize,l+=1;return{from:s,to:a}}function hr(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const xM=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=hr(t,r.schema),{doc:s,selection:l}=n,{$from:a,from:u,to:c}=l;if(i){const d=Yf(a,o,e);if(d&&d.from<=u&&d.to>=c){const f=W.create(s,d.from,d.to);n.setSelection(f)}}return!0},wM=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function fv(t){return t instanceof W}function br(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function hv(t,e=null){if(!e)return null;const n=U.atStart(t),r=U.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?W.create(t,br(0,i,o),br(t.content.size,i,o)):W.create(t,br(e,i,o),br(e,i,o))}function Qf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const SM=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{Qf()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!fv(n.state.selection))return s(),!0;const l=hv(i.doc,t)||n.state.selection,a=n.state.selection.eq(l);return o&&(a||i.setSelection(l),a&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},CM=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),EM=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),pv=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&pv(r)}return t};function $s(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return pv(n)}function Xl(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return T.fromArray(t.map(l=>e.nodeFromJSON(l)));const s=e.nodeFromJSON(t);return n.errorOnInvalidContent&&s.check(),s}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",o),Xl("",e,n)}if(i){if(n.errorOnInvalidContent){let s=!1,l="";const a=new n1({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(s=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?er.fromSchema(a).parseSlice($s(t),n.parseOptions):er.fromSchema(a).parse($s(t),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const o=er.fromSchema(e);return n.slice?o.parseSlice($s(t),n.parseOptions).content:o.parse($s(t),n.parseOptions)}return Xl("",e,n)}function bM(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Ne||i instanceof Te))return;const o=t.mapping.maps[r];let s=0;o.forEach((l,a,u,c)=>{s===0&&(s=c)}),t.setSelection(U.near(t.doc.resolve(s),n))}const NM=t=>!("type"in t),MM=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;try{l=Xl(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch(h){return o.emit("contentError",{editor:o,error:h,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}}),!1}let{from:a,to:u}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},c=!0,d=!0;if((NM(l)?l:[l]).forEach(h=>{h.check(),c=c?h.isText&&h.marks.length===0:!1,d=d?h.isBlock:!1}),a===u&&d){const{parent:h}=r.doc.resolve(a);h.isTextblock&&!h.type.spec.code&&!h.childCount&&(a-=1,u+=1)}let p;c?(Array.isArray(e)?p=e.map(h=>h.text||"").join(""):typeof e=="object"&&e&&e.text?p=e.text:p=e,r.insertText(p,a,u)):(p=l,r.replaceWith(a,u,p)),n.updateSelection&&bM(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:a,text:p}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:a,text:p})}return!0},TM=()=>({state:t,dispatch:e})=>MN(t,e),OM=()=>({state:t,dispatch:e})=>TN(t,e),PM=()=>({state:t,dispatch:e})=>wN(t,e),AM=()=>({state:t,dispatch:e})=>bN(t,e),RM=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Ga(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},DM=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Ga(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},IM=()=>({state:t,dispatch:e})=>SN(t,e),LM=()=>({state:t,dispatch:e})=>CN(t,e);function mv(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function zM(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let l=0;l<e.length-1;l+=1){const a=e[l];if(/^(cmd|meta|m)$/i.test(a))s=!0;else if(/^a(lt)?$/i.test(a))r=!0;else if(/^(c|ctrl|control)$/i.test(a))i=!0;else if(/^s(hift)?$/i.test(a))o=!0;else if(/^mod$/i.test(a))Qf()||mv()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${a}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const jM=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=zM(t).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),a=e.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,l))});return a==null||a.steps.forEach(u=>{const c=u.map(r.mapping);c&&i&&r.maybeStep(c)}),!0};function ns(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?Pe(e,t.schema):null,l=[];t.doc.nodesBetween(r,i,(d,f)=>{if(d.isText)return;const p=Math.max(r,f),h=Math.min(i,f+d.nodeSize);l.push({node:d,from:p,to:h})});const a=i-r,u=l.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>Gl(d.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((d,f)=>d+f.to-f.from,0)>=a}const BM=(t,e={})=>({state:n,dispatch:r})=>{const i=Pe(t,n.schema);return ns(n,i,e)?ON(n,r):!1},FM=()=>({state:t,dispatch:e})=>DN(t,e),_M=t=>({state:e,dispatch:n})=>{const r=Pe(t,e.schema);return $N(r)(e,n)},$M=()=>({state:t,dispatch:e})=>PN(t,e);function au(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Bm(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const VM=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=au(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Pe(t,r.schema)),l==="mark"&&(s=hr(t,r.schema)),i&&n.selection.ranges.forEach(a=>{r.doc.nodesBetween(a.$from.pos,a.$to.pos,(u,c)=>{o&&o===u.type&&n.setNodeMarkup(c,void 0,Bm(u.attrs,e)),s&&u.marks.length&&u.marks.forEach(d=>{s===d.type&&n.addMark(c,c+u.nodeSize,s.create(Bm(d.attrs,e)))})})}),!0):!1},HM=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),WM=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),UM=()=>({state:t,dispatch:e})=>EN(t,e),KM=()=>({state:t,dispatch:e})=>NN(t,e),qM=()=>({state:t,dispatch:e})=>IN(t,e),JM=()=>({state:t,dispatch:e})=>jN(t,e),YM=()=>({state:t,dispatch:e})=>zN(t,e);function Ed(t,e,n={},r={}){return Xl(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const QM=(t,e=!1,n={},r={})=>({editor:i,tr:o,dispatch:s,commands:l})=>{var a,u;const{doc:c}=o;if(n.preserveWhitespace!=="full"){const d=Ed(t,i.schema,n,{errorOnInvalidContent:(a=r.errorOnInvalidContent)!==null&&a!==void 0?a:i.options.enableContentCheck});return s&&o.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!e),!0}return s&&o.setMeta("preventUpdate",!e),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function gv(t,e){const n=hr(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,a=>{s.push(...a.marks)});const l=s.find(a=>a.type.name===n.name);return l?{...l.attrs}:{}}function GM(t,e){const n=new v1(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function XM(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function ZM(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function eT(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Gf(t){return e=>eT(e.$from,t)}function tT(t,e){const n=Qr.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function nT(t,e){const n={from:0,to:t.content.size};return cv(t,n,e)}function rT(t,e){const n=Pe(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,l=>{o.push(l)});const s=o.reverse().find(l=>l.type.name===n.name);return s?{...s.attrs}:{}}function yv(t,e){const n=au(typeof e=="string"?e:e.name,t.schema);return n==="node"?rT(t,e):n==="mark"?gv(t,e):{}}function iT(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function oT(t){const e=iT(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function sT(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((l,a)=>{s.push({from:l,to:a})});else{const{from:l,to:a}=n[o];if(l===void 0||a===void 0)return;s.push({from:l,to:a})}s.forEach(({from:l,to:a})=>{const u=e.slice(o).map(l,-1),c=e.slice(o).map(a),d=e.invert().map(u,-1),f=e.invert().map(c);r.push({oldRange:{from:d,to:f},newRange:{from:u,to:c}})})}),oT(r)}function Xf(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t),s=Yf(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function ll(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function bd(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?hr(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>Gl(d.attrs,n,{strict:!1}));let s=0;const l=[];if(i.forEach(({$from:d,$to:f})=>{const p=d.pos,h=f.pos;t.doc.nodesBetween(p,h,(g,k)=>{if(!g.isText&&!g.marks.length)return;const m=Math.max(p,k),y=Math.min(h,k+g.nodeSize),v=y-m;s+=v,l.push(...g.marks.map(w=>({mark:w,from:m,to:y})))})}),s===0)return!1;const a=l.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>Gl(d.mark.attrs,n,{strict:!1})).reduce((d,f)=>d+f.to-f.from,0),u=l.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,f)=>d+f.to-f.from,0);return(a>0?a+u:a)>=s}function lT(t,e,n={}){if(!e)return ns(t,null,n)||bd(t,null,n);const r=au(e,t.schema);return r==="node"?ns(t,e,n):r==="mark"?bd(t,e,n):!1}function Fm(t,e){const{nodeExtensions:n}=ou(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Y(B(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function Zf(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(o=>{i!==!1&&(Zf(o,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function aT(t){return t instanceof _}function uT(t,e,n){var r;const{selection:i}=e;let o=null;if(fv(i)&&(o=i.$cursor),o){const l=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(l)||!l.some(a=>a.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:l,$to:a})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(l.pos,a.pos,(c,d,f)=>{if(u)return!1;if(c.isInline){const p=!f||f.type.allowsMarkType(n),h=!!n.isInSet(c.marks)||!c.marks.some(g=>g.type.excludes(n));u=p&&h}return!u}),u})}const cT=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:l}=o,a=hr(t,r.schema);if(i)if(s){const u=gv(r,a);n.addStoredMark(a.create({...u,...e}))}else l.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;r.doc.nodesBetween(c,d,(f,p)=>{const h=Math.max(p,c),g=Math.min(p+f.nodeSize,d);f.marks.find(m=>m.type===a)?f.marks.forEach(m=>{a===m.type&&n.addMark(h,g,a.create({...m.attrs,...e}))}):n.addMark(h,g,a.create(e))})});return uT(r,n,a)},dT=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),fT=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Pe(t,n.schema);return o.isTextblock?i().command(({commands:s})=>Im(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>Im(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},hT=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=br(t,0,r.content.size),o=_.create(r,i);e.setSelection(o)}return!0},pT=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=W.atStart(r).from,l=W.atEnd(r).to,a=br(i,s,l),u=br(o,s,l),c=W.create(r,a,u);e.setSelection(c)}return!0},mT=t=>({state:e,dispatch:n})=>{const r=Pe(t,e.schema);return WN(r)(e,n)};function _m(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const gT=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:l,$to:a}=o,u=i.extensionManager.attributes,c=ll(u,l.node().type.name,l.node().attrs);if(o instanceof _&&o.node.isBlock)return!l.parentOffset||!Ti(s,l.pos)?!1:(r&&(t&&_m(n,i.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const d=a.parentOffset===a.parent.content.size,f=l.depth===0?void 0:XM(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=d&&f?[{type:f,attrs:c}]:void 0,h=Ti(e.doc,e.mapping.map(l.pos),1,p);if(!p&&!h&&Ti(e.doc,e.mapping.map(l.pos),1,f?[{type:f}]:void 0)&&(h=!0,p=f?[{type:f,attrs:c}]:void 0),r){if(h&&(o instanceof W&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,p),f&&!d&&!l.parentOffset&&l.parent.type!==f)){const g=e.mapping.map(l.before()),k=e.doc.resolve(g);l.node(-1).canReplaceWith(k.index(),k.index()+1,f)&&e.setNodeMarkup(e.mapping.map(l.before()),f)}t&&_m(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return h},yT=(t,e={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var s;const l=Pe(t,r.schema),{$from:a,$to:u}=r.selection,c=r.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(u))return!1;const d=a.node(-1);if(d.type!==l)return!1;const f=o.extensionManager.attributes;if(a.parent.content.size===0&&a.node(-1).childCount===a.indexAfter(-1)){if(a.depth===2||a.node(-3).type!==l||a.index(-2)!==a.node(-2).childCount-1)return!1;if(i){let m=T.empty;const y=a.index(-1)?1:a.index(-2)?2:3;for(let R=a.depth-y;R>=a.depth-3;R-=1)m=T.from(a.node(R).copy(m));const v=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,w={...ll(f,a.node().type.name,a.node().attrs),...e},E=((s=l.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(w))||void 0;m=m.append(T.from(l.createAndFill(null,E)||void 0));const C=a.before(a.depth-(y-1));n.replace(C,a.after(-v),new I(m,4-y,0));let M=-1;n.doc.nodesBetween(C,n.doc.content.size,(R,D)=>{if(M>-1)return!1;R.isTextblock&&R.content.size===0&&(M=D+1)}),M>-1&&n.setSelection(W.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const p=u.pos===a.end()?d.contentMatchAt(0).defaultType:null,h={...ll(f,d.type.name,d.attrs),...e},g={...ll(f,a.node().type.name,a.node().attrs),...e};n.delete(a.pos,u.pos);const k=p?[{type:l,attrs:h},{type:p,attrs:g}]:[{type:l,attrs:h}];if(!Ti(n.doc,a.pos,2))return!1;if(i){const{selection:m,storedMarks:y}=r,{splittableMarks:v}=o.extensionManager,w=y||m.$to.parentOffset&&m.$from.marks();if(n.split(a.pos,2,k).scrollIntoView(),!w||!i)return!0;const E=w.filter(C=>v.includes(C.type.name));n.ensureMarks(E)}return!0},nc=(t,e)=>{const n=Gf(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&dr(t.doc,n.pos)&&t.join(n.pos),!0},rc=(t,e)=>{const n=Gf(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&dr(t.doc,r)&&t.join(r),!0},vT=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:l,chain:a,commands:u,can:c})=>{const{extensions:d,splittableMarks:f}=i.extensionManager,p=Pe(t,s.schema),h=Pe(e,s.schema),{selection:g,storedMarks:k}=s,{$from:m,$to:y}=g,v=m.blockRange(y),w=k||g.$to.parentOffset&&g.$from.marks();if(!v)return!1;const E=Gf(C=>Fm(C.type.name,d))(g);if(v.depth>=1&&E&&v.depth-E.depth<=1){if(E.node.type===p)return u.liftListItem(h);if(Fm(E.node.type.name,d)&&p.validContent(E.node.content)&&l)return a().command(()=>(o.setNodeMarkup(E.pos,p),!0)).command(()=>nc(o,p)).command(()=>rc(o,p)).run()}return!n||!w||!l?a().command(()=>c().wrapInList(p,r)?!0:u.clearNodes()).wrapInList(p,r).command(()=>nc(o,p)).command(()=>rc(o,p)).run():a().command(()=>{const C=c().wrapInList(p,r),M=w.filter(R=>f.includes(R.type.name));return o.ensureMarks(M),C?!0:u.clearNodes()}).wrapInList(p,r).command(()=>nc(o,p)).command(()=>rc(o,p)).run()},kT=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=hr(t,r.schema);return bd(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},xT=(t,e,n={})=>({state:r,commands:i})=>{const o=Pe(t,r.schema),s=Pe(e,r.schema),l=ns(r,o,n);let a;return r.selection.$anchor.sameParent(r.selection.$head)&&(a=r.selection.$anchor.parent.attrs),l?i.setNode(s,a):i.setNode(o,{...a,...n})},wT=(t,e={})=>({state:n,commands:r})=>{const i=Pe(t,n.schema);return ns(n,i,e)?r.lift(i):r.wrapIn(i,e)},ST=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,l=o.transform;for(let a=l.steps.length-1;a>=0;a-=1)s.step(l.steps[a].invert(l.docs[a]));if(o.text){const a=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,a))}else s.delete(o.from,o.to)}return!0}}return!1},CT=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},ET=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:l}=n,a=hr(t,r.schema),{$from:u,empty:c,ranges:d}=l;if(!i)return!0;if(c&&s){let{from:f,to:p}=l;const h=(o=u.marks().find(k=>k.type===a))===null||o===void 0?void 0:o.attrs,g=Yf(u,a,h);g&&(f=g.from,p=g.to),n.removeMark(f,p,a)}else d.forEach(f=>{n.removeMark(f.$from.pos,f.$to.pos,a)});return n.removeStoredMark(a),!0},bT=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const l=au(typeof t=="string"?t:t.name,r.schema);return l?(l==="node"&&(o=Pe(t,r.schema)),l==="mark"&&(s=hr(t,r.schema)),i&&n.selection.ranges.forEach(a=>{const u=a.$from.pos,c=a.$to.pos;r.doc.nodesBetween(u,c,(d,f)=>{o&&o===d.type&&n.setNodeMarkup(f,void 0,{...d.attrs,...e}),s&&d.marks.length&&d.marks.forEach(p=>{if(s===p.type){const h=Math.max(f,u),g=Math.min(f+d.nodeSize,c);n.addMark(h,g,s.create({...p.attrs,...e}))}})})}),!0):!1},NT=(t,e={})=>({state:n,dispatch:r})=>{const i=Pe(t,n.schema);return BN(i,e)(n,r)},MT=(t,e={})=>({state:n,dispatch:r})=>{const i=Pe(t,n.schema);return FN(i,e)(n,r)};var TT=Object.freeze({__proto__:null,blur:lM,clearContent:aM,clearNodes:uM,command:cM,createParagraphNear:dM,cut:fM,deleteCurrentNode:hM,deleteNode:pM,deleteRange:mM,deleteSelection:gM,enter:yM,exitCode:vM,extendMarkRange:xM,first:wM,focus:SM,forEach:CM,insertContent:EM,insertContentAt:MM,joinBackward:PM,joinDown:OM,joinForward:AM,joinItemBackward:RM,joinItemForward:DM,joinTextblockBackward:IM,joinTextblockForward:LM,joinUp:TM,keyboardShortcut:jM,lift:BM,liftEmptyBlock:FM,liftListItem:_M,newlineInCode:$M,resetAttributes:VM,scrollIntoView:HM,selectAll:WM,selectNodeBackward:UM,selectNodeForward:KM,selectParentNode:qM,selectTextblockEnd:JM,selectTextblockStart:YM,setContent:QM,setMark:cT,setMeta:dT,setNode:fT,setNodeSelection:hT,setTextSelection:pT,sinkListItem:mT,splitBlock:gT,splitListItem:yT,toggleList:vT,toggleMark:kT,toggleNode:xT,toggleWrap:wT,undoInputRule:ST,unsetAllMarks:CT,unsetMark:ET,updateAttributes:bT,wrapIn:NT,wrapInList:MT});const OT=et.create({name:"commands",addCommands(){return{...TT}}}),PT=et.create({name:"drop",addProseMirrorPlugins(){return[new Be({key:new xt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),AT=et.create({name:"editable",addProseMirrorPlugins(){return[new Be({key:new xt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),RT=et.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Be({key:new xt("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),DT=et.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:l})=>{const{selection:a,doc:u}=l,{empty:c,$anchor:d}=a,{pos:f,parent:p}=d,h=d.parent.isTextblock&&f>0?l.doc.resolve(f-1):d,g=h.parent.type.spec.isolating,k=d.pos-d.parentOffset,m=g&&h.parent.childCount===1?k===d.pos:U.atStart(u).from===f;return!c||!p.type.isTextblock||p.textContent.length||!m||m&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Qf()||mv()?o:i},addProseMirrorPlugins(){return[new Be({key:new xt("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),i=t.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:l}=e.selection,a=U.atStart(e.doc).from,u=U.atEnd(e.doc).to;if(o||!(s===a&&l===u)||!Zf(n.doc))return;const f=n.tr,p=ru({state:n,transaction:f}),{commands:h}=new iu({editor:this.editor,state:p});if(h.clearNodes(),!!f.steps.length)return f}})]}}),IT=et.create({name:"paste",addProseMirrorPlugins(){return[new Be({key:new xt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),LT=et.create({name:"tabindex",addProseMirrorPlugins(){return[new Be({key:new xt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class kr{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new kr(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new kr(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new kr(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,s=this.pos+r+(o?0:1),l=this.resolvedPos.doc.resolve(s);if(!i&&l.depth<=this.depth)return;const a=new kr(l,this.editor,i,i?n:null);i&&(a.actualDepth=this.depth+1),e.push(new kr(l,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const o=i.node.attrs,s=Object.keys(n);for(let l=0;l<s.length;l+=1){const a=s[l];if(o[a]!==n[a])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===e&&o.every(a=>n[a]===s.node.attrs[a])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const zT=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function jT(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}class BT extends UN{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=jT(zT,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=uv(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(o=>{const s=typeof o=="string"?`${o}$`:o.key;r=n.filter(l=>!l.key.startsWith(s))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[AT,sM.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),OT,RT,DT,LT,PT,IT].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new xi(i,this)}createCommandManager(){this.commandManager=new iu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=Ed(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(o){if(!(o instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(o.message))throw o;this.emit("contentError",{editor:this,error:o,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(s=>s.name!=="collaboration"),this.createExtensionManager()}}),e=Ed(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=hv(e,this.options.autofocus);this.view=new cN(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:ki.create({doc:e,selection:n||void 0})}),this.view.dom.setAttribute("role","textbox"),this.view.dom.getAttribute("aria-label")||this.view.dom.setAttribute("aria-label","Rich-Text Editor");const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return yv(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return lT(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return tT(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return nT(this.state.doc,{blockSeparator:n,textSerializers:{...dv(this.schema),...r}})}get isEmpty(){return Zf(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new kr(n,this)}get $doc(){return this.$pos(0)}}function Vi(t){return new su({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Y(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],l=r[0];if(s){const a=l.search(/\S/),u=n.from+l.indexOf(s),c=u+s.length;if(Xf(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(g=>g===t.type&&g!==p.mark.type)).filter(p=>p.to>u).length)return null;c<n.to&&o.delete(c,n.to),u>n.from&&o.delete(n.from+a,u);const f=n.from+a+s.length;o.addMark(n.from+a,f,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function FT(t){return new su({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Y(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let l=n.to;const a=t.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let c=s+u;c>l?c=l:l=c+r[1].length;const d=r[0][r[0].length-1];o.insertText(d,s+r[0].length-1),o.replaceWith(c,l,a)}else if(r[0]){const u=t.type.isInline?s:s-1;o.insert(u,t.type.create(i)).delete(o.mapping.map(s),o.mapping.map(l))}o.scrollIntoView()}})}function Nd(t){return new su({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=Y(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function rs(t){return new su({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=Y(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),a=s.doc.resolve(n.from).blockRange(),u=a&&zf(a,t.type,o);if(!u)return null;if(s.wrap(a,u),t.keepMarks&&t.editor){const{selection:d,storedMarks:f}=e,{splittableMarks:p}=t.editor.extensionManager,h=f||d.$to.parentOffset&&d.$from.marks();if(h){const g=h.filter(k=>p.includes(k.type.name));s.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,o).run()}const c=s.doc.resolve(n.from-1).nodeBefore;c&&c.type===t.type&&dr(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,c))&&s.join(n.from-1)}})}class ct{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Y(B(this,"addOptions",{name:this.name}))),this.storage=Y(B(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new ct(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>lu(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new ct(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Y(B(n,"addOptions",{name:n.name})),n.storage=Y(B(n,"addStorage",{name:n.name,options:n.options})),n}}function Ur(t){return new eM({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const o=Y(t.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=e,l=r[r.length-1],a=r[0];let u=n.to;if(l){const c=a.search(/\S/),d=n.from+a.indexOf(l),f=d+l.length;if(Xf(n.from,n.to,e.doc).filter(h=>h.mark.type.excluded.find(k=>k===t.type&&k!==h.mark.type)).filter(h=>h.to>d).length)return null;f<n.to&&s.delete(f,n.to),d>n.from&&s.delete(n.from+c,d),u=n.from+c+l.length,s.addMark(n.from+c,u,t.type.create(o||{})),s.removeStoredMark(t.type)}}})}function _T(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vv={exports:{}},ic={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function $T(){if($m)return ic;$m=1;var t=He;function e(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function l(d,f){var p=f(),h=r({inst:{value:p,getSnapshot:f}}),g=h[0].inst,k=h[1];return o(function(){g.value=p,g.getSnapshot=f,a(g)&&k({inst:g})},[d,p,f]),i(function(){return a(g)&&k({inst:g}),d(function(){a(g)&&k({inst:g})})},[d]),s(p),p}function a(d){var f=d.getSnapshot;d=d.value;try{var p=f();return!n(d,p)}catch{return!0}}function u(d,f){return f()}var c=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return ic.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:c,ic}vv.exports=$T();var eh=vv.exports;const VT=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},HT=({contentComponent:t})=>{const e=eh.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return He.createElement(He.Fragment,null,Object.values(e))};function WT(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:lw.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class UT extends He.Component{constructor(e){var n;super(e),this.editorContentRef=He.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=WT(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return He.createElement(He.Fragment,null,He.createElement("div",{ref:VT(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&He.createElement(HT,{contentComponent:e.contentComponent}))}}const KT=b.forwardRef((t,e)=>{const n=He.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return He.createElement(UT,{key:n,innerRef:e,...t})}),qT=He.memo(KT);var JT=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!(s==="_owner"&&e.$$typeof)&&!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n},YT=_T(JT),kv={exports:{}},oc={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm;function QT(){if(Vm)return oc;Vm=1;var t=He,e=eh;function n(u,c){return u===c&&(u!==0||1/u===1/c)||u!==u&&c!==c}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,l=t.useMemo,a=t.useDebugValue;return oc.useSyncExternalStoreWithSelector=function(u,c,d,f,p){var h=o(null);if(h.current===null){var g={hasValue:!1,value:null};h.current=g}else g=h.current;h=l(function(){function m(C){if(!y){if(y=!0,v=C,C=f(C),p!==void 0&&g.hasValue){var M=g.value;if(p(M,C))return w=M}return w=C}if(M=w,r(v,C))return M;var R=f(C);return p!==void 0&&p(M,R)?M:(v=C,w=R)}var y=!1,v,w,E=d===void 0?null:d;return[function(){return m(c())},E===null?void 0:function(){return m(E())}]},[c,d,f,p]);var k=i(u,h[0],h[1]);return s(function(){g.hasValue=!0,g.value=k},[k]),a(k),k},oc}kv.exports=QT();var GT=kv.exports;class XT{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function ZT(t){var e;const[n]=b.useState(()=>new XT(t.editor)),r=GT.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:YT);return b.useEffect(()=>n.watch(t.editor),[t.editor,n]),b.useDebugValue(r),r}const eO=!1,Md=typeof window>"u",tO=Md||!!(typeof window<"u"&&window.next);class nO{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return Md||tO?null:this.createEditor();if(this.options.current.immediatelyRender&&Md&&eO)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)===null||o===void 0?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)===null||o===void 0?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)===null||o===void 0?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)===null||o===void 0?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)===null||o===void 0?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)===null||o===void 0?void 0:o.call(i,...r)}};return new BT(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function rO(t={},e=[]){const n=b.useRef(t);n.current=t;const[r]=b.useState(()=>new nO(n)),i=eh.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return b.useDebugValue(i),b.useEffect(r.onRender(e)),ZT({editor:i,selector:({transactionNumber:o})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&o===0?0:o+1}),i}const iO=b.createContext({editor:null});iO.Consumer;const oO=b.createContext({onDragStart:void 0}),sO=()=>b.useContext(oO);He.forwardRef((t,e)=>{const{onDragStart:n}=sO(),r=t.as||"div";return He.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const lO=/^\s*>\s$/,aO=ct.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",je(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[rs({find:lO,type:this.type})]}}),uO=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,cO=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,dO=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,fO=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,hO=kn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",je(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Vi({find:uO,type:this.type}),Vi({find:dO,type:this.type})]},addPasteRules(){return[Ur({find:cO,type:this.type}),Ur({find:fO,type:this.type})]}}),pO="listItem",Hm="textStyle",Wm=/^\s*([-+*])\s$/,mO=ct.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",je(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(pO,this.editor.getAttributes(Hm)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=rs({find:Wm,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=rs({find:Wm,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Hm),editor:this.editor})),[t]}}),gO=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,yO=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,vO=kn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",je(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Vi({find:gO,type:this.type})]},addPasteRules(){return[Ur({find:yO,type:this.type})]}}),kO=/^```([a-z]+)?[\s\n]$/,xO=/^~~~([a-z]+)?[\s\n]$/,wO=ct.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",je(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:l})=>(l.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const l=i.after();return l===void 0?!1:r.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(U.near(r.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[Nd({find:kO,type:this.type,getAttributes:t=>({language:t[1]})}),Nd({find:xO,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Be({key:new xt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s,schema:l}=t.state,a=l.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},a)),s.selection.$from.parent.type!==this.type&&s.setSelection(W.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),SO=ct.create({name:"doc",topNode:!0,content:"block+"});function CO(t={}){return new Be({view(e){return new EO(e,t)}})}class EO{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return e.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let l=e.nodeBefore,a=e.nodeAfter;if(l||a){let u=this.editorView.nodeDOM(this.cursorPos-(l?l.nodeSize:0));if(u){let c=u.getBoundingClientRect(),d=l?c.bottom:c.top;l&&a&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:c.left,right:c.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let l=this.editorView.coordsAtPos(this.cursorPos);r={left:l.left-this.width/2,right:l.left+this.width/2,top:l.top,bottom:l.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let l=i.getBoundingClientRect();o=l.left-i.scrollLeft,s=l.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=h1(this.editorView.state.doc,s,this.editorView.dragging.slice);l!=null&&(s=l)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const bO=et.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[CO(this.options)]}});class pe extends U{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return pe.valid(r)?new pe(r):U.near(r)}content(){return I.empty}eq(e){return e instanceof pe&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new pe(e.resolve(n.pos))}getBookmark(){return new th(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!NO(e)||!MO(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&pe.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let l=e.node(s);if(n>0?e.indexAfter(s)<l.childCount:e.index(s)>0){o=l.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let a=e.doc.resolve(i);if(pe.valid(a))return a}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!_.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let l=e.doc.resolve(i);if(pe.valid(l))return l}return null}}}pe.prototype.visible=!1;pe.findFrom=pe.findGapCursorFrom;U.jsonID("gapcursor",pe);class th{constructor(e){this.pos=e}map(e){return new th(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return pe.valid(n)?new pe(n):U.near(n)}}function NO(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function MO(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function TO(){return new Be({props:{decorations:RO,createSelectionBetween(t,e,n){return e.pos==n.pos&&pe.valid(n)?new pe(n):null},handleClick:PO,handleKeyDown:OO,handleDOMEvents:{beforeinput:AO}}})}const OO=tv({ArrowLeft:Vs("horiz",-1),ArrowRight:Vs("horiz",1),ArrowUp:Vs("vert",-1),ArrowDown:Vs("vert",1)});function Vs(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,l=e>0?s.$to:s.$from,a=s.empty;if(s instanceof W){if(!o.endOfTextblock(n)||l.depth==0)return!1;a=!1,l=r.doc.resolve(e>0?l.after():l.before())}let u=pe.findGapCursorFrom(l,e,a);return u?(i&&i(r.tr.setSelection(new pe(u))),!0):!1}}function PO(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!pe.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&_.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new pe(r))),!0)}function AO(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof pe))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=T.empty;for(let s=r.length-1;s>=0;s--)i=T.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new I(i,0,0));return o.setSelection(W.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function RO(t){if(!(t.selection instanceof pe))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Se.create(t.doc,[Pt.widget(t.selection.head,e,{key:"gapcursor"})])}const DO=et.create({name:"gapCursor",addProseMirrorPlugins(){return[TO()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Y(B(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),IO=ct.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",je(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:l}=r.extensionManager,a=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&a&&s){const d=a.filter(f=>l.includes(f.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),LO=ct.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,je(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Nd({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Zl=200,Oe=function(){};Oe.prototype.append=function(e){return e.length?(e=Oe.from(e),!this.length&&e||e.length<Zl&&this.leafAppend(e)||this.length<Zl&&e.leafPrepend(this)||this.appendInner(e)):this};Oe.prototype.prepend=function(e){return e.length?Oe.from(e).append(this):this};Oe.prototype.appendInner=function(e){return new zO(this,e)};Oe.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Oe.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Oe.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Oe.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Oe.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Oe.from=function(e){return e instanceof Oe?e:e&&e.length?new xv(e):Oe.empty};var xv=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,l){for(var a=o;a<s;a++)if(i(this.values[a],l+a)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,l){for(var a=o-1;a>=s;a--)if(i(this.values[a],l+a)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=Zl)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=Zl)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Oe);Oe.empty=new xv([]);var zO=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var l=this.left.length;if(i<l&&this.left.forEachInner(r,i,Math.min(o,l),s)===!1||o>l&&this.right.forEachInner(r,Math.max(i-l,0),Math.min(this.length,o)-l,s+l)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var l=this.left.length;if(i>l&&this.right.forEachInvertedInner(r,i-l,Math.max(o,l)-l,s+l)===!1||o<l&&this.left.forEachInvertedInner(r,Math.min(i,l),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Oe);const jO=500;class _t{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,l,a,u=[],c=[];return this.items.forEach((d,f)=>{if(!d.step){i||(i=this.remapping(r,f+1),o=i.maps.length),o--,c.push(d);return}if(i){c.push(new Yt(d.map));let p=d.step.map(i.slice(o)),h;p&&s.maybeStep(p).doc&&(h=s.mapping.maps[s.mapping.maps.length-1],u.push(new Yt(h,void 0,void 0,u.length+c.length))),o--,h&&i.appendMap(h,o)}else s.maybeStep(d.step);if(d.selection)return l=i?d.selection.map(i.slice(o)):d.selection,a=new _t(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:a,transform:s,selection:l}}addTransform(e,n,r,i){let o=[],s=this.eventCount,l=this.items,a=!i&&l.length?l.get(l.length-1):null;for(let c=0;c<e.steps.length;c++){let d=e.steps[c].invert(e.docs[c]),f=new Yt(e.mapping.maps[c],d,n),p;(p=a&&a.merge(f))&&(f=p,c?o.pop():l=l.slice(0,l.length-1)),o.push(f),n&&(s++,n=void 0),i||(a=f)}let u=s-r.depth;return u>FO&&(l=BO(l,u),s-=u),new _t(l.append(o),s)}remapping(e,n){let r=new Mi;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new _t(this.items.append(e.map(n=>new Yt(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,l=this.eventCount;this.items.forEach(f=>{f.selection&&l--},i);let a=n;this.items.forEach(f=>{let p=o.getMirror(--a);if(p==null)return;s=Math.min(s,p);let h=o.maps[p];if(f.step){let g=e.steps[p].invert(e.docs[p]),k=f.selection&&f.selection.map(o.slice(a+1,p));k&&l++,r.push(new Yt(h,g,k))}else r.push(new Yt(h))},i);let u=[];for(let f=n;f<s;f++)u.push(new Yt(o.maps[f]));let c=this.items.slice(0,i).append(u).append(r),d=new _t(c,l);return d.emptyItemCount()>jO&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,l)=>{if(l>=e)i.push(s),s.selection&&o++;else if(s.step){let a=s.step.map(n.slice(r)),u=a&&a.getMap();if(r--,u&&n.appendMap(u,r),a){let c=s.selection&&s.selection.map(n.slice(r));c&&o++;let d=new Yt(u.invert(),a,c),f,p=i.length-1;(f=i.length&&i[p].merge(d))?i[p]=f:i.push(d)}}else s.map&&r--},this.items.length,0),new _t(Oe.from(i.reverse()),o)}}_t.empty=new _t(Oe.empty,0);function BO(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class Yt{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Yt(n.getMap().invert(),n,this.selection)}}}class Dn{constructor(e,n,r,i,o){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const FO=20;function _O(t,e,n,r){let i=n.getMeta(Ir),o;if(i)return i.historyState;n.getMeta(HO)&&(t=new Dn(t.done,t.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(Ir))return s.getMeta(Ir).redo?new Dn(t.done.addTransform(n,void 0,r,al(e)),t.undone,Um(n.mapping.maps),t.prevTime,t.prevComposition):new Dn(t.done,t.undone.addTransform(n,void 0,r,al(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),a=t.prevTime==0||!s&&t.prevComposition!=l&&(t.prevTime<(n.time||0)-r.newGroupDelay||!$O(n,t.prevRanges)),u=s?sc(t.prevRanges,n.mapping):Um(n.mapping.maps);return new Dn(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,al(e)),_t.empty,u,n.time,l??t.prevComposition)}else return(o=n.getMeta("rebased"))?new Dn(t.done.rebased(n,o),t.undone.rebased(n,o),sc(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new Dn(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),sc(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function $O(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function Um(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,o,s)=>e.push(o,s));return e}function sc(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function VO(t,e,n){let r=al(e),i=Ir.get(e).spec.config,o=(n?t.undone:t.done).popEvent(e,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),l=(n?t.done:t.undone).addTransform(o.transform,e.selection.getBookmark(),i,r),a=new Dn(n?l:o.remaining,n?o.remaining:l,null,0,-1);return o.transform.setSelection(s).setMeta(Ir,{redo:n,historyState:a})}let lc=!1,Km=null;function al(t){let e=t.plugins;if(Km!=e){lc=!1,Km=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){lc=!0;break}}return lc}const Ir=new xt("history"),HO=new xt("closeHistory");function WO(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Be({key:Ir,state:{init(){return new Dn(_t.empty,_t.empty,null,0,-1)},apply(e,n,r){return _O(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Sv:r=="historyRedo"?Cv:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function wv(t,e){return(n,r)=>{let i=Ir.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let o=VO(i,n,t);o&&r(e?o.scrollIntoView():o)}return!0}}const Sv=wv(!1,!0),Cv=wv(!0,!0),UO=et.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Sv(t,e),redo:()=>({state:t,dispatch:e})=>Cv(t,e)}},addProseMirrorPlugins(){return[WO(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),KO=ct.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",je(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,o=t();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):aT(n)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:s,dispatch:l})=>{var a;if(l){const{$to:u}=s.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?s.setSelection(W.create(s.doc,u.pos+1)):u.nodeAfter.isBlock?s.setSelection(_.create(s.doc,u.pos)):s.setSelection(W.create(s.doc,u.pos));else{const d=(a=u.parent.type.contentMatch.defaultType)===null||a===void 0?void 0:a.create();d&&(s.insert(c,d),s.setSelection(W.create(s.doc,c+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[FT({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),qO=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,JO=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,YO=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,QO=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,GO=kn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",je(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Vi({find:qO,type:this.type}),Vi({find:YO,type:this.type})]},addPasteRules(){return[Ur({find:JO,type:this.type}),Ur({find:QO,type:this.type})]}}),XO=ct.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",je(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),ZO="listItem",qm="textStyle",Jm=/^(\d+)\.\s$/,e2=ct.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",je(this.options.HTMLAttributes,n),0]:["ol",je(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ZO,this.editor.getAttributes(qm)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=rs({find:Jm,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=rs({find:Jm,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(qm)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),t2=ct.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",je(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),n2=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,r2=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,i2=kn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",je(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Vi({find:n2,type:this.type})]},addPasteRules(){return[Ur({find:r2,type:this.type})]}}),o2=ct.create({name:"text",group:"inline"}),s2=et.create({name:"starterKit",addExtensions(){var t,e,n,r,i,o,s,l,a,u,c,d,f,p,h,g,k,m;const y=[];return this.options.bold!==!1&&y.push(hO.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&y.push(aO.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&y.push(mO.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&y.push(vO.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&y.push(wO.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&y.push(SO.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&y.push(bO.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&y.push(DO.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&y.push(IO.configure((a=this.options)===null||a===void 0?void 0:a.hardBreak)),this.options.heading!==!1&&y.push(LO.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&y.push(UO.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&y.push(KO.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&y.push(GO.configure((f=this.options)===null||f===void 0?void 0:f.italic)),this.options.listItem!==!1&&y.push(XO.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&y.push(e2.configure((h=this.options)===null||h===void 0?void 0:h.orderedList)),this.options.paragraph!==!1&&y.push(t2.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&y.push(i2.configure((k=this.options)===null||k===void 0?void 0:k.strike)),this.options.text!==!1&&y.push(o2.configure((m=this.options)===null||m===void 0?void 0:m.text)),y}}),l2="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",a2="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Hi=(t,e)=>{for(const n in e)t[n]=e[n];return t},Td="numeric",Od="ascii",Pd="alpha",ul="asciinumeric",Hs="alphanumeric",Ad="domain",Ev="emoji",u2="scheme",c2="slashscheme",Ym="whitespace";function d2(t,e){return t in e||(e[t]=[]),e[t]}function Nr(t,e,n){e[Td]&&(e[ul]=!0,e[Hs]=!0),e[Od]&&(e[ul]=!0,e[Pd]=!0),e[ul]&&(e[Hs]=!0),e[Pd]&&(e[Hs]=!0),e[Hs]&&(e[Ad]=!0),e[Ev]&&(e[Ad]=!0);for(const r in e){const i=d2(r,n);i.indexOf(t)<0&&i.push(t)}}function f2(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function it(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}it.groups={};it.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],o=e.jr[r][1];if(o&&i.test(t))return o}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||it.groups;let i;return e&&e.j?i=e:(i=new it(e),n&&r&&Nr(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const o=t.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(t[s]);return i.tt(t[o-1],e,n,r)},tt(t,e,n,r){r=r||it.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const o=e;let s,l=i.go(t);if(l?(s=new it,Hi(s.j,l.j),s.jr.push.apply(s.jr,l.jr),s.jd=l.jd,s.t=l.t):s=new it,o){if(r)if(s.t&&typeof s.t=="string"){const a=Hi(f2(s.t,r),n);Nr(o,a,r)}else n&&Nr(o,n,r);s.t=o}return i.j[t]=s,s}};const K=(t,e,n,r,i)=>t.ta(e,n,r,i),Ct=(t,e,n,r,i)=>t.tr(e,n,r,i),Qm=(t,e,n,r,i)=>t.ts(e,n,r,i),A=(t,e,n,r,i)=>t.tt(e,n,r,i),ln="WORD",Rd="UWORD",is="LOCALHOST",Dd="TLD",Id="UTLD",cl="SCHEME",si="SLASH_SCHEME",nh="NUM",bv="WS",rh="NL",Mo="OPENBRACE",To="CLOSEBRACE",ea="OPENBRACKET",ta="CLOSEBRACKET",na="OPENPAREN",ra="CLOSEPAREN",ia="OPENANGLEBRACKET",oa="CLOSEANGLEBRACKET",sa="FULLWIDTHLEFTPAREN",la="FULLWIDTHRIGHTPAREN",aa="LEFTCORNERBRACKET",ua="RIGHTCORNERBRACKET",ca="LEFTWHITECORNERBRACKET",da="RIGHTWHITECORNERBRACKET",fa="FULLWIDTHLESSTHAN",ha="FULLWIDTHGREATERTHAN",pa="AMPERSAND",ma="APOSTROPHE",ga="ASTERISK",In="AT",ya="BACKSLASH",va="BACKTICK",ka="CARET",Bn="COLON",ih="COMMA",xa="DOLLAR",Qt="DOT",wa="EQUALS",oh="EXCLAMATION",Gt="HYPHEN",Sa="PERCENT",Ca="PIPE",Ea="PLUS",ba="POUND",Na="QUERY",sh="QUOTE",lh="SEMI",Xt="SLASH",Oo="TILDE",Ma="UNDERSCORE",Nv="EMOJI",Ta="SYM";var Mv=Object.freeze({__proto__:null,WORD:ln,UWORD:Rd,LOCALHOST:is,TLD:Dd,UTLD:Id,SCHEME:cl,SLASH_SCHEME:si,NUM:nh,WS:bv,NL:rh,OPENBRACE:Mo,CLOSEBRACE:To,OPENBRACKET:ea,CLOSEBRACKET:ta,OPENPAREN:na,CLOSEPAREN:ra,OPENANGLEBRACKET:ia,CLOSEANGLEBRACKET:oa,FULLWIDTHLEFTPAREN:sa,FULLWIDTHRIGHTPAREN:la,LEFTCORNERBRACKET:aa,RIGHTCORNERBRACKET:ua,LEFTWHITECORNERBRACKET:ca,RIGHTWHITECORNERBRACKET:da,FULLWIDTHLESSTHAN:fa,FULLWIDTHGREATERTHAN:ha,AMPERSAND:pa,APOSTROPHE:ma,ASTERISK:ga,AT:In,BACKSLASH:ya,BACKTICK:va,CARET:ka,COLON:Bn,COMMA:ih,DOLLAR:xa,DOT:Qt,EQUALS:wa,EXCLAMATION:oh,HYPHEN:Gt,PERCENT:Sa,PIPE:Ca,PLUS:Ea,POUND:ba,QUERY:Na,QUOTE:sh,SEMI:lh,SLASH:Xt,TILDE:Oo,UNDERSCORE:Ma,EMOJI:Nv,SYM:Ta});const ni=/[a-z]/,ac=new RegExp("\\p{L}","u"),uc=new RegExp("\\p{Emoji}","u"),cc=/\d/,Gm=/\s/,Xm=`
`,h2="️",p2="‍";let Ws=null,Us=null;function m2(t){t===void 0&&(t=[]);const e={};it.groups=e;const n=new it;Ws==null&&(Ws=Zm(l2)),Us==null&&(Us=Zm(a2)),A(n,"'",ma),A(n,"{",Mo),A(n,"}",To),A(n,"[",ea),A(n,"]",ta),A(n,"(",na),A(n,")",ra),A(n,"<",ia),A(n,">",oa),A(n,"（",sa),A(n,"）",la),A(n,"「",aa),A(n,"」",ua),A(n,"『",ca),A(n,"』",da),A(n,"＜",fa),A(n,"＞",ha),A(n,"&",pa),A(n,"*",ga),A(n,"@",In),A(n,"`",va),A(n,"^",ka),A(n,":",Bn),A(n,",",ih),A(n,"$",xa),A(n,".",Qt),A(n,"=",wa),A(n,"!",oh),A(n,"-",Gt),A(n,"%",Sa),A(n,"|",Ca),A(n,"+",Ea),A(n,"#",ba),A(n,"?",Na),A(n,'"',sh),A(n,"/",Xt),A(n,";",lh),A(n,"~",Oo),A(n,"_",Ma),A(n,"\\",ya);const r=Ct(n,cc,nh,{[Td]:!0});Ct(r,cc,r);const i=Ct(n,ni,ln,{[Od]:!0});Ct(i,ni,i);const o=Ct(n,ac,Rd,{[Pd]:!0});Ct(o,ni),Ct(o,ac,o);const s=Ct(n,Gm,bv,{[Ym]:!0});A(n,Xm,rh,{[Ym]:!0}),A(s,Xm),Ct(s,Gm,s);const l=Ct(n,uc,Nv,{[Ev]:!0});Ct(l,uc,l),A(l,h2,l);const a=A(l,p2);Ct(a,uc,l);const u=[[ni,i]],c=[[ni,null],[ac,o]];for(let d=0;d<Ws.length;d++)Tn(n,Ws[d],Dd,ln,u);for(let d=0;d<Us.length;d++)Tn(n,Us[d],Id,Rd,c);Nr(Dd,{tld:!0,ascii:!0},e),Nr(Id,{utld:!0,alpha:!0},e),Tn(n,"file",cl,ln,u),Tn(n,"mailto",cl,ln,u),Tn(n,"http",si,ln,u),Tn(n,"https",si,ln,u),Tn(n,"ftp",si,ln,u),Tn(n,"ftps",si,ln,u),Nr(cl,{scheme:!0,ascii:!0},e),Nr(si,{slashscheme:!0,ascii:!0},e),t=t.sort((d,f)=>d[0]>f[0]?1:-1);for(let d=0;d<t.length;d++){const f=t[d][0],h=t[d][1]?{[u2]:!0}:{[c2]:!0};f.indexOf("-")>=0?h[Ad]=!0:ni.test(f)?cc.test(f)?h[ul]=!0:h[Od]=!0:h[Td]=!0,Qm(n,f,f,h)}return Qm(n,"localhost",is,{ascii:!0}),n.jd=new it(Ta),{start:n,tokens:Hi({groups:e},Mv)}}function g2(t,e){const n=y2(e.replace(/[A-Z]/g,l=>l.toLowerCase())),r=n.length,i=[];let o=0,s=0;for(;s<r;){let l=t,a=null,u=0,c=null,d=-1,f=-1;for(;s<r&&(a=l.go(n[s]));)l=a,l.accepts()?(d=0,f=0,c=l):d>=0&&(d+=n[s].length,f++),u+=n[s].length,o+=n[s].length,s++;o-=d,s-=f,u-=d,i.push({t:c.t,v:e.slice(o-u,o),s:o-u,e:o})}return i}function y2(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),o,s=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function Tn(t,e,n,r,i){let o;const s=e.length;for(let l=0;l<s-1;l++){const a=e[l];t.j[a]?o=t.j[a]:(o=new it(r),o.jr=i.slice(),t.j[a]=o),t=o}return o=new it(n),o.jr=i.slice(),t.j[e[s-1]]=o,o}function Zm(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let o=0;for(;i.indexOf(t[r+o])>=0;)o++;if(o>0){e.push(n.join(""));for(let s=parseInt(t.substring(r,r+o),10);s>0;s--)n.pop();r+=o}else n.push(t[r]),r++}return e}const ss={defaultProtocol:"http",events:null,format:eg,formatHref:eg,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ah(t,e){e===void 0&&(e=null);let n=Hi({},ss);t&&(n=Hi(n,t instanceof ah?t.o:t));const r=n.ignoreTags,i=[];for(let o=0;o<r.length;o++)i.push(r[o].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}ah.prototype={o:ss,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:ss[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function eg(t){return t}function Tv(t,e){this.t="token",this.v=t,this.tk=e}Tv.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=ss.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),o=this.toFormattedString(t),s={},l=t.get("className",n,e),a=t.get("target",n,e),u=t.get("rel",n,e),c=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return s.href=r,l&&(s.class=l),a&&(s.target=a),u&&(s.rel=u),c&&Hi(s,c),{tagName:i,attributes:s,content:o,eventListeners:d}}};function uu(t,e){class n extends Tv{constructor(i,o){super(i,o),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const tg=uu("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),ng=uu("text"),v2=uu("nl"),Ks=uu("url",{isLink:!0,toHref(t){return t===void 0&&(t=ss.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==is&&t[1].t===Bn}}),Et=t=>new it(t);function k2(t){let{groups:e}=t;const n=e.domain.concat([pa,ga,In,ya,va,ka,xa,wa,Gt,nh,Sa,Ca,Ea,ba,Xt,Ta,Oo,Ma]),r=[ma,Bn,ih,Qt,oh,Na,sh,lh,ia,oa,Mo,To,ta,ea,na,ra,sa,la,aa,ua,ca,da,fa,ha],i=[pa,ma,ga,ya,va,ka,xa,wa,Gt,Mo,To,Sa,Ca,Ea,ba,Na,Xt,Ta,Oo,Ma],o=Et(),s=A(o,Oo);K(s,i,s),K(s,e.domain,s);const l=Et(),a=Et(),u=Et();K(o,e.domain,l),K(o,e.scheme,a),K(o,e.slashscheme,u),K(l,i,s),K(l,e.domain,l);const c=A(l,In);A(s,In,c),A(a,In,c),A(u,In,c);const d=A(s,Qt);K(d,i,s),K(d,e.domain,s);const f=Et();K(c,e.domain,f),K(f,e.domain,f);const p=A(f,Qt);K(p,e.domain,f);const h=Et(tg);K(p,e.tld,h),K(p,e.utld,h),A(c,is,h);const g=A(f,Gt);K(g,e.domain,f),K(h,e.domain,f),A(h,Qt,p),A(h,Gt,g);const k=A(h,Bn);K(k,e.numeric,tg);const m=A(l,Gt),y=A(l,Qt);K(m,e.domain,l),K(y,i,s),K(y,e.domain,l);const v=Et(Ks);K(y,e.tld,v),K(y,e.utld,v),K(v,e.domain,l),K(v,i,s),A(v,Qt,y),A(v,Gt,m),A(v,In,c);const w=A(v,Bn),E=Et(Ks);K(w,e.numeric,E);const C=Et(Ks),M=Et();K(C,n,C),K(C,r,M),K(M,n,C),K(M,r,M),A(v,Xt,C),A(E,Xt,C);const R=A(a,Bn),D=A(u,Bn),V=A(D,Xt),fe=A(V,Xt);K(a,e.domain,l),A(a,Qt,y),A(a,Gt,m),K(u,e.domain,l),A(u,Qt,y),A(u,Gt,m),K(R,e.domain,C),A(R,Xt,C),K(fe,e.domain,C),K(fe,n,C),A(fe,Xt,C);const z=[[Mo,To],[ea,ta],[na,ra],[ia,oa],[sa,la],[aa,ua],[ca,da],[fa,ha]];for(let F=0;F<z.length;F++){const[q,G]=z[F],Fe=A(C,q);A(M,q,Fe),A(Fe,G,C);const Ee=Et(Ks);K(Fe,n,Ee);const P=Et();K(Fe,r),K(Ee,n,Ee),K(Ee,r,P),K(P,n,Ee),K(P,r,P),A(Ee,G,C),A(P,G,C)}return A(o,is,v),A(o,rh,v2),{start:o,tokens:Mv}}function x2(t,e,n){let r=n.length,i=0,o=[],s=[];for(;i<r;){let l=t,a=null,u=null,c=0,d=null,f=-1;for(;i<r&&!(a=l.go(n[i].t));)s.push(n[i++]);for(;i<r&&(u=a||l.go(n[i].t));)a=null,l=u,l.accepts()?(f=0,d=l):f>=0&&f++,i++,c++;if(f<0)i-=c,i<r&&(s.push(n[i]),i++);else{s.length>0&&(o.push(dc(ng,e,s)),s=[]),i-=f,c-=f;const p=d.t,h=n.slice(i-c,i);o.push(dc(p,e,h))}}return s.length>0&&o.push(dc(ng,e,s)),o}function dc(t,e,n){const r=n[0].s,i=n[n.length-1].e,o=e.slice(r,i);return new t(o,n)}const w2=typeof console<"u"&&console&&console.warn||(()=>{}),S2="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",ae={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function C2(){it.groups={},ae.scanner=null,ae.parser=null,ae.tokenQueue=[],ae.pluginQueue=[],ae.customSchemes=[],ae.initialized=!1}function rg(t,e){if(e===void 0&&(e=!1),ae.initialized&&w2(`linkifyjs: already initialized - will not register custom scheme "${t}" ${S2}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);ae.customSchemes.push([t,e])}function E2(){ae.scanner=m2(ae.customSchemes);for(let t=0;t<ae.tokenQueue.length;t++)ae.tokenQueue[t][1]({scanner:ae.scanner});ae.parser=k2(ae.scanner.tokens);for(let t=0;t<ae.pluginQueue.length;t++)ae.pluginQueue[t][1]({scanner:ae.scanner,parser:ae.parser});ae.initialized=!0}function Ov(t){return ae.initialized||E2(),x2(ae.parser.start,t,g2(ae.scanner.start,t))}function Pv(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new ah(n),i=Ov(t),o=[];for(let s=0;s<i.length;s++){const l=i[s];l.isLink&&(!e||l.t===e)&&r.check(l)&&o.push(l.toFormattedObject(r))}return o}function b2(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function N2(t){return new Be({key:new xt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(u=>u.docChanged)&&!n.doc.eq(r.doc),o=e.some(u=>u.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,l=GM(n.doc,[...e]);if(sT(l).forEach(({newRange:u})=>{const c=ZM(r.doc,u,p=>p.isTextblock);let d,f;if(c.length>1?(d=c[0],f=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):c.length&&r.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(d=c[0],f=r.doc.textBetween(d.pos,u.to,void 0," ")),d&&f){const p=f.split(" ").filter(m=>m!=="");if(p.length<=0)return!1;const h=p[p.length-1],g=d.pos+f.lastIndexOf(h);if(!h)return!1;const k=Ov(h).map(m=>m.toObject(t.defaultProtocol));if(!b2(k))return!1;k.filter(m=>m.isLink).map(m=>({...m,from:g+m.start+1,to:g+m.end+1})).filter(m=>r.schema.marks.code?!r.doc.rangeHasMark(m.from,m.to,r.schema.marks.code):!0).filter(m=>t.validate(m.value)).forEach(m=>{Xf(m.from,m.to,r.doc).some(y=>y.mark.type===t.type)||s.addMark(m.from,m.to,t.type.create({href:m.href}))})}}),!!s.steps.length)return s}})}function M2(t){return new Be({key:new xt("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,o;if(r.button!==0||!e.editable)return!1;let s=r.target;const l=[];for(;s.nodeName!=="DIV";)l.push(s),s=s.parentNode;if(!l.find(f=>f.nodeName==="A"))return!1;const a=yv(e.state,t.type.name),u=r.target,c=(i=u==null?void 0:u.href)!==null&&i!==void 0?i:a.href,d=(o=u==null?void 0:u.target)!==null&&o!==void 0?o:a.target;return u&&c?(window.open(c,d),!0):!1}}})}function T2(t){return new Be({key:new xt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:o}=i,{empty:s}=o;if(s)return!1;let l="";r.content.forEach(u=>{l+=u.textContent});const a=Pv(l,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!a?!1:(t.editor.commands.setMark(t.type,{href:a.href}),!0)}}})}const O2=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function ig(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(O2,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const P2=kn.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){rg(t);return}rg(t.scheme,t.optionalSlashes)})},onDestroy(){C2()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!ig(e,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:t}){return ig(t.href,this.options.protocols)?["a",je(this.options.HTMLAttributes,t),0]:["a",je(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ur({find:t=>{const e=[];if(t){const{validate:n}=this.options,r=Pv(t).filter(i=>i.isLink&&n(i.value));r.length&&r.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(N2({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&t.push(M2({type:this.type})),this.options.linkOnPaste&&t.push(T2({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}});function A2({content:t,onChange:e}){const n=rO({extensions:[s2,P2.configure({openOnClick:!1})],content:t,onUpdate:({editor:r})=>{e(r.getHTML())}});return n?x.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[x.jsxs("div",{className:"border-b p-2 flex gap-2 bg-gray-50 dark:bg-gray-800",children:[x.jsx("button",{onClick:()=>n.chain().focus().toggleBold().run(),className:`p-2 rounded ${n.isActive("bold")?"bg-gray-200 dark:bg-gray-700":""}`,children:x.jsx(vC,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>n.chain().focus().toggleItalic().run(),className:`p-2 rounded ${n.isActive("italic")?"bg-gray-200 dark:bg-gray-700":""}`,children:x.jsx(kC,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>n.chain().focus().toggleBulletList().run(),className:`p-2 rounded ${n.isActive("bulletList")?"bg-gray-200 dark:bg-gray-700":""}`,children:x.jsx(xC,{className:"w-4 h-4"})})]}),x.jsx(qT,{editor:n,className:"prose dark:prose-invert max-w-none p-4 min-h-[200px]"})]}):null}function R2({blog:t,onSave:e,onCancel:n}){const[r,i]=b.useState({...t}),o=s=>{s.preventDefault(),e(r)};return x.jsxs("form",{onSubmit:o,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title"}),x.jsx("input",{type:"text",required:!0,value:r.title,onChange:s=>i({...r,title:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),x.jsx("input",{type:"text",required:!0,value:r.description,onChange:s=>i({...r,description:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Image URL"}),x.jsx("input",{type:"url",required:!0,value:r.imageUrl,onChange:s=>i({...r,imageUrl:s.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),x.jsx(j0,{tags:r.tags,onChange:s=>i({...r,tags:s})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),x.jsx(A2,{content:r.content,onChange:s=>i({...r,content:s})})]}),x.jsxs("div",{className:"flex justify-end gap-4",children:[x.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),x.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Save Changes"})]})]})}function D2(){const{id:t}=N0(),e=hs(),[n,r]=qa("blogs",Ja),i=n.find(s=>s.id===t);if(!i)return x.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[x.jsx("h1",{className:"text-2xl font-bold mb-4 dark:text-white",children:"Blog post not found"}),x.jsx("button",{onClick:()=>e("/blogs"),className:"text-indigo-600 dark:text-indigo-400 hover:text-indigo-800 dark:hover:text-indigo-300",children:"Back to Home"})]});const o=s=>{const l=n.map(a=>a.id===t?{...s,id:t,date:i.date,author:i.author}:a);r(l),e(`/blog/${t}`)};return x.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[x.jsx("h1",{className:"text-2xl font-bold mb-4 dark:text-white",children:"Edit Blog Post"}),x.jsx(R2,{blog:i,onSave:o,onCancel:()=>e(`/blog/${t}`)})]})}function I2(){const{theme:t,toggleTheme:e}=uS();return x.jsx("button",{onClick:e,className:`fixed top-4 right-4 p-2 rounded-full bg-gray-200 dark:bg-gray-800 
        hover:bg-gray-300 dark:hover:bg-gray-700 transition-colors`,"aria-label":"Toggle theme",children:t==="light"?x.jsx(wC,{className:"w-5 h-5 text-gray-800 dark:text-gray-200"}):x.jsx(bC,{className:"w-5 h-5 text-gray-800 dark:text-gray-200"})})}function L2(){const[t,e]=b.useState(""),[n,r]=b.useState(""),[i,o]=b.useState(""),{login:s}=F0(),l=hs(),a=u=>{u.preventDefault(),s(t,n)?l("/blogs"):o("Invalid username or password")};return x.jsxs("div",{className:"max-w-md mx-auto mt-20 p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[x.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-900 dark:text-white",children:"Login"}),i&&x.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:i}),x.jsxs("form",{onSubmit:a,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username"}),x.jsx("input",{type:"text",value:t,onChange:u=>e(u.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),x.jsx("input",{type:"password",value:n,onChange:u=>r(u.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]}),x.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors",children:"Login"})]})]})}function z2(){return x.jsx(OC,{children:x.jsx(aS,{children:x.jsx(iS,{children:x.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors text-gray-900 dark:text-gray-100",children:[x.jsx(I2,{}),x.jsxs(Gw,{children:[x.jsx(ri,{path:"/",element:x.jsx(TC,{})}),x.jsx(ri,{path:"/login",element:x.jsx(L2,{})}),x.jsx(ri,{path:"/blogs",element:x.jsx(zC,{})}),x.jsx(ri,{path:"/blog/:id",element:x.jsx(jC,{})}),x.jsx(ri,{path:"/blog/:id/edit",element:x.jsx(D2,{})})]})]})})})})}const Av=document.getElementById("root");if(!Av)throw new Error("Failed to find the root element");v0(Av).render(x.jsx(b.StrictMode,{children:x.jsx(z2,{})}));
